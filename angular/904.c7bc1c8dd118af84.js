"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[904],{61904:(Z,P,p)=>{p.r(P),p.d(P,{TeacherGroupModule:()=>et});var x=p(96814),r=p(56223),C=p(19347),v=p(21266),M=p(42753),_=p(37722),d=p(21494),a=p(25391),u=p(95545),g=p(69162),l=p(84155),s=p(78217),m=p(78030),h=p(82481),O=p(43048),y=p(52572),k=p(45337),D=p(47496),E=p(72164),K=p(91765),e=p(65879),j=p(70546),I=p(67679),H=p(78497),G=p(36727);function W(i,f){1&i&&(e.TgZ(0,"div",14)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij("",e.lcZ(3,1,"lang_required_enter_name_group"),"!"))}function $(i,f){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",15)(2,"g",16)(3,"g",17),e._UZ(4,"circle",18),e.TgZ(5,"path",19),e._UZ(6,"animateTransform",20),e.qZA()()()()())}function V(i,f){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_button_save")))}function X(i,f){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_button_update")))}let ee=(()=>{class i extends E.e{getErrorType(t,n){return!(!this.form.controls[t]||!this.form.controls[t].errors||!this.form.controls[t].errors?.[n])}confirmAction(){if(this.obj){let t=this.form.getRawValue();this.form.valid?(this.initStatusObj(),this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateGroupWithTeamPost({id:this.obj?.id??0,groupName:t.groupName}).subscribe(o=>{1==o.success?(this.btnCloseDialog(o.data?.obj?.id),this.successStatusObj("lang_auto_sua_nhom_thanh_cong",!0)):(this.btnCloseDialog(void 0),this.errorStatusObj(o.message??"",!0))}))):this.stopStatusObj()}else{let t=this.form.getRawValue();this.form.valid?(this.initStatusObj(),this.subscriptions.add(this.teacherGroupService.apiTeacherGroupSaveGroupWithTeamPost({groupName:t.groupName}).subscribe(o=>{1==o.success?(this.btnCloseDialog(o.data?.obj?.id),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):(this.btnCloseDialog(void 0),this.errorStatusObj(o.message??"",!0))}))):this.stopStatusObj()}}btnCloseDialog(t){this.dialogRef.close(t)}ngOnInit(){this.obj&&this.form.controls.groupName.setValue(this.obj.name??""),super.ngOnInit()}constructor(t,n,o){super(o,n),this.teacherGroupService=t,this.dialogRef=n,this.data=o,this.obj=o.obj,this.form=new r.cw({groupName:new r.NI("",{nonNullable:!0,validators:[r.kI.required,K._.noWhiteSpace]})})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(j.Kq),e.Y36(C.so,8),e.Y36(C.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-group"]],features:[e.qOj],decls:25,vars:20,consts:[[1,"box"],[3,"formGroup","keydown.enter"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-3"],[1,"intro","mt-2"],["for","group-name",1,"form-label"],["type","text","id","group-name","id","full-name","formControlName","groupName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-1 font-medium",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","add_group-PPEkpZ01mmo","type","button",1,"btn","btn-secondary","w-32","mr-2",3,"click"],["azt-track-service","add_group-R8ReElN3hUb",1,"btn","w-32","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"text-danger","text-xs","mt-1","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("keydown.enter",function(){return o.confirmAction()}),e.TgZ(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.ALo(6,"mytranslate"),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e._UZ(14,"input",8),e.ALo(15,"mytranslate"),e.qZA(),e.YNc(16,W,4,3,"div",9),e.qZA()()(),e.TgZ(17,"div",10)(18,"button",11),e.NdJ("click",function(){return o.btnCloseDialog(void 0)}),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"button",12),e.NdJ("click",function(){return o.confirmAction()}),e.YNc(22,$,7,0,"span",13),e.YNc(23,V,3,3,"span",13),e.YNc(24,X,3,3,"span",13),e.qZA()()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",o.obj?e.lcZ(7,12,"lang_teacher_group_utilt_add_group_edit_group_teacher"):e.lcZ(6,10,"lang_teacher_group_utilt_add_group_add_group_teacher")," "),e.xp6(7),e.Oqu(e.lcZ(13,14,"lang_teacher_group_utilt_add_group_lable_group")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,16,"lang_teacher_group_utilt_add_group_lable_group")),e.xp6(2),e.Q6J("ngIf",o.form.controls.groupName.invalid&&o.form.controls.groupName.dirty),e.xp6(3),e.hij(" ",e.lcZ(20,18,"lang_button_cancel")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.obj),e.xp6(1),e.Q6J("ngIf",o.obj))},dependencies:[x.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,I.M,H.R,G.JV],encapsulation:2})}return i})();var te=p(55484);function ne(i,f){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher")," "),e.xp6(3),e.Oqu(null==t.data.teacherObj?null:t.data.teacherObj.fullName),e.xp6(1),e.hij(" ",e.lcZ(6,5,"lang_teacher_group_utilt_delete_dialog_out_group"),"? ")}}function oe(i,f){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.xp6(3),e.Oqu(null==t.data.groupObj?null:t.data.groupObj.name)}}function re(i,f){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.xp6(3),e.Oqu(null==t.data.teacherObj?null:t.data.teacherObj.fullName)}}function ie(i,f){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher_in_group")," "),e.xp6(3),e.Oqu(null==t.data.groupObj?null:t.data.groupObj.name)}}function ae(i,f){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",14)(2,"g",15)(3,"g",16),e._UZ(4,"circle",17),e.TgZ(5,"path",18),e._UZ(6,"animateTransform",19),e.qZA()()()()())}let L=(()=>{class i extends E.e{confirmDelete(){switch(this.initStatusObj(),this.data.type){case"delete_member_in_group":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithGroupPost({groupId:this.data.groupObj?.id??0,teacherTeamId:this.data?.teacherObj?.id??0}).subscribe(o=>{1===o.success?(this.successStatusObj("lang_auto_xoa_giao_vien_khoi_nhom_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(o.message??"",!0)}));break;case"delete_group":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteGroupWithTeamGet(this.data?.groupObj?.id??0).subscribe(o=>{1===o.success?(this.successStatusObj("lang_auto_xoa_nhom_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(o.message??"",!0)}));break;case"delete_teacher":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithTeamGet(this.data?.teacherObj?.id??0).subscribe(o=>{1==o.success?(this.successStatusObj("lang_auto_xoa_giao_vien_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(o.message??"",!0)}));break;case"delete_all_teachers_in_group":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteMultipleTeacherWithGroupPost({groupId:this.data?.groupObj?.id??0,teamTeacherIds:this.data.teacherIds??[]}).subscribe(o=>{1==o.success?(this.successStatusObj("lang_auto_xoa_giao_vien_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(o.message??"",!0)}))}}btnCloseDialog(){this.dialogRef.close()}constructor(t,n,o){super(n,t),this.dialogRef=t,this.data=n,this.teacherGroupService=o}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.so,8),e.Y36(C.WI,8),e.Y36(j.Kq))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete-teacher-dialog"]],features:[e.qOj],decls:22,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_dialog-PC8_endr1kw",1,"btn","w-32","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_dialog-GyDprZ5vvvt",1,"btn","w-32","btn-danger",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5)(6,"path",6)(7,"path",7)(8,"line",8)(9,"line",9),e.qZA(),e.YNc(10,ne,7,7,"span",10),e.YNc(11,oe,5,4,"span",10),e.YNc(12,re,5,4,"span",10),e.YNc(13,ie,5,4,"span",10),e.qZA()()(),e.kcU(),e.TgZ(14,"div",11)(15,"button",12),e.NdJ("click",function(){return o.btnCloseDialog()}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return o.confirmDelete()}),e.YNc(19,ae,7,0,"span",10),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()),2&n&&(e.xp6(10),e.Q6J("ngIf","delete_member_in_group"==(null==o.data?null:o.data.type)),e.xp6(1),e.Q6J("ngIf","delete_group"==(null==o.data?null:o.data.type)),e.xp6(1),e.Q6J("ngIf","delete_teacher"==(null==o.data?null:o.data.type)),e.xp6(1),e.Q6J("ngIf","delete_all_teachers_in_group"==(null==o.data?null:o.data.type)),e.xp6(3),e.hij(" ",e.lcZ(17,8,"lang_cms_common_close_btn")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(21,10,"lang_cms_common_confirm_btn")," "))},dependencies:[x.O5,G.JV],encapsulation:2})}return i})();var J=p(88131),B=p(2783),se=p(22307),le=p(23433),S=p(77988),U=p(32651),N=p(92596),q=p(43389),Q=p(85904),ce=p(72358),pe=p(98129);function de(i,f){1&i&&e._UZ(0,"azt-loading-effect")}function ge(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60),e._UZ(2,"azt-create-avatar",61),e.TgZ(3,"button",62),e.NdJ("click",function(){const o=e.CHM(t),c=o.$implicit,b=o.index,w=e.oxw(2);return e.KtG(w.deleteTeacherInGroupDialog(c,b))}),e.O4$(),e.TgZ(4,"svg",63),e._UZ(5,"line",64)(6,"line",65),e.qZA()()(),e.kcU(),e.TgZ(7,"div",66),e._uU(8),e.qZA()()}if(2&i){const t=f.$implicit;e.xp6(2),e.Q6J("nameCreateAvatar",t.fullName)("size",40),e.xp6(5),e.s9C("matTooltip",t.fullName),e.xp6(1),e.hij(" ",t.fullName," ")}}function ue(i,f){if(1&i&&(e.TgZ(0,"div",42)(1,"h3",43),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"span",44),e._uU(5),e.qZA()(),e.TgZ(6,"div",45)(7,"div",46)(8,"button",47),e.O4$(),e.TgZ(9,"svg",48),e._UZ(10,"circle",49)(11,"circle",50)(12,"circle",51),e.qZA()()()()(),e.kcU(),e.TgZ(13,"ng-scrollbar",52)(14,"div",53)(15,"a",54)(16,"div",55),e.O4$(),e.TgZ(17,"svg",56),e._UZ(18,"line",27)(19,"line",28),e.qZA()(),e.kcU(),e.TgZ(20,"div",57),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()(),e.YNc(23,ge,9,4,"div",58),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(5),o=e.MAs(43);e.xp6(2),e.hij(" ",e.lcZ(3,6,"lang_teacher_group_group_member_in_group"),": "),e.xp6(3),e.hij(" ",null==t.groupObj?null:t.groupObj.name," "),e.xp6(3),e.Q6J("matMenuTriggerFor",n),e.xp6(7),e.Q6J("matMenuTriggerFor",o),e.xp6(6),e.hij(" ",e.lcZ(22,8,"lang_teacher_group_group_add_member")," "),e.xp6(2),e.Q6J("ngForOf",t.teacherObjsInGroup)}}function he(i,f){if(1&i&&e._UZ(0,"azt-create-avatar",76),2&i){const t=e.oxw().$implicit;e.MGl("matTooltip","id:",t.teacherId,""),e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function me(i,f){if(1&i&&e._UZ(0,"azt-create-avatar",61),2&i){const t=e.oxw().$implicit;e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function _e(i,f){if(1&i&&(e.TgZ(0,"div",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("matTooltip",t.phone),e.xp6(1),e.hij(" ",t.phone," ")}}function fe(i,f){if(1&i&&(e.TgZ(0,"div",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("matTooltip",t.email),e.xp6(1),e.hij(" ",t.email," ")}}function be(i,f){1&i&&e._UZ(0,"div",78)}function xe(i,f){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",68)(2,"button",69),e.NdJ("click",function(){const c=e.CHM(t).$implicit,b=e.oxw(2);return e.KtG(b.addMemberToGroup(c))}),e.YNc(3,he,1,3,"azt-create-avatar",70),e.YNc(4,me,1,2,"azt-create-avatar",71),e.TgZ(5,"div",72)(6,"p",73),e._uU(7),e.qZA(),e.YNc(8,_e,2,2,"div",74),e.YNc(9,fe,2,2,"div",74),e.qZA()(),e.YNc(10,be,1,0,"div",75),e.qZA(),e.BQk()}if(2&i){const t=f.$implicit,n=e.oxw(2);let o,c;e.xp6(1),e.Akn(n.listMemberInGroupIds.hasOwnProperty(null!==(o=null==t?null:t.id)&&void 0!==o?o:0)?"opacity:0.5":""),e.xp6(1),e.Akn(n.listMemberInGroupIds.hasOwnProperty(null!==(c=null==t?null:t.id)&&void 0!==c?c:0)?"cursor:default":""),e.xp6(1),e.Q6J("ngIf",null!=t.teacherId),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(3),e.hij(" ",t.fullName," "),e.xp6(1),e.Q6J("ngIf",t.phone),e.xp6(1),e.Q6J("ngIf",t.email),e.xp6(1),e.Q6J("ngIf",n.isLoadingMoreMembers==t.id)}}function ve(i,f){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,xe,11,10,"ng-container",67),e.ALo(2,"appFilter"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,null==t.teacherAndGroupObj?null:t.teacherAndGroupObj.teachers,t.searchMemberInGroupKey.value))}}function Oe(i,f){1&i&&(e.TgZ(0,"div",79)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_khong_tim_thay")," "))}function Ce(i,f){1&i&&(e.TgZ(0,"div",79)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_not_data")))}let we=(()=>{class i extends D.Q{checkTeacherInGroup(){null!=this.teacherObjsInGroup&&null!=this.teacherAndGroupObj&&this.teacherObjsInGroup.map(n=>n.id).forEach(n=>this.listMemberInGroupIds[n??0]=n??0)}viewDeleteDialog(t){this.sAztDialogService.open(L,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:t,restoreFocus:!1}).afterClosed().subscribe(o=>{if(o)switch(o.type){case"delete_member_in_group":t.index&&this.teacherObjsInGroup?.splice(t.index,1),this.getGroupPermissionObjs(this.groupObj?.id);break;case"delete_all_teachers_in_group":this.getGroupPermissionObjs(this.groupObj?.id)}})}deleteTeacherInGroupDialog(t,n){this.viewDeleteDialog({teacherObj:t,groupObj:this.groupObj,index:n,type:"delete_member_in_group"})}deleteAllTeacherInGroupDialog(t){let n=[];this.teacherObjsInGroup?.forEach(o=>{this.commonService.isExistInArray(n,o.id)||o.id&&n.push(o.id)}),this.viewDeleteDialog({groupObj:t,teacherIds:n,type:"delete_all_teachers_in_group"})}getGroupPermissionObjs(t){t?(this.initStatusObj(),this.permissionTeamService.apiPermissionTeamGetAllPermissionWithGroupGet(t).subscribe(n=>{1===n.success?(this.teacherObjsInGroup=this.sortService.sortFirstNameStudents(this.commonService.myClone(n?.data?.teacherObjs)??[]),this.checkTeacherInGroup(),this.stopStatusObj()):this.errorStatusObj("lang_auto_tai_du_lieu_khong_thanh_cong",!0)})):this.stopStatusObj()}addMemberToGroup(t){this.isLoadingMoreMembers=t.id,this.teacherGroupService.apiTeacherGroupAddTeacherWithGroupPost({groupId:this.groupObj?.id??0,teacherTeamId:t.id??0}).subscribe(o=>{1===o.success?(this.teacherObjsInGroup?.push(t),this.checkTeacherInGroup(),this.showSuccessSnack("lang_auto_them_giao_vien_vao_nhom_thanh_cong"),this.isLoadingMoreMembers=!1,this.searchMemberInGroupKey.setValue("")):(this.showErrorSnack(o.message??""),this.isLoadingMoreMembers=!1,this.searchMemberInGroupKey.setValue(""))})}addAllTeacherToGroup(){let t=this.form.getRawValue(),o=(t.listPhone?t.listPhone.toString():"").replace(/\n/g," ").split(" "),c=[];if(o.forEach(b=>{this.commonService.isExistInArray(c,b)||""!=b.trim()&&c.push(b.trim())}),c.length>0){let b={groupId:this.groupObj?.id??0,teacherPhone:c};this.initStatusObj(),this.teacherGroupService.apiTeacherGroupAddTeachersWithGroupPost(b).subscribe(w=>{if(1===w.success){let T=w?.data?.countSave?w.data.countSave:0,A=w?.data?.totalTeacher?w.data.totalTeacher:0,z=this.commonService.myTranslateInstant("lang_auto_them_thanh_cong"),tt=this.commonService.myTranslateInstant("lang_auto_giao_vien_vao_nhom");T===A?this.showSuccessSnack("lang_auto_them_giao_vien_vao_nhom_thanh_cong"):this.commonService.snackSuccess(z+" "+T+"/"+A+" "+tt+"!"),this.getGroupPermissionObjs(this.groupObj?.id)}else this.errorStatusObj(w.message??"",!0)})}}ngOnChanges(){this.checkTeacherInGroup()}ngOnInit(){super.ngOnInit()}constructor(t,n,o,c){super(),this.teacherGroupService=t,this.permissionTeamService=n,this.sortService=o,this.sAztDialogService=c,this.searchMemberInGroupKey=new r.NI("",{nonNullable:!0}),this.listMemberInGroupIds={},this.form=new r.cw({listPhone:new r.NI("",{nonNullable:!0,validators:[r.kI.required]})})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(j.Kq),e.Y36(j.sb),e.Y36(J.V),e.Y36(B.C))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-teacher-group-member-in-group-box"]],inputs:{groupObj:"groupObj",teacherAndGroupObj:"teacherAndGroupObj",teacherObjsInGroup:"teacherObjsInGroup"},features:[e.qOj,e.TTD],decls:59,vars:31,consts:[[1,"box","p-0","rounded-md","border","border-slate-200/60","dark:border-darkmode-400"],[4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuAccountIngroup","matMenu"],[1,"box","p-2"],["mat-menu-item","",1,"setting_options",2,"min-width","140px",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],["azt-track-service","member_in_group_box-bnMPdq7F8Ed","mat-menu-item","",1,"setting_options",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["menuAddMultiple","matMenu"],["azt-track-service","member_in_group_box-sRk-Lz9tah1",1,"search-member","box","p-2",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify"],[1,"text-right"],["azt-track-service","member_in_group_box-QOn42qoolK7",1,"btn","btn-sm","btn-primary",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","margin-top","3px"],["addMemberMenu","matMenu"],["azt-track-service","member_in_group_box-I_mrcakMKa_",1,"search-member","box",3,"click"],[1,"azt-search","relative","w-full","mr-3","p-2"],["type","text",1,"form-control","py-2","px-4","border-transparent","bg-slate-100","pr-10","ng-untouched","ng-pristine","ng-valid",3,"placeholder","formControl"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search","data-lucide","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","mr-3","right-0"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[1,"dropdown-menu","show","relative",2,"height","220px","overflow","hidden"],["pointerEventsMethod","scrollbar",3,"visibility"],[1,"group-content"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["dataNull",""],[1,"flex","items-center","p-3","border-b","border-slate-200/60","dark:border-darkmode-400","text-slate-500","bg-slate-100","dark:bg-darkmode-300",2,"height","50px"],[1,"text-md","font-medium","mr-auto"],[2,"font-weight","bold"],[1,"flex"],[1,"dropdown"],["aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","text-slate-500","hover:bg-gray","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],["appearance","standard","track","horizontal","trackclass","scrollbar-track","thumbclass","scrollbar-thumb",2,"height","90px"],[1,"flex","p-3"],[1,"w-10","mr-4","cursor-pointer",3,"matMenuTriggerFor"],[1,"w-10","h-10","flex-none","image-fit","bg-slate-100","dark:bg-darkmode-300","flex","items-center","justify-center","rounded-full"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],[1,"text-xs","text-slate-500","truncate","text-center","mt-2"],["class","w-10 mr-4 cursor-pointer",4,"ngFor","ngForOf"],[1,"w-10","mr-4","cursor-pointer"],[1,"w-10","h-10","flex-none","image-fit","rounded-full"],[3,"nameCreateAvatar","size"],["azt-track-service","member_in_group_box-Jk_LZb7HLml",1,"hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"position","absolute","top","-3px","right","-3px",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-xs","text-slate-500","truncate","text-center","mt-2",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"group-item","hover:bg-slate-100","dark:hover:bg-darkmode-400"],["azt-track-service","member_in_group_box-or5qN1fKkGN",1,"group-btn",3,"click"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"group-info",2,"width","100%"],[1,"group-name"],["class","w-full truncate text-xs text-slate-500 mt-0.5","style","padding-left: 15px",3,"matTooltip",4,"ngIf"],["class","spinner-border spinner-border-sm","style","color: silver","role","status",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size"],[1,"w-full","truncate","text-xs","text-slate-500","mt-0.5",2,"padding-left","15px",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","silver"],[2,"display","flex","justify-content","center","align-items","center"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,de,1,0,"azt-loading-effect",1),e.YNc(2,ue,24,10,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(4,"mat-menu",3,4)(6,"div",5)(7,"button",6),e.O4$(),e.TgZ(8,"svg",7),e._UZ(9,"path",8)(10,"circle",9)(11,"line",10)(12,"line",11),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.deleteAllTeacherInGroupDialog(o.groupObj)}),e.O4$(),e.TgZ(16,"svg",13),e._UZ(17,"polyline",14)(18,"path",15),e.qZA(),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()()(),e.kcU(),e.TgZ(21,"mat-menu",null,16)(23,"div",17),e.NdJ("click",function(b){return b.stopPropagation()}),e.TgZ(24,"div",18)(25,"p",19),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"form",20),e._UZ(29,"textarea",21),e.qZA()(),e.TgZ(30,"div",22)(31,"small",23),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()(),e.TgZ(34,"div",24)(35,"button",25),e.NdJ("click",function(){return o.addAllTeacherToGroup()}),e.O4$(),e.TgZ(36,"svg",26),e._UZ(37,"line",27)(38,"line",28),e.qZA(),e.kcU(),e.TgZ(39,"span",29),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()()()()(),e.TgZ(42,"mat-menu",null,30)(44,"div",31),e.NdJ("click",function(b){return b.stopPropagation()}),e.TgZ(45,"div",32),e._UZ(46,"input",33),e.ALo(47,"mytranslate"),e.O4$(),e.TgZ(48,"svg",34),e._UZ(49,"circle",35)(50,"line",36),e.qZA()(),e.kcU(),e.TgZ(51,"div",37)(52,"ng-scrollbar",38)(53,"div",39),e.YNc(54,ve,3,4,"div",1),e.YNc(55,Oe,4,3,"div",40),e.ALo(56,"appFilter"),e.YNc(57,Ce,4,3,"ng-template",null,41,e.W1O),e.qZA()()()()()),2&n){const c=e.MAs(3),b=e.MAs(22),w=e.MAs(58);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",c),e.xp6(6),e.Q6J("matMenuTriggerFor",b),e.xp6(6),e.hij(" ",e.lcZ(14,16,"lang_teacher_group_group_more")," "),e.xp6(6),e.hij(" ",e.lcZ(20,18,"lang_button_delete_all")," "),e.xp6(7),e.hij(" ",e.lcZ(27,20,"lang_teacher_group_group_list_phone_teacher")," "),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(4),e.hij("* ",e.lcZ(33,22,"lang_teacher_group_group_note_enter_phone"),"."),e.xp6(3),e.Q6J("disabled",o.form.invalid),e.xp6(5),e.Oqu(e.lcZ(41,24,"lang_button_add")),e.xp6(6),e.s9C("placeholder",e.lcZ(47,26,"lang_auto_tim_ten_hoac_sdt")),e.Q6J("formControl",o.searchMemberInGroupKey),e.xp6(6),e.Q6J("visibility","hover"),e.xp6(2),e.Q6J("ngIf",null==o.teacherAndGroupObj?null:o.teacherAndGroupObj.teachers)("ngIfElse",w),e.xp6(1),e.Q6J("ngIf",0==e.xi3(56,28,null==o.teacherAndGroupObj?null:o.teacherAndGroupObj.teachers,o.searchMemberInGroupKey.value).length)}},dependencies:[x.sg,x.O5,S.VK,S.OP,S.p6,N.gM,r._Y,r.Fj,r.JJ,r.JL,r.oH,r.sg,r.u,u.KC,q.l,Q.g,I.M,G.JV,G.om],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:rgb(53,69,103)}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]})}return i})();function Pe(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"input",24),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.clickToPermissionCheckbox())}),e.qZA(),e.TgZ(2,"label",25),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}if(2&i){const t=f.$implicit,n=f.index,o=e.oxw().index;e.Q6J("formGroup",t),e.xp6(1),e.Q6J("id","role_"+o+"_"+n),e.xp6(1),e.Q6J("for","role_"+o+"_"+n),e.xp6(1),e.hij(" ",e.lcZ(4,4,t.controls.permissionName.value)," ")}}function Me(i,f){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20)(2,"a",21),e._uU(3),e.qZA(),e.YNc(4,Pe,5,6,"div",22),e.qZA()()),2&i){const t=f.$implicit,n=e.oxw(2);e.Q6J("formGroup",t)("hidden",n.isShowClassroomObjsThatHavePermission.value&&!n.listClassroomIdsThatHavePermission.hasOwnProperty(t.controls.classroomId.value)),e.xp6(2),e.s9C("matTooltip",t.controls.classroomName.value),e.xp6(1),e.hij(" ",t.controls.classroomName.value," "),e.xp6(1),e.Q6J("ngForOf",t.controls.permissionObjs.controls)}}function Te(i,f){if(1&i&&(e.TgZ(0,"div",17),e.YNc(1,Me,5,5,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.form.controls.classroomObjs.controls)}}function ye(i,f){1&i&&(e.TgZ(0,"div",26)(1,"span",27),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_not_data")))}function ke(i,f){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",28),e._uU(2,"\xa0"),e.qZA())}let Ae=(()=>{class i extends D.Q{getClassroomIdsThatHavePermission(){let t={};this.viewClassroomObjs.forEach(n=>{let o=n?.id??0;n.teamPermissions?.length&&(t[o]=o)}),this.listClassroomIdsThatHavePermission=t}isCheckAllPermissions(){let t=!0;this.viewClassroomObjs.forEach(n=>{n.teamPermissions?.length!=this.teamPermissionObjs?.length&&(t=!1)}),this.checkAllOrUnCheckAllFormControl.setValue(t)}checkAllPermissions(){this.viewClassroomObjs.forEach(t=>{t.teamPermissions=this.teamPermissionObjs??[]}),this.isShowClassroomObjsThatHavePermission.setValue(!1),this.initFormData()}uncheckAllPermissions(){this.viewClassroomObjs.forEach(t=>{t.teamPermissions=[]}),this.isShowClassroomObjsThatHavePermission.setValue(!1),this.initFormData()}resetData(){this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),this.initFormData(),this.showSuccessSnack("lang_team_teacher_cancel_success")}clickToPermissionCheckbox(){this.convertFormDataToViewClassroomObjs(),this.getClassroomIdsThatHavePermission(),this.isCheckAllPermissions()}convertFormDataToViewClassroomObjs(){let t=this.form.getRawValue(),n={};for(let c=0;c<t.classroomObjs.length;c++){let b=t.classroomObjs[c],w=[];for(let T=0;T<b.permissionObjs.length;T++){let A=b.permissionObjs[T];if(A.permissionCheckbox){var o=this.teamPermissionObjs?.find(z=>z.id==A.permissionId);o&&w.push(o)}}n[b.classroomId]=this.commonService.myClone(w)}this.viewClassroomObjs.forEach(c=>{c.teamPermissions=c.id&&n.hasOwnProperty(c.id)?n[c.id]:[]})}savePermissionObjs(){this.initStatusObj(),this.convertFormDataToViewClassroomObjs();let t=[];this.viewClassroomObjs.forEach(n=>{var o=n.teamPermissions?.map(c=>c.id??0);o&&o.length>0&&t.push({classId:n.id??0,permissionIds:o})}),this.groupObj?this.permissionTeamService.apiPermissionTeamUpdateGroupPermissionPost({groupId:this.groupObj?.id??0,classWithPermissions:t}).subscribe(o=>{1===o.success?this.getDataAgain(c=>{c?this.errorStatusObj(c,!0):this.successStatusObj("lang_auto_cap_nhat_quyen_thanh_cong",!0)}):this.errorStatusObj("lang_auto_cap_nhat_quyen_khong_thanh_cong",!0)}):this.permissionTeamService.apiPermissionTeamUpdateTeacherPermissionPost({teacherId:this.teacherObj?.id??0,classWithPermissions:t}).subscribe(o=>{1===o.success?this.getDataAgain(c=>{c?this.errorStatusObj(c,!0):this.successStatusObj("lang_auto_cap_nhat_quyen_thanh_cong",!0)}):this.errorStatusObj("lang_auto_cap_nhat_quyen_khong_thanh_cong",!0)})}getDataAgain(t){this.groupObj?(this.initStatusObj(),this.permissionTeamService.apiPermissionTeamGetAllPermissionWithGroupGet(this.groupObj.id??0).subscribe(n=>{1===n.success?(this.classroomObjs=n.data?.classroomObjs??[],this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),t("")):t("lang_auto_tai_du_lieu_khong_thanh_cong")})):this.permissionTeamService.apiPermissionTeamGetAllPermissionWithMemberGet(this.teacherObj?.id??0).subscribe(n=>{1===n.success?(this.classroomObjs=n.data?.objs??[],this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),t("")):t("lang_auto_tai_du_lieu_khong_thanh_cong")})}initFormData(){if(null!=this.teamPermissionObjs){let b=new r.Oe([]);for(var t=0;t<this.viewClassroomObjs.length;t++){let w=this.viewClassroomObjs[t];for(var n=new r.Oe([]),o=0;o<this.teamPermissionObjs?.length;o++){let T=this.teamPermissionObjs[o],A=w.teamPermissions?.find(z=>z.id==T.id);n.push(new r.cw({permissionId:new r.NI(T.id,{nonNullable:!0}),permissionName:new r.NI(T.key??"",{nonNullable:!0}),permissionCheckbox:new r.NI(!!A,{nonNullable:!0})}))}var c=new r.cw({hidden:new r.NI(!1,{nonNullable:!0}),classroomId:new r.NI(w.id,{nonNullable:!0}),classroomName:new r.NI(w.name,{nonNullable:!0}),permissionObjs:n});b.push(c)}this.form=new r.cw({classroomObjs:b})}}ngOnChanges(){this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),this.getClassroomIdsThatHavePermission(),this.isCheckAllPermissions(),this.initFormData()}ngOnInit(){super.ngOnInit()}constructor(t){super(),this.permissionTeamService=t,this.classroomObjs=[],this.isShowClassroomObjsThatHavePermission=new r.NI(!1),this.checkAllOrUnCheckAllFormControl=new r.NI(!1),this.form=new r.cw({classroomObjs:new r.Oe([])}),this.viewClassroomObjs=[],this.listClassroomIdsThatHavePermission={}}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(j.sb))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-group-teacher-classroom-permission-box"]],inputs:{groupObj:"groupObj",teacherObj:"teacherObj",classroomObjs:"classroomObjs",teamPermissionObjs:"teamPermissionObjs"},features:[e.qOj,e.TTD],decls:31,vars:22,consts:[[1,"box","p-0","mt-5","rounded-md","border","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center","p-3","border-b","border-slate-200/60","dark:border-darkmode-400","text-slate-500","bg-slate-100","dark:bg-darkmode-300"],[1,"text-md","font-medium","mr-auto"],[1,"flex"],["id","checkbox_role_checkall_or_uncheckall","type","checkbox",1,"show-code","form-check-input",3,"formControl","change"],["for","checkbox_role_checkall_or_uncheckall",1,"form-check-label"],["id","checkbox_role_hiden","type","checkbox",1,"show-code","form-check-input",3,"formControl","change"],["for","checkbox_role_hiden",1,"form-check-label"],[1,"p-5","flex-1"],[3,"formGroup"],["formArrayName","classroomObjs"],["class","grid grid-cols-12 sm:gap-6",4,"ngIf","ngIfElse"],["templateElse",""],[1,"mt-5","text-right"],["azt-track-service","classroom_permission_box-4B3pyxVhh08",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","classroom_permission_box-NqO_aRk6DTu",1,"btn","w-24","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"grid","grid-cols-12","sm:gap-6"],["class","col-span-12 sm:col-span-4 md:col-span-4 2xl:col-span-3 mt-3",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-4","md:col-span-4","2xl:col-span-3","mt-3",3,"formGroup","hidden"],[1,"file","box","bg-slate-100","dark:bg-darkmode-300","rounded-md","p-3"],[1,"block","font-medium","truncate",3,"matTooltip"],["class","mt-3","style","display: flex; align-items: flex-start",3,"formGroup",4,"ngFor","ngForOf"],[1,"mt-3",2,"display","flex","align-items","flex-start",3,"formGroup"],["formControlName","permissionCheckbox","type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","change"],[1,"form-check-label","ml-0",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",3)(6,"input",4),e.NdJ("change",function(){return o.checkAllOrUnCheckAllFormControl.value?o.checkAllPermissions():o.uncheckAllPermissions()}),e.qZA(),e._uU(7,"\xa0 "),e.TgZ(8,"label",5),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e._uU(11,"\xa0\xa0\xa0 "),e.TgZ(12,"input",6),e.NdJ("change",function(){return o.getClassroomIdsThatHavePermission()}),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"label",7),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()(),e.TgZ(17,"div",8)(18,"form",9)(19,"div",10),e.YNc(20,Te,2,1,"div",11),e.YNc(21,ye,4,3,"ng-template",null,12,e.W1O),e.qZA()()()(),e.TgZ(23,"div",13)(24,"button",14),e.NdJ("click",function(){return o.resetData()}),e._uU(25),e.ALo(26,"mytranslate"),e.qZA(),e.TgZ(27,"button",15),e.NdJ("click",function(){return o.savePermissionObjs()}),e.YNc(28,ke,3,0,"span",16),e._uU(29),e.ALo(30,"mytranslate"),e.qZA()()),2&n){const c=e.MAs(22);e.xp6(3),e.hij(" ",e.lcZ(4,12,"lang_teacher_group_group_decentralization_in_class")," "),e.xp6(3),e.Q6J("formControl",o.checkAllOrUnCheckAllFormControl),e.xp6(3),e.Oqu(e.lcZ(10,14,o.checkAllOrUnCheckAllFormControl.value?"lang_teacher_group_uncheck_all_permission":"lang_teacher_group_check_all_permission")),e.xp6(3),e.Q6J("formControl",o.isShowClassroomObjsThatHavePermission),e.xp6(3),e.Oqu(e.lcZ(16,16,"lang_teacher_group_group_vew_class_have_permission")),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("ngIf",o.classroomObjs.length>0)("ngIfElse",c),e.xp6(5),e.hij(" ",e.lcZ(26,18,"lang_button_cancel")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!0===o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(30,20,"lang_button_save")," ")}},dependencies:[x.sg,x.O5,N.gM,r._Y,r.Wl,r.JJ,r.JL,r.oH,r.sg,r.u,r.CE,I.M,G.JV],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:rgb(53,69,103)}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]})}return i})();const Ze=["perfectScroll"],je=["drawer"];function Ge(i,f){1&i&&e._UZ(0,"azt-loading-effect")}const F=function(i){return{"class-active":i}},R=function(i){return{"mr-2":i}};function Se(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div",47),e.NdJ("click",function(){const c=e.CHM(t).$implicit,b=e.oxw(3);return e.KtG(b.clickGroup(c,!0))}),e.TgZ(1,"div",48),e.O4$(),e.TgZ(2,"svg",49),e._UZ(3,"path",8)(4,"circle",9)(5,"path",50)(6,"path",51),e.qZA()(),e.kcU(),e.TgZ(7,"div",52)(8,"div",53)(9,"div",54),e._uU(10),e.qZA()()(),e.TgZ(11,"div",55)(12,"button",56),e.NdJ("click",function(o){return o.stopPropagation()}),e.O4$(),e.TgZ(13,"svg",57),e._UZ(14,"circle",58)(15,"circle",59)(16,"circle",60),e.qZA()(),e.kcU(),e.TgZ(17,"mat-menu",null,61)(19,"div",5)(20,"button",62),e.NdJ("click",function(){const c=e.CHM(t).$implicit,b=e.oxw(3);return e.KtG(b.deleteGroupDialog(c))}),e.O4$(),e.TgZ(21,"svg",63),e._UZ(22,"polyline",64)(23,"path",65),e.qZA(),e.kcU(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()(),e.TgZ(27,"button",66),e.NdJ("click",function(){const c=e.CHM(t).$implicit,b=e.oxw(3);return e.KtG(b.editGroup(c))}),e.O4$(),e.TgZ(28,"svg",67),e._UZ(29,"path",68)(30,"path",69),e.qZA(),e.kcU(),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()()()()}if(2&i){const t=f.$implicit,n=e.MAs(18),o=e.oxw(3);e.Q6J("ngClass",e.VKq(11,F,t.id==o.idParam&&0==o.typeParam))("id","group_id_"+t.id),e.xp6(10),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngClass",e.VKq(13,R,o.isMobileDevice))("matMenuTriggerFor",n),e.xp6(13),e.Oqu(e.lcZ(26,7,"lang_button_delete")),e.xp6(7),e.Oqu(e.lcZ(33,9,"lang_button_edit"))}}function ze(i,f){1&i&&(e.TgZ(0,"span",81),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",82),e._UZ(3,"polyline",83)(4,"path",84),e.qZA()()),2&i&&e.s9C("matTooltip",e.lcZ(1,1,"lang_auto_chua_dang_ky"))}function De(i,f){if(1&i&&(e.TgZ(0,"div",85),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.phone," ")}}function Ie(i,f){if(1&i&&(e.TgZ(0,"div",85),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Ue(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div",70),e.NdJ("click",function(){const c=e.CHM(t).$implicit,b=e.oxw(3);return e.KtG(b.clickUser(c,!0))}),e.TgZ(1,"div",48),e._UZ(2,"azt-create-avatar",71),e.qZA(),e.TgZ(3,"div",72)(4,"div",73)(5,"span",74),e._uU(6),e.qZA(),e.YNc(7,ze,5,3,"span",75),e.qZA(),e.YNc(8,De,2,1,"div",76),e.YNc(9,Ie,2,1,"div",76),e.qZA(),e.TgZ(10,"div",55)(11,"button",77),e.NdJ("click",function(o){return o.stopPropagation()}),e.O4$(),e.TgZ(12,"svg",57),e._UZ(13,"circle",58)(14,"circle",59)(15,"circle",60),e.qZA()(),e.kcU(),e.TgZ(16,"mat-menu",null,61)(18,"div",5)(19,"button",78),e.NdJ("click",function(){const c=e.CHM(t).$implicit,b=e.oxw(3);return e.KtG(b.editTeacher(c))}),e.O4$(),e.TgZ(20,"svg",67),e._UZ(21,"path",68)(22,"path",69),e.qZA(),e.kcU(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()(),e.TgZ(26,"button",79),e.NdJ("click",function(){const c=e.CHM(t).$implicit,b=e.oxw(3);return e.KtG(b.deleteTeacherDialog(c))}),e.TgZ(27,"span",80),e.O4$(),e.TgZ(28,"svg",63),e._UZ(29,"polyline",64)(30,"path",65),e.qZA(),e.kcU(),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()()()()()}if(2&i){const t=f.$implicit,n=e.MAs(17),o=e.oxw(3);e.Q6J("ngClass",e.VKq(18,F,t.id==o.idParam&&1==o.typeParam))("id","teacher_id_"+t.id),e.xp6(2),e.MGl("matTooltip","id: ",t.teacherId,""),e.Q6J("nameCreateAvatar",t.fullName)("size",35),e.xp6(3),e.s9C("matTooltip",t.fullName),e.xp6(1),e.Oqu(t.fullName),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(1),e.Q6J("ngIf",t.phone),e.xp6(1),e.Q6J("ngIf",t.email),e.xp6(2),e.Q6J("ngClass",e.VKq(20,R,o.isMobileDevice))("matMenuTriggerFor",n),e.xp6(13),e.Oqu(e.lcZ(25,14,"lang_button_edit")),e.xp6(8),e.Oqu(e.lcZ(33,16,"lang_button_delete"))}}function Ne(i,f){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,Se,34,15,"div",45),e.ALo(2,"appFilter"),e.YNc(3,Ue,34,22,"div",46),e.ALo(4,"appFilter"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,null==t.teacherAndGroupObj?null:t.teacherAndGroupObj.groups,t.searchTeacherKey.value)),e.xp6(2),e.Q6J("ngForOf",e.xi3(4,5,null==t.teacherAndGroupObj?null:t.teacherAndGroupObj.teachers,t.searchTeacherKey.value))}}function Ee(i,f){1&i&&(e.TgZ(0,"div",86)(1,"span",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_teacher_group_group_note_not_found_group_and_teacher")))}function Le(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.sAztMatDrawerService.openDrawer())}),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",89),e._UZ(3,"rect",90)(4,"path",91)(5,"path",92),e.qZA()()}2&i&&e.s9C("matTooltip",e.lcZ(1,1,"lang_auto_mo_menu"))}function Je(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"button",93),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.sAztMatDrawerService.closeDrawer())}),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",89),e._UZ(3,"rect",90)(4,"path",91)(5,"path",94),e.qZA()()}2&i&&e.s9C("matTooltip",e.lcZ(1,1,"lang_auto_dong_menu"))}function Be(i,f){1&i&&(e.TgZ(0,"div",95),e._UZ(1,"azt-loading-effect"),e.qZA())}function qe(i,f){if(1&i&&e._UZ(0,"app-teacher-group-member-in-group-box",98),2&i){const t=e.oxw(3);e.Q6J("groupObj",t.groupObj)("teacherAndGroupObj",t.teacherAndGroupObj)("teacherObjsInGroup",t.teacherObjsInGroup)}}function Qe(i,f){if(1&i&&(e.ynx(0),e.YNc(1,qe,1,3,"app-teacher-group-member-in-group-box",96),e._UZ(2,"app-group-teacher-classroom-permission-box",97),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0==t.typeParam),e.xp6(1),e.Q6J("groupObj",t.groupObj)("teacherObj",t.teacherObj)("classroomObjs",t.classroomObjs)("teamPermissionObjs",t.teamPermissionObjs)}}const Fe=function(i,f){return{"w-85":i,"w-25":f}},Re=function(i){return{"azt-mobile-draw-left":i}},Ye=function(i){return{"ml-25":i}},Ke=function(i){return{"ml-5":i}},He=function(i){return{height:i}},We=function(){return{height:"80%"}};function $e(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div",15)(1,"mat-drawer-container",16)(2,"mat-drawer",17,18),e.NdJ("openedChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.sAztMatDrawerService.openedChange(o))}),e.TgZ(4,"div",19)(5,"div",20)(6,"div",21)(7,"div",22),e._UZ(8,"input",23),e.ALo(9,"mytranslate"),e.O4$(),e.TgZ(10,"svg",24),e._UZ(11,"circle",25)(12,"line",26),e.qZA()(),e.kcU(),e.TgZ(13,"button",27,28),e.O4$(),e.TgZ(15,"svg",29),e._UZ(16,"line",13)(17,"line",14),e.qZA()()(),e.kcU(),e.TgZ(18,"div",30)(19,"ng-scrollbar",31,32),e.YNc(21,Ne,5,8,"div",33),e.YNc(22,Ee,4,3,"ng-template",null,34,e.W1O),e.qZA()()()()(),e.TgZ(24,"mat-drawer-content",35)(25,"div",36)(26,"div",37),e.YNc(27,Le,6,3,"button",38),e.YNc(28,Je,6,3,"button",39),e.qZA(),e.TgZ(29,"div",40),e.YNc(30,Be,2,0,"div",41),e.YNc(31,Qe,3,5,"ng-container",42),e.qZA()()()()(),e._UZ(32,"azt-scroll-to-top-bottom",43)}if(2&i){const t=e.MAs(23),n=e.oxw(),o=e.MAs(6);e.xp6(1),e.Q6J("hasBackdrop",n.sAztMatDrawerService.hasBackdrop),e.xp6(1),e.s9C("opened",n.sAztMatDrawerService.isOpenSideNav?"true":"false"),e.Q6J("ngClass",e.WLB(22,Fe,n.isMobileDevice,!n.isMobileDevice))("mode",n.sAztMatDrawerService.mode),e.xp6(2),e.Q6J("ngClass",e.VKq(25,Re,n.isMobileDevice)),e.xp6(4),e.s9C("placeholder",e.lcZ(9,20,"lang_auto_tim_ten_hoac_sdt")),e.Q6J("formControl",n.searchTeacherKey),e.xp6(5),e.Q6J("matMenuTriggerFor",o),e.xp6(6),e.Q6J("visibility","hover"),e.xp6(2),e.Q6J("ngIf",(null==n.teacherAndGroupObj||null==n.teacherAndGroupObj.groups?null:n.teacherAndGroupObj.groups.length)||(null==n.teacherAndGroupObj||null==n.teacherAndGroupObj.teachers?null:n.teacherAndGroupObj.teachers.length))("ngIfElse",t),e.xp6(3),e.Q6J("ngClass",e.VKq(27,Ye,!n.isMobileDevice&&n.sAztMatDrawerService.isOpenSideNav)),e.xp6(1),e.Q6J("ngClass",e.VKq(29,Ke,!n.isMobileDevice&&n.sAztMatDrawerService.isOpenSideNav))("ngStyle",e.VKq(31,He,n.isLoadingData?"100vh":"auto")),e.xp6(2),e.Q6J("ngIf",!n.sAztMatDrawerService.isOpenSideNav||n.isMobileDevice),e.xp6(1),e.Q6J("ngIf",n.sAztMatDrawerService.isOpenSideNav&&!n.isMobileDevice),e.xp6(1),e.Q6J("ngStyle",e.DdM(33,We)),e.xp6(1),e.Q6J("ngIf",n.isLoadingData),e.xp6(1),e.Q6J("ngIf",!n.isLoadingData),e.xp6(1),e.Q6J("isScrollToTop",!0)}}let Y=(()=>{class i extends D.Q{set drawer(t){this.sAztMatDrawerService.resizeDrawerHeight(!1,t)}toggleShowActions(){this.isShowActions=!this.isShowActions}addTeacher(){this.dataAddTeacherDialog={type:"add_teacher"},this.controlDialogAddTeacher()}editTeacher(t){this.dataAddTeacherDialog={teacherObj:t,type:"edit_teacher"},this.controlDialogAddTeacher()}editGroup(t){this.dataAddGroupDialog={groupObj:t,type:"edit_group"},this.controlDialogAddGroup()}addGroup(){this.dataAddGroupDialog={type:"add_group"},this.controlDialogAddGroup()}controlDialogAddGroup(){this.sAztDialogService.open(ee,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{obj:this.dataAddGroupDialog?.groupObj},restoreFocus:!1}).afterClosed().subscribe(n=>{null!=n&&(this.initStatusObj(),this.getTeacherAndGroupObjs(o=>{if(o)this.errorStatusObj(o,!0);else{this.stopStatusObj();var c=n?this.teacherAndGroupObj?.groups?.find(b=>b.id==n):void 0;c?this.clickGroup(c,!1):this.checkUseDefaultForRouter()}}))})}controlDialogAddTeacher(){this.sAztDialogService.open(te.u,{width:"600px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{obj:this.dataAddTeacherDialog?.teacherObj,type:""},restoreFocus:!1}).afterClosed().subscribe(n=>{void 0!==n&&this.getDataAgain(n)})}clickGroup(t,n){this.isMobileDevice&&this.sAztMatDrawerService.closeDrawer(),this.groupObj=t,this.teacherObj=void 0,t.id==this.idParam?this.getDataWhenRouterChanged():n?this.commonService.myNavigation("/admin/teacher-group/0/"+t.id):this.commonService.myNavigationWithoutHistory("/admin/teacher-group/0/"+t.id),this.willScrollToCurrentElement=!n,window.scrollTo(0,0)}clickUser(t,n){this.isMobileDevice&&this.sAztMatDrawerService.closeDrawer(),this.groupObj=void 0,this.teacherObj=t,t.id==this.idParam?this.getDataWhenRouterChanged():n?this.commonService.myNavigation("/admin/teacher-group/1/"+t.id):this.commonService.myNavigationWithoutHistory("/admin/teacher-group/1/"+t.id),this.willScrollToCurrentElement=!n,window.scrollTo(0,0)}getGroupPermissionObjs(t){t?(this.isLoadingData=!0,this.permissionTeamService.apiPermissionTeamGetAllPermissionWithGroupGet(t).subscribe(n=>{1===n.success?(this.teacherObjsInGroup=this.sortService.sortFirstNameStudents(this.commonService.myClone(n?.data?.teacherObjs)??[]),this.classroomObjs=n.data?.classroomObjs??[],this.isLoadingData=!1):(this.showErrorSnack("lang_auto_tai_du_lieu_khong_thanh_cong"),this.isLoadingData=!1)})):this.isLoadingData=!1}getTeacherPermissionObjs(t){t?(this.isLoadingData=!0,this.permissionTeamService.apiPermissionTeamGetAllPermissionWithMemberGet(t).subscribe(n=>{1===n.success?(this.classroomObjs=n.data?.objs??[],this.isLoadingData=!1):(this.showErrorSnack("lang_auto_tai_du_lieu_khong_thanh_cong"),this.isLoadingData=!1)})):this.isLoadingData=!1}scrollToCurrentElement(){this.willScrollToCurrentElement&&(this.willScrollToCurrentElement=!1,setTimeout(()=>{let t;t=0==this.typeParam?document.getElementById("group_id_"+(this.groupObj?.id??0))?.offsetTop:document.getElementById("teacher_id_"+(this.teacherObj?.id??0))?.offsetTop,null!=t&&this.perfectScroll?.scrollTo({top:t,duration:0})},0))}viewDeleteDialog(t){this.sAztDialogService.open(L,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:t,restoreFocus:!1}).afterClosed().subscribe(o=>{if(o)switch(o.type){case"delete_group":this.teacherAndGroupObj?.groups&&(this.teacherAndGroupObj.groups=this.teacherAndGroupObj?.groups?.filter(c=>c.id!=t.groupObj?.id)),this.checkUseDefaultForRouter();break;case"delete_teacher":this.teacherAndGroupObj?.teachers&&(this.teacherAndGroupObj.teachers=this.teacherAndGroupObj?.teachers?.filter(c=>c.id!=t.teacherObj?.id)),this.checkUseDefaultForRouter()}})}deleteTeacherDialog(t){this.viewDeleteDialog({teacherObj:t,index:0,type:"delete_teacher"})}deleteGroupDialog(t){this.viewDeleteDialog({groupObj:t,index:0,type:"delete_group"})}checkUseDefaultForRouter(){if(0==this.typeParam){var t=this.teacherAndGroupObj?.groups?.find(b=>b.id==this.idParam);if(t)return void this.clickGroup(t,!1);if(n=(this.teacherAndGroupObj?.groups?.length??0)>0?this.teacherAndGroupObj?.groups?.[0]:void 0)return void this.clickGroup(n,!1);if(o=(this.teacherAndGroupObj?.teachers?.length??0)>0?this.teacherAndGroupObj?.teachers?.[0]:void 0)return void this.clickUser(o,!1)}else{var o,n,c=this.teacherAndGroupObj?.teachers?.find(T=>T.id==this.idParam);if(c)return void this.clickUser(c,!1);if(o=(this.teacherAndGroupObj?.teachers?.length??0)>0?this.teacherAndGroupObj?.teachers?.[0]:void 0)return void this.clickUser(o,!1);if(n=(this.teacherAndGroupObj?.groups?.length??0)>0?this.teacherAndGroupObj?.groups?.[0]:void 0)return void this.clickGroup(n,!1)}}getDataWhenRouterChanged(){this.stopStatusObj(),0==this.typeParam?this.getGroupPermissionObjs(this.idParam):this.getTeacherPermissionObjs(this.idParam)}getDataAgain(t){this.initStatusObj(),this.getTeacherAndGroupObjs(n=>{if(n)this.errorStatusObj(n,!0);else{this.stopStatusObj();var o=t?this.teacherAndGroupObj?.teachers?.find(c=>c.id==t):void 0;o?this.clickUser(o,!1):this.checkUseDefaultForRouter()}})}getPermissionObjs(t){this.permissionTeamService.apiPermissionTeamGetAllPermissionsGet(1).subscribe(o=>{1===o.success?(this.teamPermissionObjs=o.data?.objs,t("")):t(o.message??"")})}getTeacherAndGroupObjs(t){this.subscriptions.add(this.teacherGroupService.apiTeacherGroupGetObjsGet().subscribe(n=>{1===n.success?(this.teacherAndGroupObj=n.data,null!=this.teacherAndGroupObj?.teachers&&(this.teacherAndGroupObj.teachers=this.sortService.sortFirstNameStudents(this.teacherAndGroupObj.teachers)),t("")):t(n.message??"")}))}getInitData(t){this.getPermissionObjs(n=>{n?t(n):this.getTeacherAndGroupObjs(o=>{o?t(o):(this.checkUseDefaultForRouter(),t(""))})})}listenRouterChange(){this.initStatusObj(),this.getInitData(t=>{t?(this.errorStatusObj(t,!0),this.isLoadingData=!1):(this.stopStatusObj(),this.waitDestroy((0,y.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.typeParam=Number(this.commonService.getMyParam(this.activeRoute,"type")),this.idParam=Number(this.commonService.getMyParam(this.activeRoute,"id")),0==this.idParam?this.checkUseDefaultForRouter():this.getDataWhenRouterChanged()})))})}ngAfterViewChecked(){this.scrollToCurrentElement()}ngOnInit(){this.listenRouterChange(),this.mobileWebviewService.sendSimpleMessage("OPEN_TEAM"),this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),super.ngOnInit(),this.aztTeacherGroupService.getCurrentMessage().subscribe(()=>{this.getDataAgain(void 0)})}constructor(t,n,o,c,b,w,T,A){super(),this.activeRoute=t,this.teacherGroupService=n,this.permissionTeamService=o,this.sortService=c,this.sAztDialogService=b,this.aztTeacherGroupService=w,this.mobileWebviewService=T,this.sAztMatDrawerService=A,this.isLoadingData=!1,this.typeParam=0,this.idParam=0,this.searchTeacherKey=new r.NI("",{nonNullable:!0}),this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.willScrollToCurrentElement=!1,this.classroomObjs=[]}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(v.gz),e.Y36(j.Kq),e.Y36(j.sb),e.Y36(J.V),e.Y36(B.C),e.Y36(se.V),e.Y36(le.r),e.Y36(k.T))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-group-teacher"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ze,5),e.Gf(je,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.perfectScroll=c.first),e.iGM(c=e.CRH())&&(o.drawer=c.first)}},features:[e._Bn([k.T]),e.qOj],decls:22,vars:12,consts:[[3,"headerBackToLink","headerTitle"],[4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuAddToList","matMenu"],[1,"box","p-2"],["azt-track-service","group-XHDOGn28VM","mat-menu-item","",1,"setting_options",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],["azt-track-service","group-ayk1_tKu56","mat-menu-item","",1,"setting_options",3,"click"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"azt-result-list","mb-5"],[1,"azt-drawer-container","mt-5",2,"overflow","auto","height","auto",3,"hasBackdrop"],[1,"azt-draw-left-container",3,"ngClass","mode","opened","openedChange"],["drawer",""],[1,"azt-draw-left",3,"ngClass"],[1,"box"],[1,"flex","text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400","p-2"],[1,"azt-search","relative","w-full","mr-3"],["type","text",1,"form-control","py-2","px-4","border-transparent","bg-slate-100","pr-10",3,"placeholder","formControl"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search","data-lucide","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","mr-3","right-0"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[1,"btn","btn-sm","btn-secondary","px-2",3,"matMenuTriggerFor"],["menuAdd","matMenuTrigger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],[1,"pb-3","scroll-menu-test",2,"height","calc(80vh - 40px)"],["pointerEventsMethod","scrollbar",3,"visibility"],["perfectScroll",""],["class","p-3",4,"ngIf","ngIfElse"],["blockElse",""],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass","ngStyle"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","group-JqjKKxVz7O","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","group-zQLSni7Q98","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"box","relative","p-3",3,"ngStyle"],["class","azt-overlay-div bg-slate-100 dark:bg-darkmode-300","style","width: calc(100% - 1.25rem);",4,"ngIf"],[4,"ngIf"],[3,"isScrollToTop"],[1,"p-3"],["azt-track-service","group-aL4FZ3_znO","class","hover:bg-slate-100 dark:hover:bg-darkmode-400 cursor-pointer relative rounded flex items-center pb-2 pt-2 ",3,"ngClass","id","click",4,"ngFor","ngForOf"],["azt-track-service","group-FrBmXZUTAs","class","hover:bg-slate-100 dark:hover:bg-darkmode-400 cursor-pointer rounded relative flex items-center",3,"ngClass","id","click",4,"ngFor","ngForOf"],["azt-track-service","group-aL4FZ3_znO",1,"hover:bg-slate-100","dark:hover:bg-darkmode-400","cursor-pointer","relative","rounded","flex","items-center","pb-2","pt-2",3,"ngClass","id","click"],[1,"flex-none","image-fit","ml-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"rounded-full","w-8","h-8","text-primary"],["d","M22 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"ml-2","overflow-hidden"],[1,"flex","items-center"],[1,"font-medium"],[1,"dropdown","ml-auto",2,"height","20px"],["azt-track-service","group-F9M-n71miv","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle",3,"ngClass","matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],["menu","matMenu"],["azt-track-service","group-iDfmTwqQG2","mat-menu-item","",1,"setting_options",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["azt-track-service","group-pIZFU0lQ4u","mat-menu-item","",1,"setting_options",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","group-FrBmXZUTAs",1,"hover:bg-slate-100","dark:hover:bg-darkmode-400","cursor-pointer","rounded","relative","flex","items-center",3,"ngClass","id","click"],[3,"matTooltip","nameCreateAvatar","size"],[1,"ml-2","overflow-hidden","pt-2",2,"width","100%"],[1,"flex","items-center","font-medium"],[1,"truncate",2,"max-width","90%",3,"matTooltip"],["class","text-pending mx-1",3,"matTooltip",4,"ngIf"],["class","w-full truncate text-xs text-slate-500 mt-0.5",4,"ngIf"],["azt-track-service","group-c3Ji8EP4Sa","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle",3,"ngClass","matMenuTriggerFor","click"],["azt-track-service","group-5EPWWhb4Qz","mat-menu-item","",1,"setting_options",3,"click"],["azt-track-service","group-AcnlOWj5ZR","mat-menu-item","",1,"setting_options",3,"click"],[1,"text-danger"],[1,"text-pending","mx-1",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","check-square","data-lucide","check-square",1,"lucide-check-square","w-4","h-4","mr-2"],["points","9 11 12 14 22 4"],["d","M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"],[1,"w-full","truncate","text-xs","text-slate-500","mt-0.5"],[1,"text-center","p-3"],[1,"note-text"],["azt-track-service","group-JqjKKxVz7O",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","group-zQLSni7Q98",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[1,"azt-overlay-div","bg-slate-100","dark:bg-darkmode-300",2,"width","calc(100% - 1.25rem)"],[3,"groupObj","teacherAndGroupObj","teacherObjsInGroup",4,"ngIf"],[3,"groupObj","teacherObj","classroomObjs","teamPermissionObjs"],[3,"groupObj","teacherAndGroupObj","teacherObjsInGroup"]],template:function(n,o){if(1&n&&(e.TgZ(0,"teacher-layout",0),e.ALo(1,"mytranslate"),e.YNc(2,Ge,1,0,"azt-loading-effect",1),e.YNc(3,$e,33,34,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(5,"mat-menu",3,4)(7,"div",5)(8,"button",6),e.NdJ("click",function(){return o.addTeacher()}),e.O4$(),e.TgZ(9,"svg",7),e._UZ(10,"path",8)(11,"circle",9)(12,"line",10)(13,"line",11),e.qZA(),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(16,"button",12),e.NdJ("click",function(){return o.addGroup()}),e.O4$(),e.TgZ(17,"svg",7),e._UZ(18,"line",13)(19,"line",14),e.qZA(),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()),2&n){const c=e.MAs(4);e.Q6J("headerBackToLink","/admin/dashboard")("headerTitle",e.lcZ(1,6,"lang_teacher_group_group_header_title")),e.xp6(2),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",c),e.xp6(12),e.hij(" ",e.lcZ(15,8,"lang_teacher_group_group_add_student")," "),e.xp6(6),e.hij(" ",e.lcZ(21,10,"lang_teacher_group_group_add_group_teacher")," ")}},dependencies:[x.mk,x.sg,x.O5,x.PC,S.VK,S.OP,S.p6,U.jA,U.kh,U.LW,N.gM,r.Fj,r.JJ,r.oH,u.KC,q.l,Q.g,ce.M,pe._,we,Ae,G.JV,G.om],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:rgb(53,69,103)}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]})}return i})();const Ve=[{path:"",component:Y,canActivate:[O.J],children:[{path:"",component:Y}]}];let Xe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(Ve),v.Bz,h.fQ]})}return i})(),et=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[v.Bz,x.ez,g.j,M.Z_,r.u5,r.UX,C.Is,l.Z,d.xC,a.QG,Xe,u.kb,m.W,s.d,_.qyJ.pick(_.ciZ)]})}return i})()},43048:(Z,P,p)=>{p.d(P,{J:()=>v});var x=p(65879),r=p(2816),C=p(79998);let v=(()=>{class M{constructor(d,a){this.userService=d,this.redirectService=a}canActivate(d,a){return!!this.userService.isLogin()||(this.redirectService.redirectLoginAnonymous(a.url),!1)}canActivateChild(d,a){return this.canActivate(d,a)}canLoad(d){const a=`/${d.path}`;return!!this.userService.isLogin()||(this.redirectService.redirectLoginByReturnUrl(a),!1)}static#e=this.\u0275fac=function(a){return new(a||M)(x.LFG(r.U),x.LFG(C.z))};static#t=this.\u0275prov=x.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},72164:(Z,P,p)=>{p.d(P,{e:()=>v});var x=p(19347),r=p(47496),C=p(65879);let v=(()=>{class M extends r.Q{constructor(d,a){super(),this.data=d,this.dialogRef=a}static#e=this.\u0275fac=function(a){return new(a||M)(C.Y36(x.WI),C.Y36(x.so))};static#t=this.\u0275cmp=C.Xpm({type:M,selectors:[["ng-component"]],features:[C.qOj],decls:0,vars:0,template:function(a,u){},encapsulation:2})}return M})()},2783:(Z,P,p)=>{p.d(P,{C:()=>C});var x=p(65879),r=p(19347);let C=(()=>{class v{constructor(_){this.dialog=_,this.open=(d,a)=>this.dialog.open(d,a)}static#e=this.\u0275fac=function(d){return new(d||v)(x.LFG(r.uw))};static#t=this.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},45337:(Z,P,p)=>{p.d(P,{T:()=>C});var x=p(65879),r=p(46558);let C=(()=>{class v{resizeDrawerHeight(_,d){if(this.autoResizeHeight=_,this.drawer=d,this.drawer&&this.autoResizeHeight){let a=()=>{let l=document.querySelector(".azt-drawer-content"),s=document.querySelector(".azt-draw-left");if(s&&s instanceof HTMLElement&&l&&l instanceof HTMLElement){let m=l;m.style.minHeight=this.isOpenSideNav?s.clientHeight+10+"px":"auto"}},u=new ResizeObserver(l=>{a()}),g=document.querySelector(".azt-draw-left");g&&u.observe(g),a()}}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}toggleDrawer(){this.drawer?.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openedChange(_){this.isOpenSideNav=_,this.resizeDrawerHeight(this.autoResizeHeight)}changeToMobileMode(_){_?(this.mode="over",this.hasBackdrop=!0):(this.mode="side",this.hasBackdrop=!1)}constructor(_){this.commonService=_,this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.autoResizeHeight=!1}static#e=this.\u0275fac=function(d){return new(d||v)(x.LFG(r.z))};static#t=this.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac,providedIn:null})}return v})()},88131:(Z,P,p)=>{p.d(P,{V:()=>C});var x=p(65879),r=p(46558);let C=(()=>{class v{sortFirstNameStudentsInClass(_){var d=this.commonService.myClone(_),a=[],u="results";return d.forEach(g=>{g.hasOwnProperty(u)&&(g[u]=this.sortFirstNameStudents(g[u])),a.push(g)}),a}sortFirstNameStudents(_){var d=[..._];if(Array.isArray(d)){var a="fullName",u="birthday",g="id";return d.sort((l,s)=>{if(l.hasOwnProperty(a)&&s.hasOwnProperty(a)){var m=this.getFirstName(l[a])+"_"+l[a]?.toString().trim()+"_"+(l.hasOwnProperty(u)&&l[u]?l[u]:"")+"_"+(l.hasOwnProperty(g)&&l[g]?l[g]:""),h=this.getFirstName(s[a])+"_"+s[a]?.toString().trim()+"_"+(s.hasOwnProperty(u)&&s[u]?s[u]:"")+"_"+(s.hasOwnProperty(g)&&s[g]?s[g]:"");return m=m.toString().toUpperCase(),h=h.toString().toUpperCase(),this.collator.compare(m,h)}return 0})}return d}sortTimeDESC(_){for(var d=this.commonService.myClone(_),a=[],u=[],l="createdAt",s=0;s<d.length;s++)d[s].hasOwnProperty(l)&&(null!=d[s][l]&&""!=d[s][l]?a.push(d[s]):u.push(d[s]));for(s=0;s<a.length;s++){let k;for(var m=s+1;m<a.length;m++)if(a[s].hasOwnProperty(l)&&a[m].hasOwnProperty(l)){var h;h=Math.floor(new Date(a[s][l]).getTime()/1e3),Math.floor(new Date(a[m][l]).getTime()/1e3)>h&&(k=a[s],a[s]=a[m],a[m]=k)}}return a.concat(u)}sortTimeASC(_){for(var d=this.commonService.myClone(_),a=[],u=[],l="createdAt",s=0;s<d.length;s++)d[s].hasOwnProperty(l)&&(null!=d[s][l]&&""!=d[s][l]?a.push(d[s]):u.push(d[s]));for(s=0;s<a.length;s++){let k;for(var m=s+1;m<a.length;m++)if(a[s].hasOwnProperty(l)&&a[m].hasOwnProperty(l)){var h;h=Math.floor(new Date(a[s][l]).getTime()/1e3),Math.floor(new Date(a[m][l]).getTime()/1e3)<h&&(k=a[s],a[s]=a[m],a[m]=k)}}return a.concat(u)}sortMarkDESC(_,d){for(var a=this.commonService.myClone(_),u="confirmedAt",g="mark",l=0;l<a.length;l++){let O;for(var s=l+1;s<a.length;s++)a[l].hasOwnProperty(u)&&a[s].hasOwnProperty(u)&&a[l].hasOwnProperty(g)&&a[s].hasOwnProperty(g)&&(d?(null!=a[s][u]?a[s][g]:null==a[s][u]&&null!=a[s][g]?-1:-2)>(null!=a[l][u]?a[l][g]:null==a[l][u]&&null!=a[l][g]?-1:-2)&&(O=a[l],a[l]=a[s],a[s]=O):(null!=a[s][g]?a[s][g]:-1)>(null!=a[l][g]?a[l][g]:-1)&&(O=a[l],a[l]=a[s],a[s]=O))}return a}sortMarkASC(_,d){for(var a=this.commonService.myClone(_),u="confirmedAt",g="mark",l=0;l<a.length;l++){let O;for(var s=l+1;s<a.length;s++)a[l].hasOwnProperty(u)&&a[s].hasOwnProperty(u)&&a[l].hasOwnProperty(g)&&a[s].hasOwnProperty(g)&&(d?(null!=a[s][u]?a[s][g]:null==a[s][u]&&null!=a[s][g]?-1:-2)<(null!=a[l][u]?a[l][g]:null==a[l][u]&&null!=a[l][g]?-1:-2)&&(O=a[l],a[l]=a[s],a[s]=O):a[s][g]<a[l][g]&&(O=a[l],a[l]=a[s],a[s]=O))}return a}sortTimeStudentsInClass(_,d){var a=this.commonService.myClone(_),u=[],g="results";return a.forEach(l=>{l.hasOwnProperty(g)&&(l[g]=1==d?this.sortTimeDESC(l[g]):this.sortTimeASC(l[g])),u.push(l)}),u}sortMarkStudentsInClass(_,d,a){var u=this.commonService.myClone(_),g=[],l="results";return u.forEach(s=>{s.hasOwnProperty(l)&&(s[l]=1==d?this.sortMarkDESC(s[l],a):this.sortMarkASC(s[l],a)),g.push(s)}),g}sortGroupName(_){var d=this.commonService.myClone(_);if(d){var a="name";return d.sort((u,g)=>{if(u.hasOwnProperty(a)&&g.hasOwnProperty(a)){var l=this.getGroupName(u[a]?.toString().trim()),s=this.getGroupName(g[a]?.toString().trim());return l=l.toString().toUpperCase(),s=s.toString().toUpperCase(),this.collator.compare(l,s)}return 0})}return d}sortArrayByMultipleObjectKeyAsc(_,d,a){var u=this.commonService.myClone(_);return u&&(u.sort((g,l)=>{if(g.hasOwnProperty(d)&&l.hasOwnProperty(d)&&g.hasOwnProperty(a)&&l.hasOwnProperty(a)){if("pos"==d&&"id"==a){var s=g[d]<l[d]?-1:g[d]==l[d]?0:1;return 0==s?g[a]<l[a]?-1:g[a]==l[a]?0:1:s}var h=this.collator.compare(this.getFirstName(g[d]?.toString().trim()),this.getFirstName(l[d]?.toString().trim()));return 0==h?this.collator.compare(this.getFirstName(g[a]?.toString().trim()),this.getFirstName(l[a]?.toString().trim())):h}return 0}),u)}getFirstName(_){return null!=_?_.toString().trim().split(" ").slice(-1).join(" ").toUpperCase():""}getGroupName(_){return null!=_?_.toString().trim().split(" ").slice(-1).join("").toLowerCase():""}constructor(_){this.commonService=_,this.collator=new Intl.Collator("vi",{sensitivity:"variant",usage:"sort"})}static#e=this.\u0275fac=function(d){return new(d||v)(x.LFG(r.z))};static#t=this.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},78497:(Z,P,p)=>{p.d(P,{R:()=>u});var x=p(47496),r=p(65879),C=p(96814),v=p(19347),M=p(95545);const _=["aztDialogContentBox"],d=function(g){return{"width.px":g,"height.%":100}},a=["*"];let u=(()=>{class g extends x.Q{checkHeightOfElement(){if(this.aztDialogContentBox){var s=this.aztDialogContentBox.nativeElement.querySelector("."+this.contentBoxClassName);if(s){let m=Math.round(window.innerHeight*this.defaultHeight/100),h=s.getBoundingClientRect().height+1;this.aztDialogContentBox.nativeElement.style.height=(h<m?h:m)+"px",this.aztDialogContentBox.nativeElement.style.maxHeight="85vh"}}}ngAfterViewChecked(){setTimeout(()=>{this.ngZone.runOutsideAngular(()=>{this.checkHeightOfElement()})},0)}constructor(s){super(),this.ngZone=s,this.defaultHeight=85,this.defaultWidth=0,this.contentBoxClassName="azt-mat-dialog-content-box"}static#e=this.\u0275fac=function(m){return new(m||g)(r.Y36(r.R0b))};static#t=this.\u0275cmp=r.Xpm({type:g,selectors:[["azt-mat-dialog-content"]],viewQuery:function(m,h){if(1&m&&r.Gf(_,5),2&m){let O;r.iGM(O=r.CRH())&&(h.aztDialogContentBox=O.first)}},inputs:{defaultHeight:"defaultHeight",defaultWidth:"defaultWidth"},features:[r.qOj],ngContentSelectors:a,decls:5,vars:6,consts:[["aztDialogContentBox",""],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"]],template:function(m,h){1&m&&(r.F$t(),r.TgZ(0,"mat-dialog-content",null,0)(2,"ng-scrollbar",1)(3,"div"),r.Hsn(4),r.qZA()()()),2&m&&(r.xp6(2),r.Q6J("visibility","hover")("ngStyle",r.VKq(4,d,h.defaultWidth||"auto")),r.xp6(1),r.Tol(h.contentBoxClassName))},dependencies:[C.PC,v.xY,M.KC],encapsulation:2})}return g})()},43389:(Z,P,p)=>{p.d(P,{l:()=>l});var x=p(47496),r=p(65879),C=p(96814),v=p(16007),M=p(36727);function _(s,m){if(1&s&&(r.O4$(),r.kcU(),r._UZ(0,"mat-progress-bar",10)),2&s){const h=r.oxw();r.Q6J("value",h.progress_value)}}function d(s,m){if(1&s&&(r.O4$(),r.kcU(),r.TgZ(0,"div",11),r._uU(1),r.qZA()),2&s){const h=r.oxw();r.xp6(1),r.Oqu(h.getMsg())}}function a(s,m){if(1&s){const h=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"div",12),r._uU(1),r.ALo(2,"mytranslate"),r.TgZ(3,"a",13),r.NdJ("click",function(){r.CHM(h);const y=r.oxw();return r.KtG(y.isShowErrorsBox=!y.isShowErrorsBox)}),r._uU(4),r.ALo(5,"mytranslate"),r.ALo(6,"mytranslate"),r.qZA()()}if(2&s){const h=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,2,"lang_auto_da_xay_ra_loi_trong_qua_trinh_trao_doi_du_lieu_")," "),r.xp6(3),r.hij(" ",h.isShowErrorsBox?r.lcZ(5,4,"lang_auto_an_chi_tiet"):r.lcZ(6,6,"lang_auto_xem_chi_tiet")," ")}}function u(s,m){if(1&s&&(r.O4$(),r.kcU(),r.TgZ(0,"div",12),r._uU(1),r.qZA()),2&s){const h=r.oxw();r.xp6(1),r.hij(" ",h.LogErrorsRequest," ")}}function g(s,m){if(1&s&&(r.O4$(),r.kcU(),r.TgZ(0,"div",14),r._uU(1),r.ALo(2,"mytranslate"),r.qZA()),2&s){const h=r.oxw();r.xp6(1),r.Oqu(h.customText?h.customText:r.lcZ(2,1,"lang_auto_dang_tai_du_lieu")+"...")}}let l=(()=>{class s extends x.Q{constructor(){super(...arguments),this.progress_value=-1,this.LogErrorsRequest=!1,this.customText="",this.isShowErrorsBox=!1}getMsg(){let h="";return 100==this.progress_value||0==this.progress_value?(h=this.commonService.myTranslateInstant("lang_auto_dang_xu_ly")??"",`${h} ...`):(h=this.commonService.myTranslateInstant("lang_auto_dang_tai_tep_tin_len_he_thong")??"",`${h}... ${this.progress_value} %`)}static#e=this.\u0275fac=function(){let h;return function(y){return(h||(h=r.n5z(s)))(y||s)}}();static#t=this.\u0275cmp=r.Xpm({type:s,selectors:[["azt-loading-effect"]],inputs:{progress_value:"progress_value",LogErrorsRequest:"LogErrorsRequest",customText:"customText"},features:[r.qOj],decls:12,vars:5,consts:[[1,"box-loading","h-full"],[1,"text-center","py-4"],["version","1.1","id","jobing-j-drawit","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 109 92.9",0,"xml","space","preserve",1,"w-12","mx-auto",2,"enable-background","new 0 0 109 92.9"],["d","M90.8,52c3.5,6.2,7.1,11.7,9.8,17.7c4.4,9.7-2.9,20.7-13.8,20.9c-11.8,0.2-23.7,0.2-35.5,0 c-11-0.1-17.6-12.2-12-21.7c0.4-0.8,1.8-1.4,2.7-1.4c9.9-0.1,19.7-0.1,29.6-0.1c9.8,0,15.9-4.6,18.7-14C90.4,53.2,90.5,52.9,90.8,52 z",1,"azt-svg-loading","jobing-j"],["d","M39.6,90.3c-6.8,0-13.8,0.8-20.5-0.2c-9.7-1.4-15-12.8-10.3-21.3c5.9-10.9,12.1-21.6,18.5-32.2 c5.5-9,18.6-8.7,24.2,0.2c0.7,1.1,0.8,1.9,0.1,3.1C46.7,48.3,42,57,36.8,65.3c-5.3,8.4-3.8,18.8,2.5,24.6 C39.5,89.9,39.5,90.2,39.6,90.3z",1,"azt-svg-loading","jobing-j"],["d","M32.5,27.3c3.3-5.7,6.1-11,9.4-16c5.9-9.1,19.4-9.2,25.1,0c6.5,10.4,12.6,21,18.3,31.7 c4.8,9-1.5,19.9-11.5,20.7c-1.6,0.1-2.6-0.2-3.5-1.8c-4.8-8.6-9.8-17.1-14.7-25.6c-4.7-8.3-12.5-11.6-21.7-9.2 C33.6,27.1,33.3,27.1,32.5,27.3z",1,"azt-svg-loading","jobing-j"],["style","margin-bottom: 30px; border-radius: 5px","mode","buffer",3,"value",4,"ngIf"],["class","note text-center font-weight-bold",4,"ngIf","ngIfElse"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["notLoading",""],["mode","buffer",2,"margin-bottom","30px","border-radius","5px",3,"value"],[1,"note","text-center","font-weight-bold"],["role","alert",1,"alert","alert-danger","mt-3"],["azt-track-service","loading-effect-5TYv52U-wgq","href","javscript:void(0)",3,"click"],[1,"note","text-center","font-medium"]],template:function(O,y){if(1&O&&(r.TgZ(0,"div",0)(1,"div",1),r.O4$(),r.TgZ(2,"svg",2),r._UZ(3,"path",3)(4,"path",4)(5,"path",5),r.qZA()(),r.YNc(6,_,1,1,"mat-progress-bar",6),r.YNc(7,d,2,1,"div",7),r.YNc(8,a,7,8,"div",8),r.YNc(9,u,2,1,"div",8),r.YNc(10,g,3,3,"ng-template",null,9,r.W1O),r.qZA()),2&O){const k=r.MAs(11);r.xp6(6),r.Q6J("ngIf",-1!=y.progress_value),r.xp6(1),r.Q6J("ngIf",-1!=y.progress_value)("ngIfElse",k),r.xp6(1),r.Q6J("ngIf",!1!==y.LogErrorsRequest),r.xp6(1),r.Q6J("ngIf",y.isShowErrorsBox)}},dependencies:[C.O5,v.pW,M.JV],encapsulation:2})}return s})()},72358:(Z,P,p)=>{p.d(P,{M:()=>_});var x=p(47496),r=p(65879),C=p(96814);function v(d,a){1&d&&(r.O4$(),r.TgZ(0,"svg",2),r._UZ(1,"polyline",3)(2,"polyline",4),r.qZA())}function M(d,a){1&d&&(r.O4$(),r.TgZ(0,"svg",2),r._UZ(1,"polyline",5)(2,"polyline",6),r.qZA())}let _=(()=>{class d extends x.Q{constructor(){super(...arguments),this.isScrollToTop=!1}scrollTo(){this.isScrollToTop?window.scrollTo(0,0):window.scrollTo(0,document.body.scrollHeight)}ngOnInit(){super.ngOnInit()}static#e=this.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(d)))(l||d)}}();static#t=this.\u0275cmp=r.Xpm({type:d,selectors:[["azt-scroll-to-top-bottom"]],inputs:{isScrollToTop:"isScrollToTop"},features:[r.qOj],decls:3,vars:2,consts:[["azt-track-service","azt-scroll-to-top-bottom-DbRV8ySsXT1",1,"toolBarMobile","clickable",3,"click"],["style","color: white","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",2,"color","white"],["points","17 11 12 6 7 11"],["points","17 18 12 13 7 18"],["points","7 13 12 18 17 13"],["points","7 6 12 11 17 6"]],template:function(g,l){1&g&&(r.TgZ(0,"div",0),r.NdJ("click",function(){return l.scrollTo()}),r.YNc(1,v,3,0,"svg",1),r.YNc(2,M,3,0,"svg",1),r.qZA()),2&g&&(r.xp6(1),r.Q6J("ngIf",l.isScrollToTop),r.xp6(1),r.Q6J("ngIf",!l.isScrollToTop))},dependencies:[C.O5],styles:[".toolBarMobile[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;z-index:100;margin:0 40px 25px;padding:5px;background:rgba(181,181,181,.5294117647);border-radius:3px}"]})}return d})()}}]);