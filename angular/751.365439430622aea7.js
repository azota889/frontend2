"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[751],{32343:(nt,F,m)=>{m.d(F,{s:()=>Y});var n=m(94650),S=m(55330),O=m(28293),U=m(36895),t=m(1033);const e=["table"];function u(D,E){if(1&D&&(n.TgZ(0,"th",2),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&D){const g=n.oxw();n.uIk("excelWidth",20)("excelRow",0)("excelColumn",7)("excelStyle",g.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(2,5,"lang_auto_lop")," ")}}function f(D,E){if(1&D&&(n.TgZ(0,"td",2),n._uU(1),n.qZA()),2&D){const g=n.oxw(),j=g.index,A=g.$implicit,v=n.oxw();let W;n.uIk("excelRow",j+1)("excelColumn",7)("excelStyle",A.errorImportIdentification?v.styleTdError:v.styleTdNormal),n.xp6(1),n.hij(" ",null!==(W=A.classroomName)&&void 0!==W?W:""," ")}}function k(D,E){if(1&D&&(n.TgZ(0,"tr")(1,"td",2),n._uU(2),n.qZA(),n.TgZ(3,"td",2),n._uU(4),n.qZA(),n.TgZ(5,"td",2),n._uU(6),n.qZA(),n.TgZ(7,"td",2),n._uU(8),n.qZA(),n.TgZ(9,"td",2),n._uU(10),n.ALo(11,"formatOnlyDateByUserUnitPipe"),n.qZA(),n.TgZ(12,"td",2),n._uU(13),n.ALo(14,"mytranslate"),n.ALo(15,"mytranslate"),n.qZA(),n.TgZ(16,"td",2),n._uU(17),n.ALo(18,"formatStudentCodeToNumber"),n.qZA(),n.YNc(19,f,2,4,"td",3),n.TgZ(20,"td",5),n._uU(21),n.ALo(22,"mytranslate"),n.qZA(),n.TgZ(23,"td",5),n._uU(24),n.qZA()()),2&D){const g=E.$implicit,j=E.index,A=E.index,v=n.oxw();n.xp6(1),n.uIk("excelRow",A+1)("excelColumn",0)("excelStyle",g.errorImportIdentification?v.styleTdError:v.styleTdNormal),n.xp6(1),n.hij(" ",g.fullName?j+1:""," "),n.xp6(1),n.uIk("excelRow",A+1)("excelColumn",1)("excelStyle",g.errorImportIdentification?v.styleTdErrorLeft:v.styleTdNormalLeft),n.xp6(1),n.hij(" ",g.fullName," "),n.xp6(1),n.uIk("excelRow",A+1)("excelColumn",2)("excelStyle",g.errorImportIdentification?v.styleTdNotNumberError:v.styleTdNotNumberNormal),n.xp6(1),n.hij(" ",g.phone," "),n.xp6(1),n.uIk("excelRow",A+1)("excelColumn",3)("excelStyle",g.errorImportIdentification?v.styleTdError:v.styleTdNormal),n.xp6(1),n.hij(" ",g.email," "),n.xp6(1),n.uIk("excelRow",A+1)("excelColumn",4)("excelStyle",g.errorImportIdentification?v.styleTdError:v.styleTdNormal),n.xp6(1),n.hij(" ",n.lcZ(11,35,g.birthday)," "),n.xp6(2),n.uIk("excelRow",A+1)("excelColumn",5)("excelStyle",g.errorImportIdentification?v.styleTdError:v.styleTdNormal),n.xp6(1),n.hij(" ",1==g.gender?n.lcZ(14,37,"lang_student_export_excel_gender_male"):0==g.gender?n.lcZ(15,39,"lang_student_export_excel_gender_female"):""," "),n.xp6(3),n.uIk("excelRow",A+1)("excelColumn",6)("excelStyle",g.errorImportIdentification?v.styleTdNotNumberError:v.styleTdNotNumberNormal),n.xp6(1),n.hij(" ",g.identificationNumber?n.xi3(18,41,g.identificationNumber,6):""," "),n.xp6(2),n.Q6J("ngIf",1===v.type),n.xp6(1),n.uIk("excelRow",A+1)("excelColumn",1===v.type?8:7),n.xp6(1),n.hij(" ",n.lcZ(22,44,g.errorImportIdentification)," "),n.xp6(2),n.uIk("excelRow",A+1)("excelColumn",1===v.type?9:8),n.xp6(1),n.hij(" ",v.commentObjs[A]," ")}}let Y=(()=>{class D extends S.Q{constructor(g){super(),this.exportExcelService=g,this.type=0,this.exportDataDone=new n.vpe,this.appendObjs=[],this.commentObjs=[],this.isExported=!1,this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleTdErrorLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNotNumberError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}},"isText":"1"}'}addCommentToExcelFile(){var g,j,A,v,W,G;let X=null!==(g="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"))&&void 0!==g?g:"",tt=null!==(j="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"))&&void 0!==j?j:"",et=null!==(A="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"))&&void 0!==A?A:"",H=null!==(v="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four"))&&void 0!==v?v:"",it=null!==(W="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_five"))&&void 0!==W?W:"",V=null!==(G="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_six"))&&void 0!==G?G:"";this.commentObjs=[X,tt,et,H,it,V]}ngOnChanges(){var g,j;this.appendObjs=[],this.isExported=!1;let v=7-(null!==(j=null===(g=this.objs)||void 0===g?void 0:g.length)&&void 0!==j?j:0);if(v>0)for(let W=0;W<v;W++)this.appendObjs.push({})}ngAfterViewChecked(){0==this.isExported&&(this.isExported=!0,setTimeout(()=>{this.exportDataDone.emit(this.exportExcelService.exportHtmlTableToExcelBlob(this.table,!0))},0))}ngOnInit(){super.ngOnInit(),this.addCommentToExcelFile()}}return D.\u0275fac=function(g){return new(g||D)(n.Y36(O.O))},D.\u0275cmp=n.Xpm({type:D,selectors:[["azt-export-excel-for-student-list"]],viewQuery:function(g,j){if(1&g&&n.Gf(e,5),2&g){let A;n.iGM(A=n.CRH())&&(j.table=A.first)}},inputs:{objs:"objs",type:"type"},outputs:{exportDataDone:"exportDataDone"},features:[n.qOj,n.TTD],decls:30,vars:56,consts:[[1,"table","table-bordered",2,"display","none"],["table",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngIf"],[4,"ngFor","ngForOf"],["excelStyle",'{"font":{"bold":true,"color":{"rgb":"f10000"}}}',1,"text-center","azt-excel-cell"]],template:function(g,j){1&g&&(n.TgZ(0,"table",0,1)(2,"thead")(3,"tr")(4,"th",2),n._uU(5),n.ALo(6,"mytranslate"),n.qZA(),n.TgZ(7,"th",2),n._uU(8),n.ALo(9,"mytranslate"),n.qZA(),n.TgZ(10,"th",2),n._uU(11),n.ALo(12,"mytranslate"),n.qZA(),n.TgZ(13,"th",2),n._uU(14),n.ALo(15,"mytranslate"),n.qZA(),n.TgZ(16,"th",2),n._uU(17),n.ALo(18,"mytranslate"),n.qZA(),n.TgZ(19,"th",2),n._uU(20),n.ALo(21,"mytranslate"),n.qZA(),n.TgZ(22,"th",2),n._uU(23),n.ALo(24,"mytranslate"),n.qZA(),n.YNc(25,u,3,7,"th",3),n._UZ(26,"th",2)(27,"th",2),n.qZA()(),n.TgZ(28,"tbody"),n.YNc(29,k,25,46,"tr",4),n.qZA()()),2&g&&(n.xp6(4),n.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",j.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(6,42,"lang_student_export_excel_no")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",j.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(9,44,"lang_student_export_excel_full_name")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",j.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(12,46,"lang_student_export_excel_phone")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",j.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(15,48,"lang_student_export_excel_email")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",j.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(18,50,"lang_student_export_excel_birthday")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",j.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(21,52,"lang_student_export_excel_gender")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",6)("excelStyle",j.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(24,54,"lang_auto_so_bao_danh")," "),n.xp6(2),n.Q6J("ngIf",1===j.type),n.xp6(1),n.uIk("excelWidth",30)("excelRow",0)("excelColumn",8)("excelStyle",j.styleThNormal),n.xp6(1),n.uIk("excelWidth",100),n.xp6(2),n.Q6J("ngForOf",j.objs.concat(j.appendObjs)))},dependencies:[U.sg,U.O5,t.bT,t.t9,t._I],encapsulation:2}),D})()},44207:(nt,F,m)=>{m.d(F,{p:()=>xt});var n=m(24006),S=m(76619),O=m(85053),U=m(55330),t=m(1574),e=m(94650),u=m(70409),f=m(33634),k=m(79001),Y=m(36895),D=m(10266),E=m(59650),g=m(93194),j=m(44944),A=m(25157),v=m(49692),W=m(16883),G=m(73727),X=m(85736),tt=m(44262),et=m(32343),H=m(1033);function it(_,y){1&_&&(e.TgZ(0,"div",38)(1,"div",39),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&_&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_testbank_test_config_you_not_yet_class")," "))}function V(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"div",9)(1,"label",11),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",29)(5,"div",30)(6,"h3",23),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"div",31),e._UZ(10,"azt-list-classroom-checkall",32),e.qZA()(),e.TgZ(11,"div",33)(12,"div",34)(13,"ng-scrollbar",35)(14,"azt-list-classroom-checkbox",36),e.NdJ("objsChange",function(p){e.CHM(l);const b=e.oxw();return e.KtG(b.classroomObjs=p)}),e.qZA()()()()(),e.YNc(15,it,4,3,"div",37),e.qZA()}if(2&_){const l=e.oxw();e.Q6J("hidden",2===l.stepView),e.xp6(2),e.hij(" ",e.lcZ(3,13,"lang_auto_chon_nhung_can_danh_so_bao_danh")," "),e.xp6(5),e.hij(" ",e.lcZ(8,15,"lang_auto_danh_sach_cac_lop")," "),e.xp6(3),e.Q6J("form",l.form)("objs",l.classroomObjs)("permissionName",l.permissionTypes.exam),e.xp6(3),e.Q6J("visibility","hover")("autoHeightDisabled",!1),e.xp6(1),e.Q6J("form",l.form)("objs",l.classroomObjs)("examClassroomObjs",l.examClassroomObjs)("permissionName",l.permissionTypes.exam),e.xp6(1),e.Q6J("ngIf",l.form.controls.classroomIds.errors)}}function st(_,y){1&_&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&_&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau")," "))}function at(_,y){1&_&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&_&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_lon_hon_0")," "))}function lt(_,y){1&_&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&_&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_khong_qua_6_chu_so")," "))}function ct(_,y){if(1&_&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&_){const l=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_yeu_cau_nhap_so_va_be_nhat_la_1_max_999999")+(999999-(l.totalStudent?l.totalStudent-1:0))," ")}}function dt(_,y){if(1&_&&(e.TgZ(0,"div",46),e.YNc(1,st,3,3,"span",47),e.YNc(2,at,3,3,"span",47),e.YNc(3,lt,3,3,"span",47),e.YNc(4,ct,3,3,"span",47),e.qZA()),2&_){const l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",l.form.controls.startNumbering.errors.required),e.xp6(1),e.Q6J("ngIf",l.form.controls.startNumbering.errors.min),e.xp6(1),e.Q6J("ngIf",l.form.controls.startNumbering.errors.maxlength&&!l.form.controls.startNumbering.errors.max&&!l.form.controls.startNumbering.errors.min),e.xp6(1),e.Q6J("ngIf",l.form.controls.startNumbering.errors.max)}}function ht(_,y){if(1&_&&(e.TgZ(0,"div",40)(1,"label",41),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"span",42),e.ALo(5,"mytranslate"),e._UZ(6,"lucide-icon",43),e.qZA()(),e._UZ(7,"input",44),e.ALo(8,"mytranslate"),e.YNc(9,dt,5,4,"div",45),e.qZA()),2&_){const l=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_nhap_so_bao_danh_bat_dau")," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(5,6,"lang_tooltip_input_identification_numbering")),e.xp6(3),e.s9C("placeholder",e.lcZ(8,8,"lang_auto_nhap_so")+"..."),e.xp6(2),e.Q6J("ngIf",l.form.controls.startNumbering.errors&&(l.form.controls.startNumbering.touched||l.form.controls.startNumbering.dirty))}}function pt(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"div",58),e.NdJ("click",function(p){e.CHM(l);const b=e.MAs(3),T=e.oxw(2);return e.KtG(T.isMobileWebView?p.preventDefault:b.click())})("filesChangeEmiter",function(p){e.CHM(l);const b=e.oxw(2);return e.KtG(b.onFileSelected(p))}),e.TgZ(1,"div",59)(2,"input",60,61),e.NdJ("change",function(p){e.CHM(l);const b=e.oxw(2);return e.KtG(b.onFileSelected(p.target.files))}),e.qZA(),e.TgZ(4,"div"),e.O4$(),e.TgZ(5,"svg",62),e._UZ(6,"path",63)(7,"polyline",64)(8,"path",65)(9,"path",66)(10,"path",67)(11,"path",68),e.qZA(),e.kcU(),e.TgZ(12,"span",69),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()}2&_&&(e.xp6(13),e.hij(" ",e.lcZ(14,2,"lang_auto_keo_tha_file_excel")," "),e.xp6(2),e.hij(" ",e.lcZ(16,4,"lang_auto_hoc_click_de_chon_file")," "))}function mt(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"div",70)(1,"div",71)(2,"div",72)(3,"div",73)(4,"div",74)(5,"div",75),e._UZ(6,"img",76),e.ALo(7,"convertCdnLinkOfGitHub"),e.qZA(),e.TgZ(8,"div",77)(9,"p",78,79),e._uU(11),e.qZA(),e.TgZ(12,"div",80),e._uU(13),e.qZA()(),e.TgZ(14,"div",81)(15,"button",82),e.NdJ("click",function(p){e.CHM(l);const b=e.oxw(2);return e.KtG(b.removeFile(p))}),e.ALo(16,"mytranslate"),e.O4$(),e.TgZ(17,"svg",83),e._UZ(18,"path",84)(19,"path",85)(20,"path",86)(21,"line",87)(22,"line",88),e.qZA()()()()()()()()}if(2&_){const l=e.MAs(10),d=e.oxw(2);e.xp6(6),e.Q6J("src",e.lcZ(7,7,"azota_assets/images/excel.png"),e.LSH),e.xp6(3),e.s9C("matTooltip",null==d.file?null:d.file.name),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",l.isDisabled),e.xp6(2),e.hij(" ",d.file?d.file.name:""," "),e.xp6(2),e.hij(" ",d.fileMb+"mb"," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(16,9,"lang_auto_xoa"))}}function ut(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"div",40)(1,"label",48),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,pt,17,6,"div",49),e.YNc(5,mt,23,11,"ng-template",null,50,e.W1O),e.TgZ(7,"div",51)(8,"button",52),e.NdJ("click",function(){e.CHM(l);const p=e.oxw();return e.KtG(p.exportStudentListByClassroomIds("click"))}),e.TgZ(9,"span"),e.O4$(),e.TgZ(10,"svg",53),e._UZ(11,"path",54)(12,"path",55)(13,"path",56),e.qZA()(),e.kcU(),e.TgZ(14,"span",57),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()()}if(2&_){const l=e.MAs(6),d=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_tai_file_excel_len")," "),e.xp6(2),e.Q6J("ngIf",!d.file)("ngIfElse",l),e.xp6(11),e.hij(" ",e.lcZ(16,6,"lang_auto_tai_danh_sach_hoc_sinh_trong_lop")," ")}}function _t(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(l);const p=e.oxw();return e.KtG(p.prevStepView())}),e.O4$(),e.TgZ(1,"svg",90),e._UZ(2,"polyline",91),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&_&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_quay_lai")," "))}function gt(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(l);const p=e.oxw();return e.KtG(p.nextStepView())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}if(2&_){const l=e.oxw();e.Q6J("disabled",l.form.controls.classroomIds.errors),e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_tiep_tuc")," ")}}function bt(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"button",93),e.NdJ("click",function(){e.CHM(l);const p=e.oxw();return e.KtG(p.handleNumberingAuto(p.form.controls.howIdentification.value))}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}if(2&_){const l=e.oxw();e.Q6J("disabled",0==l.form.controls.howIdentification.value&&l.form.controls.startNumbering.errors||1==l.form.controls.howIdentification.value&&null==l.file),e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_danh_so")," ")}}function ft(_,y){if(1&_){const l=e.EpF();e.TgZ(0,"azt-export-excel-for-student-list",94),e.NdJ("exportDataDone",function(p){e.CHM(l);const b=e.oxw();return e.KtG(b.exportStudentListDone(p))}),e.qZA()}if(2&_){const l=e.oxw();e.Q6J("objs",l.exportStudentObjs)("type",1)}}let xt=(()=>{class _ extends U.Q{constructor(l,d,p,b,T,J,L){super(),this.shareFileFlutterService=l,this.formBuilder=d,this.studentService=p,this.studentProfileV2Service=b,this.sEAztClassroomCheckboxService=T,this.dialogRef=J,this.data=L,this.form=new n.nJ({}),this.classroomObjs=[],this.examClassroomObjs=[],this.permissionTypes=O.$,this.stepView=1,this.fileMb=0,this.totalStudent=0,this.processData()}handleCloseDialog(){this.dialogRef.close(!1)}getFileMB(l){return l&&l>0?(l/=1048576).toFixed(2):0}nextStepView(){this.stepView=2,this.getTotalStudentData()}prevStepView(){this.stepView=1}exportStudentListDone(l){let d=this.commonService.createFileNameExportFile(["list-student","danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(l,d)}handleNumberingAuto(l){let d=[];if(1===this.data.type){let p=this.sEAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,O.$.exam);d=this.sEAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,p,this.form.controls.classroomIds.value)}if(2===this.data.type&&(d=this.data.listCheckBox),"0"==l){let p={classroomIds:d,startCode:this.form.controls.startNumbering.value?Number(this.form.controls.startNumbering.value):void 0};this.numberingAutomaticIdentification(p)}else this.file&&this.numberingExcelIdentification(d,this.file)}numberingAutomaticIdentification(l){this.initStatusObj(),this.subscriptions.add(this.studentService.apiStudentSetIdentificationNumbersPost(l).subscribe(d=>{var p;1==d.success?(this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0)):this.errorStatusObj(null!==(p=d.message)&&void 0!==p?p:"",!0)}))}numberingExcelIdentification(l,d){this.initStatusObj(),this.subscriptions.add(this.studentService.apiStudentImportStudentIdentificationNumbersPostForm(l,d).subscribe(p=>{var b;if(1==p.success)this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0);else{this.errorStatusObj("lang_auto_vui_long_nhap_dung_noi_dung_trong_file",!0);let T=null!==(b=p.data)&&void 0!==b?b:[];T.length>0&&(this.processDataErrors(T),this.exportStudentListByClassroomIds("auto")),this.file=null}}))}processData(){var l,d,p;if(1===this.data.type)for(let b=0;b<this.data.classroomWithGroup.length;b++)null!=this.data.classroomWithGroup[b].groupObj&&-1!=(null===(l=this.data.classroomWithGroup[b].groupObj)||void 0===l?void 0:l.id)&&(this.classroomObjs=this.classroomObjs.concat(null!==(d=this.data.classroomWithGroup[b].classroomObjs)&&void 0!==d?d:[])),null==this.data.classroomWithGroup[b].groupObj&&(this.classroomObjs=this.classroomObjs.concat(null!==(p=this.data.classroomWithGroup[b].classroomObjs)&&void 0!==p?p:[]));2===this.data.type&&(this.stepView=2)}processDataErrors(l){var d,p,b;if(this.exportStudentObjs=[],l.length>0)for(let T=0;T<l.length;T++){let J={fullName:l[T].fullName,phone:l[T].phone,email:l[T].email,birthday:l[T].birthday,gender:null!==(d=Number(l[T].gender))&&void 0!==d?d:void 0,identificationNumber:l[T].identificationNumber,classroomName:l[T].classroomName};J.errorImportIdentification=null!==(p=l[T].message)&&void 0!==p?p:"","lang_core_duplicate_student_identification_number"==l[T].message&&(J.errorImportIdentification="lang_auto_trung_so_bao_danh"),null===(b=this.exportStudentObjs)||void 0===b||b.push(J)}}getStudentListByClassroomIds(l){this.subscriptions.add(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(l).subscribe(d=>{var p,b,T;if(1===d.success){this.exportStudentObjs=d.data;let J=null!==(b=null===(p=this.exportStudentObjs)||void 0===p?void 0:p.length)&&void 0!==b?b:0;if(this.exportStudentObjs){let L=[],Q=[];this.exportStudentObjs.forEach((q,$,vt)=>{L.find(rt=>rt.identificationNumber===q.identificationNumber)?Q.push(q):L.push(q)});for(let q=0;q<J;q++)if(this.exportStudentObjs[q].identificationNumber)for(let $=0;$<Q.length;$++)this.exportStudentObjs&&this.exportStudentObjs[q].identificationNumber===Q[$].identificationNumber&&(this.exportStudentObjs[q].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[q].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}if(this.exportStudentObjs)for(let L=0;L<J;L++)if(this.exportStudentObjs[L].identificationNumber)for(let Q=L+1;Q<J;Q++)this.exportStudentObjs&&this.exportStudentObjs[L].identificationNumber===this.exportStudentObjs[Q].identificationNumber&&(this.exportStudentObjs[L].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[L].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}else this.showErrorSnack(null!==(T=d.message)&&void 0!==T?T:"")}))}exportStudentListByClassroomIds(l){let d="";if(1===this.data.type){let p=this.sEAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,O.$.exam);d=this.sEAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,p,this.form.controls.classroomIds.value).toString()}2===this.data.type&&(d=this.data.listCheckBox.toString()),"click"==l&&this.getStudentListByClassroomIds(d)}getTotalStudentData(){let l="";if(1===this.data.type){let d=this.sEAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,O.$.exam);l=this.sEAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,d,this.form.controls.classroomIds.value).toString()}2===this.data.type&&(l=this.data.listCheckBox.toString()),this.subscriptions.add(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(l).subscribe(d=>{var p,b;1===d.success&&(this.totalStudent=null!==(b=null===(p=d.data)||void 0===p?void 0:p.length)&&void 0!==b?b:0,this.form.controls.startNumbering.addValidators(n.kI.max(999999-(this.totalStudent?this.totalStudent-1:0))))}))}onFileSelected(l){var d,p;this.file=l?l[0]:this.file,this.fileMb=this.getFileMB(null!==(p=null===(d=this.file)||void 0===d?void 0:d.size)&&void 0!==p?p:0),this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}removeFile(l){l.stopPropagation(),this.file=null}ngOnInit(){super.ngOnInit(),this.form=this.formBuilder.group({startNumbering:new n.p4(1,[n.kI.required,n.kI.pattern("^[0-9]*$"),n.kI.min(1),n.kI.maxLength(6)]),howIdentification:new n.p4("0"),classroomIds:this.formBuilder.array([]),file:new n.p4("")},{validators:[t.h.classroomCheckBoxValidatorWithoutWhoAllow]}),this.data.totalStudent&&(this.totalStudent=this.data.totalStudent,this.form.controls.startNumbering.addValidators(n.kI.max(999999-(this.totalStudent?this.totalStudent-1:0))))}}return _.\u0275fac=function(l){return new(l||_)(e.Y36(u.g),e.Y36(n.qu),e.Y36(f.VT),e.Y36(f.LU),e.Y36(k.L),e.Y36(S.so,8),e.Y36(S.WI,8))},_.\u0275cmp=e.Xpm({type:_,selectors:[["azt-automatic-identification"]],features:[e.qOj],decls:53,vars:40,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-lg","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-0.5"],[3,"defaultHeight"],[1,"p-3"],[3,"formGroup"],["class","intro",3,"hidden",4,"ngIf"],[1,"intro",3,"hidden"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],[1,"form-check","mt-1","mr-10"],["id","by-automatic","type","radio","value","0","formControlName","howIdentification",1,"form-check-input"],["for","by-automatic",1,"form-check-label"],[1,"form-check","mt-1"],["id","by-excel","type","radio","value","1","formControlName","howIdentification",1,"form-check-input"],["for","by-excel",1,"form-check-label"],[1,"text-xs","leading-relaxed","mt-4"],[1,"mt-1"],["class","intro mt-4",4,"ngIf"],[1,"p-3","flex","items-center"],[1,"mr-auto"],["azt-track-service","azt-automatic-identification-4p28zlT3gA","class","btn-text-primary",3,"click",4,"ngIf"],["azt-track-service","azt-automatic-identification-2EiEU9_Cnw",1,"btn","btn-secondary","w-20","mr-2",3,"click"],["azt-track-service","azt-automatic-identification-kI3BEINfrN","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],[3,"objs","type","exportDataDone",4,"ngIf"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","pb-1","mt-2"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","flex","items-center"],[1,"flex"],["formArrayName","classroomIds",3,"form","objs","permissionName"],[1,"classroom_list"],[2,"height","250px","padding-bottom","25px"],["pointerEventsMethod","scrollbar",3,"visibility","autoHeightDisabled"],["formArrayName","classroomIds",3,"form","objs","examClassroomObjs","permissionName","objsChange"],["class","col-span-12 mt-2",4,"ngIf"],[1,"col-span-12","mt-2"],[1,"text-xs","text-danger"],[1,"intro","mt-4"],["for","number-start",1,"form-label","font-medium","flex","items-center"],[1,"inline-block","w-4","h-4","ml-2",3,"matTooltip"],["name","info"],["id","number-start","appOnlyNumber","","type","text","formControlName","startNumbering",1,"form-control",3,"placeholder"],["class","mt-2 fade text-xs text-danger font-medium",4,"ngIf"],[1,"mt-2","fade","text-xs","text-danger","font-medium"],[4,"ngIf"],[1,"form-label","font-medium"],["azt-track-service","azt-automatic-identification-PooqxQVpD","class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md pt-4","appDragDrop","",3,"click","filesChangeEmiter",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","azt-automatic-identification-J9l0MWhdQ8",1,"btn","text-primary","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["d","M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"],["d","M12 12v9"],["d","m8 17 4 4 4-4"],[1,"text-primary"],["azt-track-service","azt-automatic-identification-PooqxQVpD","appDragDrop","",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4",3,"click","filesChangeEmiter"],[1,"px-4","pb-4","mt-5","flex","items-center","justify-center","text-center","cursor-pointer","relative"],["id","horizontal-form-1","type","file",1,"top-0","left-0","absolute","opacity-0",3,"change"],["fileSelect",""],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","text-success","w-5","h-5","mr-2"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M8 13h2"],["d","M8 17h2"],["d","M14 13h2"],["d","M14 17h2"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc( 100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["azt-track-service","azt-automatic-identification-4p28zlT3gA",1,"btn-text-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["points","15 18 9 12 15 6"],["azt-track-service","azt-automatic-identification-kI3BEINfrN",1,"btn","w-24","btn-primary",3,"disabled","click"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A",1,"btn","w-24","btn-primary",3,"disabled","click"],[3,"objs","type","exportDataDone"]],template:function(l,d){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"azt-mat-dialog-content",5)(10,"div",6)(11,"form",7),e.YNc(12,V,16,17,"div",8),e.TgZ(13,"div",9)(14,"div",10)(15,"label",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA(),e.TgZ(18,"div",12)(19,"div",13),e._UZ(20,"input",14),e.TgZ(21,"label",15),e._uU(22),e.ALo(23,"mytranslate"),e.qZA()(),e.TgZ(24,"div",16),e._UZ(25,"input",17),e.TgZ(26,"label",18),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()(),e.TgZ(29,"div",19)(30,"div",10)(31,"span",11),e._uU(32),e.ALo(33,"mytranslate"),e.qZA(),e._uU(34),e.ALo(35,"mytranslate"),e.qZA(),e.TgZ(36,"div",20)(37,"span",11),e._uU(38),e.ALo(39,"mytranslate"),e.qZA(),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()()(),e.YNc(42,ht,10,10,"div",21),e.YNc(43,ut,17,8,"div",21),e.qZA()()()()(),e.TgZ(44,"div",22)(45,"div",23),e.YNc(46,_t,5,3,"button",24),e.qZA(),e.TgZ(47,"button",25),e.NdJ("click",function(){return d.handleCloseDialog()}),e._uU(48),e.ALo(49,"mytranslate"),e.qZA(),e.YNc(50,gt,3,4,"button",26),e.YNc(51,bt,3,4,"button",27),e.qZA()(),e.YNc(52,ft,1,2,"azt-export-excel-for-student-list",28)),2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,20,"lang_auto_danh_so_bao_danh")," "),e.xp6(3),e.hij(" ",e.lcZ(8,22,"lang_auto_danh_so_bao_danh_de_su_dung_cho_nhung_ki_thi_offline")," "),e.xp6(2),e.Q6J("defaultHeight",50),e.xp6(2),e.Q6J("formGroup",d.form),e.xp6(1),e.Q6J("ngIf",1===d.data.type),e.xp6(1),e.Q6J("hidden",1===d.stepView),e.xp6(3),e.hij(" ",e.lcZ(17,24,"lang_auto_chon_cach_danh_so_bao_danh")," "),e.xp6(6),e.hij(" ",e.lcZ(23,26,"lang_auto_danh_tu_dong")," "),e.xp6(5),e.hij(" ",e.lcZ(28,28,"lang_auto_danh_bang_file_excel")," "),e.xp6(5),e.hij(" ","*"+e.lcZ(33,30,"lang_auto_danh_tu_dong")+": "," "),e.xp6(2),e.hij(" ",e.lcZ(35,32,"lang_auto_he_thong_se_tu_dong_danh_so_bao_danh_theo_alpha_b")," "),e.xp6(4),e.hij(" ","*"+e.lcZ(39,34,"lang_auto_danh_bang_file_excel")+": "," "),e.xp6(2),e.hij(" ",e.lcZ(41,36,"lang_auto_tai_file_excel_de_danh_so_bao_danh")," "),e.xp6(2),e.Q6J("ngIf",0==d.form.controls.howIdentification.value),e.xp6(1),e.Q6J("ngIf",1==d.form.controls.howIdentification.value),e.xp6(3),e.Q6J("ngIf",1===d.data.type&&2===d.stepView),e.xp6(2),e.hij(" ",e.lcZ(49,38,"lang_auto_huy")," "),e.xp6(2),e.Q6J("ngIf",1===d.stepView),e.xp6(1),e.Q6J("ngIf",2===d.stepView),e.xp6(1),e.Q6J("ngIf",d.exportStudentObjs))},dependencies:[Y.O5,D.gM,n._Y,n.Fj,n._,n.JJ,n.JL,n.sg,n.u,n.CE,E.KC,g.Nh5,j.Y,A.N,v.M,W.o,G.g,X.O,tt.Q,et.s,H.bT,H.Jc],encapsulation:2}),_})()},89933:(nt,F,m)=>{m.d(F,{I:()=>re});var n=m(55330),S=m(24006),O=m(76619);class U{static checkboxRequired(c){let i=!1;return c.controls.forEach(a=>{var r;null!==(r=a.get("checkbox"))&&void 0!==r&&r.value&&(i=!0)}),i?null:{checkboxRequired:!0}}}var t=m(94650),e=m(33634),u=m(36895),f=m(91350),k=m(1033);function Y(o,c){1&o&&t._UZ(0,"azt-loading-effect",3)}function D(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",4)(1,"div",3)(2,"h3",5),t.O4$(),t.TgZ(3,"svg",6),t._UZ(4,"path",7)(5,"path",8)(6,"path",9)(7,"line",10)(8,"line",11),t.qZA(),t.kcU(),t.TgZ(9,"span",12),t._uU(10),t.ALo(11,"mytranslate"),t.TgZ(12,"span",13),t._uU(13),t.qZA(),t._uU(14,"? "),t.qZA()()()(),t.TgZ(15,"div",14)(16,"button",15),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.cancelDelete())}),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"button",16),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.deletePermissionEvent())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(10),t.hij(" ",t.lcZ(11,4,"lang_auto_ban_co_chac_chan_muon_xoa")," "),t.xp6(3),t.hij(" ",i.groupObj?i.groupObj.name:null==i.teacherObj?null:i.teacherObj.fullName," "),t.xp6(4),t.Oqu(t.lcZ(18,6,"lang_auto_huy")),t.xp6(3),t.Oqu(t.lcZ(21,8,"lang_auto_xac_nhan"))}}let E=(()=>{class o extends n.Q{constructor(i,a,r,s){super(),this.dialog=i,this.dialogRef=a,this.data=r,this.permissionTeamService=s,this.groupObj=void 0,this.teacherObj=void 0,this.groupObj=r.groupObj,this.teacherObj=r.teacherObj,this.shareDataObj=r.shareDataObj}deletePermissionEvent(){var i,a,r,s,h,x;this.groupObj?this.deleteGroupPermission(null===(i=this.groupObj)||void 0===i?void 0:i.id,null===(a=this.shareDataObj)||void 0===a?void 0:a.objectId,null===(r=this.shareDataObj)||void 0===r?void 0:r.objectCodeType):this.teacherObj&&this.deleteTeacherPermission(null===(s=this.teacherObj)||void 0===s?void 0:s.id,null===(h=this.shareDataObj)||void 0===h?void 0:h.objectId,null===(x=this.shareDataObj)||void 0===x?void 0:x.objectCodeType)}cancelDelete(){this.dialogRef.close(!1)}deleteTeacherPermission(i,a,r){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteTeacherPermissionGet(i??0,a??0,r??0).subscribe(s=>{1==s.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}deleteGroupPermission(i,a,r){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteGroupPermissionGet(i??0,a??0,r??0).subscribe(s=>{1==s.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(O.uw),t.Y36(O.so),t.Y36(O.WI),t.Y36(e.sb))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-share-confirm-to-delete-permission-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box"],["class","p-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"text-base","mr-auto"],[1,"font-medium","text-danger"],[1,"p-3","text-right"],["azt-track-service","confirm-to-delete-permission-dialog-mNjxnIzWG8",1,"btn","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-to-delete-permission-dialog-EP57nAPMmq",1,"btn","btn-primary",3,"click"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,Y,1,0,"azt-loading-effect",1),t.YNc(2,D,22,10,"ng-template",null,2,t.W1O),t.qZA()),2&i){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.O5,f.Q,k.bT],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),o})();var g=m(15431);let j=(()=>{class o{constructor(i){this.permissionTeamService=i,this.cacheTeamPermissionObjs={}}getTeamPermissionObjs(i,a){var r=this.getCacheKey(i);this.cacheTeamPermissionObjs&&this.cacheTeamPermissionObjs.hasOwnProperty(r)&&this.cacheTeamPermissionObjs[r]?a(this.cacheTeamPermissionObjs[r],""):this.permissionTeamService.apiPermissionTeamGetAllPermissionsGet(i).subscribe(s=>{var h,x,w,C,P;1==s.success?(this.cacheTeamPermissionObjs[r]=null!==(x=null===(h=s.data)||void 0===h?void 0:h.objs)&&void 0!==x?x:[],a(null!==(C=null===(w=s.data)||void 0===w?void 0:w.objs)&&void 0!==C?C:[],"")):a([],null!==(P=s.message)&&void 0!==P?P:"")})}getCacheKey(i){return"type_"+i}}return o.\u0275fac=function(i){return new(i||o)(t.LFG(e.sb))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=m(10266),v=m(64123),W=m(49692);function G(o,c){1&o&&t._UZ(0,"azt-loading-effect",3)}function X(o,c){if(1&o&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Oqu(null==i.teacherObj?null:i.teacherObj.phone)}}function tt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",27)(1,"button",28),t.NdJ("click",function(){t.CHM(i);const r=t.oxw(2);return t.KtG(r.showConfirmDeleteDialog())}),t.ALo(2,"mytranslate"),t.O4$(),t.TgZ(3,"svg",29),t._UZ(4,"path",30)(5,"path",31)(6,"path",32)(7,"line",33)(8,"line",34),t.qZA()()()}2&o&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"lang_auto_xoa_quyen")))}function et(o,c){if(1&o&&(t.TgZ(0,"div",35),t._UZ(1,"input",36),t.TgZ(2,"label",37),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()),2&o){const i=c.$implicit,a=c.index;t.Q6J("formGroup",i),t.xp6(1),t.MGl("id","role-0-",a,""),t.xp6(1),t.MGl("for","role-0-",a,""),t.xp6(1),t.hij(" ",t.lcZ(4,4,i.get("checkboxLabel").value)," ")}}function H(o,c){1&o&&(t.TgZ(0,"div",38),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_ban_phai_chon_quyen")))}function it(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h3",6)(3,"span",7),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"span",8),t._uU(7),t.qZA()(),t.TgZ(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12),t._UZ(12,"azt-create-avatar",13),t.qZA()(),t.TgZ(13,"div",14)(14,"p",15)(15,"span"),t._uU(16),t.qZA()(),t.YNc(17,X,2,1,"div",16),t.qZA(),t.YNc(18,tt,9,3,"div",17),t.qZA()(),t.TgZ(19,"div",18)(20,"form",19)(21,"div",20),t.YNc(22,et,5,6,"div",21),t.qZA()(),t.YNc(23,H,3,3,"div",22),t.qZA()()(),t.TgZ(24,"div",23)(25,"button",24),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.closeDialog())}),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"button",25),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.addOrUpdate())}),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()()}if(2&o){const i=t.oxw();let a,r,s,h;t.xp6(4),t.hij(" ",t.lcZ(5,14,"lang_auto_gan_quyen_cho")," "),t.xp6(3),t.hij(" ",null!==(a=null==i.groupObj?null:i.groupObj.name)&&void 0!==a?a:null==i.teacherObj?null:i.teacherObj.fullName,""),t.xp6(5),t.Q6J("linkAvatar",null==i.teacherObj?null:i.teacherObj.avatar)("nameCreateAvatar",null!==(r=null==i.groupObj?null:i.groupObj.name)&&void 0!==r?r:null==i.teacherObj?null:i.teacherObj.fullName)("size",40),t.xp6(4),t.Oqu(null!==(s=null==i.groupObj?null:i.groupObj.name)&&void 0!==s?s:null==i.teacherObj?null:i.teacherObj.fullName),t.xp6(1),t.Q6J("ngIf",null==i.teacherObj?null:i.teacherObj.phone),t.xp6(1),t.Q6J("ngIf",null==i.teamSharePermissionObjsAssigned?null:i.teamSharePermissionObjsAssigned.length),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(2),t.Q6J("ngForOf",null==(h=i.form.get("permissionObjs"))?null:h.controls),t.xp6(1),t.Q6J("ngIf",i.form.invalid),t.xp6(3),t.Oqu(t.lcZ(27,16,"lang_auto_huy")),t.xp6(2),t.Q6J("disabled",i.form.invalid),t.xp6(1),t.Oqu(t.lcZ(30,18,"lang_auto_luu"))}}let V=(()=>{class o extends n.Q{constructor(i,a,r,s,h,x,w){super(),this.fb=i,this.permissionService=a,this.dialog=r,this.dialogRef=s,this.data=h,this.permissionTeamService=x,this.aztSharePermissionService=w,this.groupObj=void 0,this.teacherObj=void 0,this.teamSharePermissionObjsAssigned=void 0,this.form=new S.nJ({}),this.groupObj=h.groupObj,this.teacherObj=h.teacherObj,this.shareDataObj=h.shareDataObj}addNewCheckBox(i,a,r){var s=this.fb.group({checkbox:new S.p4(r),checkboxId:new S.p4(a.id),checkboxLabel:new S.p4(a.key)});i.push(s)}addOrUpdate(){var i,a,r,s,h,x,w,C,P,Z,M;this.initStatusObj();for(var I=[],N=this.commonService.getFormObj(this.form),z=0;z<N.permissionObjs.length;z++)N.permissionObjs[z].checkbox&&I.push(N.permissionObjs[z].checkboxId);if(this.groupObj){var R={groupId:null!==(i=this.groupObj.id)&&void 0!==i?i:0,objectId:null!==(r=null===(a=this.shareDataObj)||void 0===a?void 0:a.objectId)&&void 0!==r?r:0,typeObj:null!==(h=null===(s=this.shareDataObj)||void 0===s?void 0:s.objectCode)&&void 0!==h?h:"",permissionIds:I};this.permissionTeamService.apiPermissionTeamShareObjectForGroupPermissionPost(R).subscribe(ot=>{var B;1==ot.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(null!==(B=ot.message)&&void 0!==B?B:"",!0),this.dialogRef.close(!1))})}else{var K={teacherId:null!==(w=null===(x=this.teacherObj)||void 0===x?void 0:x.id)&&void 0!==w?w:0,objectId:null!==(P=null===(C=this.shareDataObj)||void 0===C?void 0:C.objectId)&&void 0!==P?P:0,typeObj:null!==(M=null===(Z=this.shareDataObj)||void 0===Z?void 0:Z.objectCode)&&void 0!==M?M:"",permissionIds:I};this.permissionTeamService.apiPermissionTeamShareObjectForTeacherPermissionPost(K).subscribe(ot=>{var B;1==ot.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(null!==(B=ot.message)&&void 0!==B?B:"",!0),this.dialogRef.close(!1))})}}showConfirmDeleteDialog(){this.dialog.open(E,{data:{groupObj:this.groupObj,teacherObj:this.teacherObj,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.dialogRef.close(a)})}closeDialog(){this.dialogRef.close(!1)}filterValidPermissionObjsByObjectCode(i){var a,r;"CLASSROOM"==(null===(a=this.shareDataObj)||void 0===a?void 0:a.objectCode)&&!this.permissionService.hasFullPermission("classroom",this.permissionObj)&&this.permissionService.hasShareMarkPointPermission("classroom",this.permissionObj)&&(i=i.filter(x=>2==x.id));for(var s=[],h=0;h<i.length;h++)(this.permissionService.hasFullPermission("exam",this.permissionObj)||this.permissionService.hasFullPermission("homework",this.permissionObj)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",this.permissionObj)&&7==i[h].id||this.permissionService.hasSharePermission("classroom",this.permissionObj)&&"CLASSROOM"==(null===(r=this.shareDataObj)||void 0===r?void 0:r.objectCode))&&s.push(i[h]);return s}initFormData(){var i,a;this.initStatusObj(),this.aztSharePermissionService.getTeamPermissionObjs(null!==(a=null===(i=this.shareDataObj)||void 0===i?void 0:i.objectCodeType)&&void 0!==a?a:0,(r,s)=>{var h,x,w;if(s)this.errorStatusObj(s);else{for(var C=this.filterValidPermissionObjsByObjectCode(r),P=0;P<C.length;P++){var Z=null===(h=this.teamSharePermissionObjsAssigned)||void 0===h?void 0:h.find(M=>M.id==C[P].id);this.groupObj?this.addNewCheckBox(null===(x=this.form.controls)||void 0===x?void 0:x.permissionObjs,C[P],!!Z):this.teacherObj&&this.addNewCheckBox(null===(w=this.form.controls)||void 0===w?void 0:w.permissionObjs,C[P],!!Z)}this.stopStatusObj()}})}ngOnInit(){var i,a,r,s,h,x,w,C,P,Z,M,I,N,z,R,K;super.ngOnInit(),null!==(i=this.shareDataObj)&&void 0!==i&&i.classroomWithPermissionObj?this.permissionObj=null===(r=null===(a=this.shareDataObj)||void 0===a?void 0:a.classroomWithPermissionObj)||void 0===r?void 0:r.permissionObj:null!==(s=this.shareDataObj)&&void 0!==s&&s.examWithPermissionObj?this.permissionObj=null===(x=null===(h=this.shareDataObj)||void 0===h?void 0:h.examWithPermissionObj)||void 0===x?void 0:x.permissionObj:null!==(w=this.shareDataObj)&&void 0!==w&&w.homeworkWithPermissionObj?this.permissionObj=null===(P=null===(C=this.shareDataObj)||void 0===C?void 0:C.homeworkWithPermissionObj)||void 0===P?void 0:P.permissionObj:!(null===(Z=this.shareDataObj)||void 0===Z)&&Z.categoryWithPermissionObj&&(this.permissionObj=null===(I=null===(M=this.shareDataObj)||void 0===M?void 0:M.categoryWithPermissionObj)||void 0===I?void 0:I.permissionObj),this.teamSharePermissionObjsAssigned=null!==(z=null===(N=this.groupObj)||void 0===N?void 0:N.teamPermissions)&&void 0!==z&&z.length?null===(R=this.groupObj)||void 0===R?void 0:R.teamPermissions:null===(K=this.teacherObj)||void 0===K?void 0:K.teamPermissions,this.form=this.fb.group({permissionObjs:new S.Oe([],U.checkboxRequired)}),this.initFormData()}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(S.QS),t.Y36(g.$),t.Y36(O.uw),t.Y36(O.so),t.Y36(O.WI),t.Y36(e.sb),t.Y36(j))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-share-add-or-edit-permission-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","relative"],[1,"text-lg"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit"],[1,"mr-2",3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","delete-block",4,"ngIf"],[1,"x","px-3"],[3,"formGroup"],["formArrayName","permissionObjs"],["class","col-span-12 mt-3",3,"formGroup",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3 azt-pl-0",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","add-or-edit-permission-dialog-IkGPsxO5mp",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","add-or-edit-permission-dialog-OOSFibqmjy",1,"btn","btn-primary",3,"disabled","click"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"delete-block"],["azt-track-service","add-or-edit-permission-dialog-o6UT_07q4",1,"btn","btn-outline-danger","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"col-span-12","mt-3",3,"formGroup"],["type","checkbox","formControlName","checkbox",1,"show-code","form-check-input","mr-0",3,"id"],[1,"form-check-label",3,"for"],[1,"alert","alert-danger","mt-3","azt-pl-0"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,G,1,0,"azt-loading-effect",1),t.YNc(2,it,31,20,"ng-template",null,2,t.W1O),t.qZA()),2&i){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.sg,u.O5,A.gM,S._Y,S.Wl,S.JJ,S.JL,S.sg,S.u,S.CE,f.Q,v.g,W.M,k.bT],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),o})();var st=m(41261),at=m(86317),lt=m(76056),ct=m(45163),dt=m(59650),ht=m(44262),pt=m(51009);let mt=(()=>{class o{constructor(i){this.permissionService=i}transform(i,a){var r;let s=!1;return"CLASSROOM"===a?s=!!this.permissionService.hasSharePermission("classroom",i):"CATEGORY"===a?s=!!this.permissionService.hasSharePermission("category",i):(this.permissionService.hasSharePermission(null!==(r=a?.toLowerCase())&&void 0!==r?r:"",i)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",i))&&(s=!0),s}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(g.$,16))},o.\u0275pipe=t.Yjl({name:"aztShareCheckPermission",type:o,pure:!0}),o})(),ut=(()=>{class o{constructor(i){this.commonService=i}transform(i){let a="";if(i)for(let r=0;r<i.length;r++){let s=this.commonService.myTranslateInstant(i[r].key);""!=a?a=a+", "+s:a+=s}return a}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(pt.v,16))},o.\u0275pipe=t.Yjl({name:"aztPipeShowTooltipPermission",type:o,pure:!0}),o})();function _t(o,c){1&o&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_thu_muc")," "))}function gt(o,c){1&o&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_lop")," "))}function bt(o,c){1&o&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_de_thi")," "))}function ft(o,c){1&o&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_bai_tap")," "))}function xt(o,c){if(1&o&&(t.TgZ(0,"span",15,16),t._uU(2),t.qZA()),2&o){const i=t.MAs(1),a=t.oxw(2);let r,s;t.s9C("matTooltip",(null!==(r=null==a.shareDataObj.classroomWithPermissionObj?null:a.shareDataObj.classroomWithPermissionObj.name)&&void 0!==r?r:"")||(null!==(r=null==a.shareDataObj.examWithPermissionObj?null:a.shareDataObj.examWithPermissionObj.name)&&void 0!==r?r:"")||(null!==(r=null==a.shareDataObj.homeworkWithPermissionObj?null:a.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==r?r:"")||(null!==(r=null==a.shareDataObj.categoryWithPermissionObj?null:a.shareDataObj.categoryWithPermissionObj.name)&&void 0!==r?r:"")),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.xp6(2),t.hij(' "',(null!==(s=null==a.shareDataObj.classroomWithPermissionObj?null:a.shareDataObj.classroomWithPermissionObj.name)&&void 0!==s?s:"")||(null!==(s=null==a.shareDataObj.examWithPermissionObj?null:a.shareDataObj.examWithPermissionObj.name)&&void 0!==s?s:"")||(null!==(s=null==a.shareDataObj.homeworkWithPermissionObj?null:a.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==s?s:"")||(null!==(s=null==a.shareDataObj.categoryWithPermissionObj?null:a.shareDataObj.categoryWithPermissionObj.name)&&void 0!==s?s:""),'" ')}}function _(o,c){if(1&o&&(t.TgZ(0,"h3",10)(1,"span",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,_t,3,3,"span",12),t.YNc(5,gt,3,3,"span",12),t.YNc(6,bt,3,3,"span",12),t.YNc(7,ft,3,3,"span",12),t.YNc(8,xt,3,4,"span",13),t.qZA()),2&o){const i=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"lang_auto_chia_se")," "),t.xp6(2),t.Q6J("ngIf","CATEGORY"===(null==i.shareDataObj?null:i.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf","CLASSROOM"===(null==i.shareDataObj?null:i.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf","EXAM"===(null==i.shareDataObj?null:i.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf","HOMEWORK"===(null==i.shareDataObj?null:i.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf",i.shareDataObj)}}function y(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"input",20),t.NdJ("focus",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.showSearchList())})("focusout",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.hideSearchList())}),t.ALo(4,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(5,"svg",21),t._UZ(6,"circle",22)(7,"line",23),t.qZA()()()()}if(2&o){const i=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,2,"lang_auto_nhap_ten_hoac_sdt")),t.Q6J("formControl",i.searchNameKey)}}function l(o,c){if(1&o&&(t.TgZ(0,"span",43),t.ALo(1,"mytranslate"),t._uU(2),t.qZA()),2&o){const i=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_da_duoc_chia_se_quyen")),t.xp6(2),t.hij(" ",i.name," ")}}function d(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.name," ")}}function p(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){const s=t.CHM(i).$implicit,h=t.oxw(3);return t.KtG(h.showEditPermissionDialog(s,void 0))}),t.TgZ(1,"div",33),t.O4$(),t.TgZ(2,"svg",34),t._UZ(3,"path",35)(4,"circle",36)(5,"path",37)(6,"path",38),t.qZA()(),t.kcU(),t.TgZ(7,"div",39)(8,"a",40),t.YNc(9,l,3,4,"span",41),t.YNc(10,d,2,1,"span",42),t.qZA()()()}if(2&o){const i=c.$implicit;t.xp6(9),t.Q6J("ngIf",null==i.teamPermissions?null:i.teamPermissions.length),t.xp6(1),t.Q6J("ngIf",!(null!=i.teamPermissions&&i.teamPermissions.length))}}function b(o,c){if(1&o&&(t._UZ(0,"img",49),t.ALo(1,"mycdn")),2&o){const i=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,i.avatar),t.LSH)}}function T(o,c){if(1&o&&t._UZ(0,"azt-create-avatar",50),2&o){const i=t.oxw().$implicit;t.Q6J("nameCreateAvatar",i.fullName)("size",40)}}function J(o,c){if(1&o&&(t.TgZ(0,"span",43),t.ALo(1,"mytranslate"),t._uU(2),t.qZA()),2&o){const i=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_da_duoc_chia_se_quyen")),t.xp6(2),t.hij(" ",i.fullName," ")}}function L(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.fullName," ")}}function Q(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.phone," ")}}function q(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.email," ")}}function $(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(){const s=t.CHM(i).$implicit,h=t.oxw(3);return t.KtG(h.showEditPermissionDialog(void 0,s))}),t.TgZ(1,"div",45),t.YNc(2,b,2,3,"img",46),t.YNc(3,T,1,2,"azt-create-avatar",47),t.qZA(),t.TgZ(4,"div",39)(5,"a",40),t.YNc(6,J,3,4,"span",41),t.YNc(7,L,2,1,"span",42),t.qZA(),t.TgZ(8,"div",48),t.YNc(9,Q,2,1,"span",42),t.YNc(10,q,2,1,"span",42),t.qZA()()()}if(2&o){const i=c.$implicit;t.xp6(2),t.Q6J("ngIf",null!=i.avatar&&""!=(null==i?null:i.avatar)),t.xp6(1),t.Q6J("ngIf",null==i.avatar||""==(null==i?null:i.avatar)),t.xp6(3),t.Q6J("ngIf",null==i.teamPermissions?null:i.teamPermissions.length),t.xp6(1),t.Q6J("ngIf",!(null!=i.teamPermissions&&i.teamPermissions.length)),t.xp6(2),t.Q6J("ngIf",i.phone),t.xp6(1),t.Q6J("ngIf",i.email&&!i.phone)}}function vt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",51)(1,"p"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",52),t.NdJ("click",function(){t.CHM(i);const r=t.oxw(3);return t.KtG(r.showAddNewTeacherDialog())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_auto_khong_co_du_lieu")),t.xp6(3),t.Oqu(t.lcZ(6,4,"lang_testbank_share_add_new_teacher")))}const rt=function(){return["name"]},Ot=function(){return["fullName","phone","email"]};function jt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"ng-scrollbar",27)(3,"div",17),t.YNc(4,p,11,2,"div",28),t.ALo(5,"appFilter"),t.YNc(6,$,11,6,"div",29),t.ALo(7,"appFilter"),t.YNc(8,vt,7,6,"div",30),t.ALo(9,"appFilter"),t.ALo(10,"appFilter"),t.qZA()()(),t.TgZ(11,"a",31),t.NdJ("click",function(){t.CHM(i);const r=t.oxw(2);return t.KtG(r.goToGroup())}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}if(2&o){const i=t.oxw(2);t.xp6(2),t.Q6J("visibility","hover"),t.xp6(2),t.Q6J("ngForOf",t.Dn7(5,5,null==i.shareDataObj?null:i.shareDataObj.allGroupPermissionObjs,i.searchNameKey.value,t.DdM(23,rt))),t.xp6(2),t.Q6J("ngForOf",t.Dn7(7,9,null==i.shareDataObj?null:i.shareDataObj.allTeacherPermissionObjs,i.searchNameKey.value,t.DdM(24,Ot))),t.xp6(2),t.Q6J("ngIf",1==i.hasDataInSearchList(t.Dn7(9,13,null==i.shareDataObj?null:i.shareDataObj.allGroupPermissionObjs,i.searchNameKey.value,t.DdM(25,rt)),t.Dn7(10,17,null==i.shareDataObj?null:i.shareDataObj.allTeacherPermissionObjs,i.searchNameKey.value,t.DdM(26,Ot)))),t.xp6(4),t.hij(" ",t.lcZ(13,21,"lang_auto_quan_ly_danh_ba_upper"),"")}}function wt(o,c){if(1&o&&t.YNc(0,jt,14,27,"div",24),2&o){const i=t.oxw();t.Q6J("ngIf",i.isShowSearchList)}}function Pt(o,c){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",58),t._uU(2,"\xa0"),t.qZA())}function At(o,c){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" (",t.lcZ(2,1,"lang_auto_ban"),") "))}function Ct(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw(3);t.xp6(1),t.hij(" ",null==i.shareDataObj||null==i.shareDataObj.ownerObj?null:i.shareDataObj.ownerObj.phone," ")}}function St(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw(3);t.xp6(1),t.hij(" ",null==i.shareDataObj||null==i.shareDataObj.ownerObj?null:i.shareDataObj.ownerObj.email," ")}}function Tt(o,c){if(1&o&&(t.TgZ(0,"div",59)(1,"div",60)(2,"div",45),t._UZ(3,"azt-create-avatar",61),t.qZA(),t.TgZ(4,"div",62)(5,"span",63,16),t._uU(7),t.YNc(8,At,3,3,"span",42),t.qZA(),t.TgZ(9,"div",48),t.YNc(10,Ct,2,1,"span",42),t.YNc(11,St,2,1,"span",42),t.qZA()(),t.TgZ(12,"div",64),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()),2&o){const i=t.MAs(6),a=t.oxw(2);t.xp6(3),t.Q6J("linkAvatar",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.avatar)("nameCreateAvatar",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.fullName)("size",40),t.xp6(2),t.s9C("matTooltip",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.fullName),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.xp6(2),t.hij(" ",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.fullName," "),t.xp6(1),t.Q6J("ngIf",(null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.id)===(null==a.userObj?null:a.userObj.id)),t.xp6(2),t.Q6J("ngIf",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.phone),t.xp6(1),t.Q6J("ngIf",(null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.email)&&!(null!=a.shareDataObj&&null!=a.shareDataObj.ownerObj&&a.shareDataObj.ownerObj.phone)),t.xp6(2),t.hij(" ",t.lcZ(14,11,"lang_auto_chu_so_huu")," ")}}function kt(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.phone," ")}}function Dt(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.email," ")}}function yt(o,c){if(1&o&&(t.TgZ(0,"span",71),t._uU(1),t.ALo(2,"aztPipeShowTooltipPermission"),t.qZA()),2&o){const i=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.teamPermissions))}}function Zt(o,c){if(1&o&&(t.TgZ(0,"span",69),t.ALo(1,"aztPipeShowTooltipPermission"),t.YNc(2,yt,3,3,"span",70),t.qZA()),2&o){const i=c.index,a=t.oxw().$implicit;t.Q6J("matTooltip",t.lcZ(1,2,a.teamPermissions)),t.xp6(2),t.Q6J("ngIf",0===i)}}function Mt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",65)(1,"div",66),t.NdJ("click",function(){const s=t.CHM(i).$implicit,h=t.oxw(2);return t.KtG(h.showEditPermissionDialog(void 0,s))}),t.TgZ(2,"div",45),t._UZ(3,"azt-create-avatar",61),t.qZA(),t.TgZ(4,"div",62)(5,"span",63,16),t._uU(7),t.qZA(),t.TgZ(8,"div",48),t.YNc(9,kt,2,1,"span",42),t.YNc(10,Dt,2,1,"span",42),t.qZA()(),t.TgZ(11,"div",67),t.YNc(12,Zt,3,4,"span",68),t.qZA()()()}if(2&o){const i=c.$implicit,a=t.MAs(6);t.xp6(3),t.Q6J("linkAvatar",i.avatar)("nameCreateAvatar",i.fullName)("size",40),t.xp6(2),t.s9C("matTooltip",i.fullName),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.xp6(2),t.hij(" ",i.fullName," "),t.xp6(2),t.Q6J("ngIf",i.phone),t.xp6(1),t.Q6J("ngIf",i.email&&!i.phone),t.xp6(2),t.Q6J("ngForOf",i.teamPermissions)}}function zt(o,c){if(1&o&&(t.TgZ(0,"span",71),t._uU(1),t.ALo(2,"aztPipeShowTooltipPermission"),t.qZA()),2&o){const i=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.teamPermissions))}}function It(o,c){if(1&o&&(t.TgZ(0,"span",69),t.ALo(1,"aztPipeShowTooltipPermission"),t.YNc(2,zt,3,3,"span",73),t.qZA()),2&o){const i=c.index,a=t.oxw().$implicit;t.Q6J("matTooltip",t.lcZ(1,2,a.teamPermissions)),t.xp6(2),t.Q6J("ngIf",0===i)}}function Nt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",65)(1,"div",72),t.NdJ("click",function(){const s=t.CHM(i).$implicit,h=t.oxw(2);return t.KtG(h.showEditPermissionDialog(s,void 0))}),t.TgZ(2,"div",33),t.O4$(),t.TgZ(3,"svg",34),t._UZ(4,"path",35)(5,"circle",36)(6,"path",37)(7,"path",38),t.qZA()(),t.kcU(),t.TgZ(8,"div",62)(9,"span",63,16),t._uU(11),t.qZA()(),t.TgZ(12,"div",67),t.YNc(13,It,3,4,"span",68),t.qZA()()()}if(2&o){const i=c.$implicit,a=t.MAs(10);t.xp6(9),t.s9C("matTooltip",i.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.xp6(2),t.hij(" ",i.name," "),t.xp6(2),t.Q6J("ngForOf",i.teamPermissions)}}function Et(o,c){if(1&o&&(t.TgZ(0,"div",53)(1,"h4",54),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Pt,3,0,"span",42),t.qZA(),t.TgZ(5,"div",55)(6,"ng-scrollbar",27),t.YNc(7,Tt,15,13,"div",56),t.YNc(8,Mt,13,10,"div",57),t.YNc(9,Nt,14,5,"div",57),t.qZA()()()),2&o){const i=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"lang_auto_nhung_nguoi_co_quyen_truy_cap")," "),t.xp6(2),t.Q6J("ngIf",i.statusObj.loading),t.xp6(2),t.Q6J("visibility","hover"),t.xp6(1),t.Q6J("ngIf",null==i.shareDataObj||null==i.shareDataObj.ownerObj?null:i.shareDataObj.ownerObj.fullName),t.xp6(1),t.Q6J("ngForOf",null==i.shareDataObj?null:i.shareDataObj.teacherObjs),t.xp6(1),t.Q6J("ngForOf",null==i.shareDataObj?null:i.shareDataObj.groupObjs)}}let Wt=(()=>{class o extends n.Q{constructor(i,a,r,s,h,x,w){super(),this.dialogRef=i,this.data=a,this.dialog=r,this.teacherGroupService=s,this.sortService=h,this.baseApiService=x,this.aztShareService=w,this.backToLink="",this.searchNameKey=new S.p4(""),this.hasNewData=!1,this.isShowSearchList=!1,this.backToLink=this.data.backToLink,this.shareDataObj=this.data.shareDataObj,this.dialogRef.backdropClick().subscribe(()=>{this.closeDialog()})}goToGroup(){this.dialogRef.close(!1),this.backToLink?this.commonService.myNavigationWithQueryString("/admin/teacher-group/2/0","?backTo="+encodeURIComponent(this.backToLink)):this.commonService.myNavigation("/admin/teacher-group/2/0")}closeDialog(){this.hasNewData&&this.aztShareService.changeStatus(!0),this.dialogRef.close(this.hasNewData)}showConfirmDeleteDialog(i,a){this.dialog.open(E,{data:{groupObj:i,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(s=>{s&&(this.getTeamPermissionObjs(),this.hasNewData=!0)})}showEditPermissionDialog(i,a){this.dialog.open(V,{data:{groupObj:i,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(s=>{s&&(this.getTeamPermissionObjs(),this.hasNewData=!0)})}showAddNewTeacherDialog(){this.dialog.open(st.u,{width:"600px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{type:"add_teacher"},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getTeamPermissionObjs()})}hasDataInSearchList(i,a){return i.length<=0&&a.length<=0}showSearchList(){this.isShowSearchList=!0}hideSearchList(){setTimeout(()=>{this.isShowSearchList=!1},500)}getTeamPermissionObjs(){var i,a,r,s;this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(null!==(a=null===(i=this.shareDataObj)||void 0===i?void 0:i.objectCodeType)&&void 0!==a?a:0,null!==(s=null===(r=this.shareDataObj)||void 0===r?void 0:r.objectId)&&void 0!==s?s:0).subscribe(h=>{var x,w,C,P,Z,M,I,N,z,R,K;1==h.success?(this.shareDataObj&&(this.shareDataObj.groupObjs=null!==(w=null===(x=h.data)||void 0===x?void 0:x.groups)&&void 0!==w?w:[],this.shareDataObj.teacherObjs=null!==(P=null===(C=h.data)||void 0===C?void 0:C.teachers)&&void 0!==P?P:[],this.shareDataObj.ownerObj=null!==(M=null===(Z=h.data)||void 0===Z?void 0:Z.owner)&&void 0!==M?M:{},this.shareDataObj.allGroupPermissionObjs=this.sortService.sortGroupName(null!==(N=null===(I=h.data)||void 0===I?void 0:I.allGroupPermissionObjs)&&void 0!==N?N:[]),this.shareDataObj.allTeacherPermissionObjs=this.sortService.sortFirstNameStudents(null!==(R=null===(z=h.data)||void 0===z?void 0:z.allTeacherPermissionObjs)&&void 0!==R?R:[])),this.stopStatusObj()):this.errorStatusObj(null!==(K=h.message)&&void 0!==K?K:"",!0)})}ngOnInit(){super.ngOnInit(),this.searchNameKey.setValue(""),this.userObj=this.baseApiService.getUserObj()}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(O.so),t.Y36(O.WI),t.Y36(O.uw),t.Y36(e.Kq),t.Y36(at.K),t.Y36(lt._),t.Y36(ct.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-list-people-who-will-share-dialog"]],features:[t.qOj],decls:19,vars:7,consts:[[1,"box","search-form"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"azt-dialog-share","relative"],[3,"ngTemplateOutlet"],[1,"p-3","text-right"],["azt-track-service","list-people-who-will-share-dialog-5fjZW_u4sI",1,"btn","btn-secondary","mr-2",3,"click"],["sharedBoxTitle",""],["searchSharedBox",""],["listGroupAndTeacherWhoWillShare",""],["listSharedPeople",""],[1,"text-lg","p-3",2,"padding-bottom","0"],[1,"inline-block",2,"vertical-align","middle"],["class","inline-block mx-1 lowercase","style"," vertical-align: middle; ",4,"ngIf"],["class","inline-block truncate font-medium","style","vertical-align: middle;",3,"matTooltip","isDisabledTooltip","matTooltipDisabled",4,"ngIf"],[1,"inline-block","mx-1","lowercase",2,"vertical-align","middle"],[1,"inline-block","truncate","font-medium",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"p-3"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","bg-slate-200","dark:bg-darkmode-300","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"formControl","placeholder","focus","focusout"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","mr-3","right-0","text-slate-500","cursor-pointer"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["class","azt-list-member absolute box z-50 shadow-lg border border-slate-300 dark:border-darkmode-400","style","top: auto; width: calc(100% - 1.5rem); left: 0.75rem",4,"ngIf"],[1,"azt-list-member","absolute","box","z-50","shadow-lg","border","border-slate-300","dark:border-darkmode-400",2,"top","auto","width","calc(100% - 1.5rem)","left","0.75rem"],[1,"list-permission","mt-3",2,"height","220px"],["pointerEventsMethod","scrollbar",3,"visibility"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f","class","flex flex-row items-center mb-2 p-3 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md cursor-pointer",3,"click",4,"ngFor","ngForOf"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB","class","flex flex-row items-center mb-2 p-3 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-fZvVPtnGj3",1,"manage-contacts","p-2","inline-block",3,"click"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f",1,"flex","flex-row","items-center","mb-2","p-3","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","cursor-pointer",3,"click"],[1,"w-10","h-10","rounded-full","border","border-slate-200","dark:border-darkmode-400","image-fit","lg:mr-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","text-primary",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M22 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["style","color: gray !important",3,"matTooltip",4,"ngIf"],[4,"ngIf"],[2,"color","gray !important",3,"matTooltip"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB",1,"flex","flex-row","items-center","mb-2","p-3","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","cursor-pointer",3,"click"],[1,"w-10","h-10","image-fit","lg:mr-1"],["class","rounded-full",3,"src",4,"ngIf"],["class","mr-2",3,"nameCreateAvatar","size",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"rounded-full",3,"src"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-center"],["azt-track-service","list-people-who-will-share-dialog-eNG01s2dq3",1,"manage-contacts","p-2","inline-block",2,"font-size","12px",3,"click"],[1,"mt-3"],[1,"text-md","font-medium","px-3"],[1,"list-permission","mt-3","mb-4",2,"height","260px"],["class","item-permission px-3 mb-2",4,"ngIf"],["class","item-permission cursor-pointer px-3 mb-2",4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"item-permission","px-3","mb-2"],[1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","mr-auto","text-left","mt-0",2,"width","40%"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px","vertical-align","middle"],[1,"item-permission","cursor-pointer","px-3","mb-2"],["azt-track-service","list-people-who-will-share-dialog-jHbwL2fY5e",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"click"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],["class","truncate","style","width: 85px;vertical-align: middle;",4,"ngIf"],[1,"truncate",2,"width","85px","vertical-align","middle"],["azt-track-service","list-people-who-will-share-dialog-1nM5xDYgHR",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"click"],["class","truncate","style","width: 85px; vertical-align: middle;",4,"ngIf"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.GkF(3,3)(4,3)(5,3)(6,3),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return a.closeDialog()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()(),t.YNc(11,_,9,8,"ng-template",null,6,t.W1O),t.YNc(13,y,8,4,"ng-template",null,7,t.W1O),t.YNc(15,wt,1,1,"ng-template",null,8,t.W1O),t.YNc(17,Et,10,8,"ng-template",null,9,t.W1O)),2&i){const r=t.MAs(12),s=t.MAs(14),h=t.MAs(16),x=t.MAs(18);t.xp6(3),t.Q6J("ngTemplateOutlet",r),t.xp6(1),t.Q6J("ngTemplateOutlet",s),t.xp6(1),t.Q6J("ngTemplateOutlet",h),t.xp6(1),t.Q6J("ngTemplateOutlet",x),t.xp6(3),t.Oqu(t.lcZ(10,5,"lang_auto_huy"))}},dependencies:[u.sg,u.O5,u.tP,A.gM,S.Fj,S.JJ,S.oH,dt.KC,v.g,ht.Q,k.bT,k.GT,k.gB,ut],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),o})();function Lt(o,c){1&o&&t._UZ(0,"azt-loading-effect",3)}function Ut(o,c){if(1&o&&(t._UZ(0,"img",24),t.ALo(1,"mycdn")),2&o){const i=t.oxw(2);t.s9C("src",t.lcZ(1,1,null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.avatar),t.LSH)}}function qt(o,c){if(1&o&&t._UZ(0,"azt-create-avatar",25),2&o){const i=t.oxw(2);t.Q6J("nameCreateAvatar",null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.fullName)("size",40)}}function Jt(o,c){if(1&o&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Oqu(null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.phone)}}function Yt(o,c){if(1&o&&(t.TgZ(0,"div",27)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const i=c.$implicit;t.xp6(2),t.hij("- ",t.lcZ(3,1,i.key),"")}}function Ft(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(i);const r=t.oxw(2);return t.KtG(r.confirmReceivePermission(3))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_tu_choi")))}function Qt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(i);const r=t.oxw(2);return t.KtG(r.confirmReceivePermission(2))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chap_nhan")))}function Rt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(i);const r=t.oxw(2);return t.KtG(r.confirmReceivePermission(3))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xoa_quyen")))}const Kt=function(){return[]};function Gt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",4)(1,"div",3)(2,"h3",5)(3,"span",6),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"span",7),t._uU(7),t.qZA()(),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),t.YNc(12,Ut,2,3,"img",12),t.YNc(13,qt,1,2,"azt-create-avatar",13),t.qZA()(),t.TgZ(14,"div",14)(15,"p",15)(16,"span"),t._uU(17),t.qZA()(),t.YNc(18,Jt,2,1,"div",16),t.qZA()()(),t.TgZ(19,"div",17)(20,"div"),t.YNc(21,Yt,4,3,"div",18),t.qZA()()()(),t.TgZ(22,"div",19)(23,"button",20),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.cancelReceivePermission())}),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.YNc(26,Ft,3,3,"button",21),t.YNc(27,Qt,3,3,"button",22),t.YNc(28,Rt,3,3,"button",23),t.qZA()}if(2&o){const i=t.oxw();let a;t.xp6(4),t.hij(" ",t.lcZ(5,11,"lang_auto_gan_quyen_cho")," "),t.xp6(3),t.hij(" ",null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.fullName,""),t.xp6(5),t.Q6J("ngIf",null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.avatar),t.xp6(1),t.Q6J("ngIf",!(null!=i.whoSharePermissionObj&&i.whoSharePermissionObj.avatar)),t.xp6(4),t.Oqu(null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.fullName),t.xp6(1),t.Q6J("ngIf",null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.phone),t.xp6(3),t.Q6J("ngForOf",null!==(a=null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.permissionObjs)&&void 0!==a?a:t.DdM(15,Kt)),t.xp6(3),t.Oqu(t.lcZ(25,13,"lang_auto_huy")),t.xp6(2),t.Q6J("ngIf",1==(null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.permissionStatus)),t.xp6(1),t.Q6J("ngIf",1==(null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.permissionStatus)),t.xp6(1),t.Q6J("ngIf",2==(null==i.whoSharePermissionObj?null:i.whoSharePermissionObj.permissionStatus))}}let Bt=(()=>{class o extends n.Q{constructor(i,a,r,s){super(),this.dialog=i,this.dialogRef=a,this.data=r,this.permissionTeamService=s,this.whoSharePermissionObj=void 0,this.whoSharePermissionObj=r.whoSharePermissionObj,this.shareDataObj=r.shareDataObj}cancelReceivePermission(){this.dialogRef.close(!1)}confirmReceivePermission(i){var a,r,s,h,x;this.initStatusObj();var w={tenantId:null===(a=this.whoSharePermissionObj)||void 0===a?void 0:a.id,objectId:null!==(s=null===(r=this.shareDataObj)||void 0===r?void 0:r.objectId)&&void 0!==s?s:0,objectCode:null!==(x=null===(h=this.shareDataObj)||void 0===h?void 0:h.objectCode)&&void 0!==x?x:"",status:i};this.permissionTeamService.apiPermissionTeamConfirmPermissionPost(w).subscribe(C=>{var P;1==C.success?3==i?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.successStatusObj("lang_auto_xac_nhan_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(null!==(P=C.message)&&void 0!==P?P:"",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(O.uw),t.Y36(O.so),t.Y36(O.WI),t.Y36(e.sb))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-share-show-who-share-permission-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-lg","font-medium","flex","items-center"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2","x"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit","lg:mr-1","flex","items-center"],["class","rounded-full",3,"src",4,"ngIf"],["class","mr-2",3,"nameCreateAvatar","size",4,"ngIf"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],[1,"x","px-3"],["style","font-weight: 500; margin-top: 5px",4,"ngFor","ngForOf"],[1,"p-3","text-right","w-full"],["azt-track-service","who-share-permission-dialog-2WKlv8lCOaG",1,"btn","btn-secondary",3,"click"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a","class","btn btn-danger ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz","class","btn btn-primary ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27","class","btn btn-primary ml-2",3,"click",4,"ngIf"],[1,"rounded-full",3,"src"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-slate-500","text-xs","mt-0.5"],[2,"font-weight","500","margin-top","5px"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a",1,"btn","btn-danger","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz",1,"btn","btn-primary","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27",1,"btn","btn-primary","ml-2",3,"click"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,Lt,1,0,"azt-loading-effect",1),t.YNc(2,Gt,29,16,"ng-template",null,2,t.W1O),t.qZA()),2&i){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.sg,u.O5,f.Q,v.g,k.bT,k.GT],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),o})();var Ht=m(97392);function Vt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t.NdJ("click",function(){const s=t.CHM(i).$implicit,h=t.oxw(2);return t.KtG(h.showAddOrEditPermissionDialog(void 0,s))}),t._UZ(2,"azt-create-avatar",17),t.qZA()()}if(2&o){const i=c.$implicit;t.xp6(2),t.s9C("matTooltip",i.fullName),t.Q6J("linkAvatar",i.avatar)("nameCreateAvatar",i.fullName)("size",30)}}function $t(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"div",18),t.NdJ("click",function(){const s=t.CHM(i).$implicit,h=t.oxw(2);return t.KtG(h.showAddOrEditPermissionDialog(s,void 0))}),t._UZ(2,"azt-create-avatar",19),t.qZA()()}if(2&o){const i=c.$implicit,a=c.index,r=t.oxw(2);t.Gre("w-8 h-8 mb-3 image-fit show-tickets zoom-in -ml-4 ",(null==r.shareDataObj||null==r.shareDataObj.groupObjs?null:r.shareDataObj.groupObjs.length)==a+1?"mr-2":""," "),t.xp6(2),t.s9C("matTooltip",i.name),t.Q6J("nameCreateAvatar",i.name)("size",30)}}const Xt=function(o){return{"ml-2":o}};function te(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",5)(1,"div"),t.YNc(2,Vt,3,4,"div",6),t.YNc(3,$t,3,6,"div",7),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.showListPeopleWhoWillShare())}),t.O4$(),t.TgZ(5,"svg",9),t._UZ(6,"circle",10)(7,"circle",11)(8,"circle",12)(9,"line",13)(10,"line",14),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()}if(2&o){const i=t.oxw();t.xp6(1),t.Tol(0!=(null==i.shareDataObj||null==i.shareDataObj.teacherObjs?null:i.shareDataObj.teacherObjs.length)||0!=(null==i.shareDataObj||null==i.shareDataObj.groupObjs?null:i.shareDataObj.groupObjs.length)?"pl-4":""),t.xp6(1),t.Q6J("ngForOf",null==i.shareDataObj?null:i.shareDataObj.teacherObjs),t.xp6(1),t.Q6J("ngForOf",null==i.shareDataObj?null:i.shareDataObj.groupObjs),t.xp6(1),t.Q6J("ngClass",t.VKq(9,Xt,0!=(null==i.shareDataObj||null==i.shareDataObj.teacherObjs?null:i.shareDataObj.teacherObjs.length)||0!=(null==i.shareDataObj||null==i.shareDataObj.groupObjs?null:i.shareDataObj.groupObjs.length))),t.xp6(7),t.hij(" ",t.lcZ(12,7,"lang_auto_chia_se")," ")}}function ee(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",20)(1,"button",21),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.showListPeopleWhoWillShare())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",23)(4,"circle",24)(5,"line",25)(6,"line",26),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_chia_se")," "))}function ie(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"mat-icon",34),t.NdJ("click",function(){t.CHM(i);const r=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.showWhoSharePermissionDialog(r))}),t._uU(1,"check_circle"),t.qZA()}}const oe=function(o){return{"z-index":o}};function ne(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",30)(1,"div",31),t.NdJ("click",function(){const s=t.CHM(i).$implicit,h=t.oxw(2);return t.KtG(h.showWhoSharePermissionDialog(s))}),t._UZ(2,"azt-create-avatar",32),t.qZA(),t.YNc(3,ie,2,0,"mat-icon",33),t.qZA()}if(2&o){const i=c.$implicit,a=c.index,r=t.oxw(2);let s;t.Q6J("ngStyle",t.VKq(6,oe,(null!==(s=null==r.shareDataObj||null==r.shareDataObj.teacherObjs?null:r.shareDataObj.teacherObjs.length)&&void 0!==s?s:0)+(null!==(s=null==r.shareDataObj||null==r.shareDataObj.groupObjs?null:r.shareDataObj.groupObjs.length)&&void 0!==s?s:0)-a)),t.xp6(2),t.s9C("matTooltip",i.fullName),t.Q6J("linkAvatar",i.avatar)("nameCreateAvatar",i.fullName)("size",28),t.xp6(1),t.Q6J("ngIf",2==i.permissionStatus||5==i.permissionStatus)}}function ae(o,c){if(1&o&&(t.TgZ(0,"div",27)(1,"span",28),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,ne,4,8,"div",29),t.qZA()),2&o){const i=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"lang_auto_giao_vien_chia_se"),":\xa0"),t.xp6(2),t.Q6J("ngForOf",i.whoSharePermission)}}let re=(()=>{class o extends n.Q{constructor(i,a,r){super(),this.teacherGroupService=i,this.sortService=a,this.dialog=r,this.backToLink="",this.objectId=0,this.objectCodeType=0,this.objectCode="",this.whoSharePermission=[]}showAddOrEditPermissionDialog(i,a){this.dialog.open(V,{data:{groupObj:i,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(s=>{s&&this.getTeamPermissionObjs()})}showWhoSharePermissionDialog(i){this.dialog.open(Bt,{data:{whoSharePermissionObj:i,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&this.getTeamPermissionObjs()})}showListPeopleWhoWillShare(){this.dialog.open(Wt,{data:{backToLink:this.backToLink,shareDataObj:this.shareDataObj},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getTeamPermissionObjs()})}getTeamPermissionObjs(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.objectCodeType,this.objectId).subscribe(i=>{var a,r,s,h,x,w,C,P,Z,M,I,N,z;1==i.success?(this.whoSharePermission=null!==(r=null===(a=i.data)||void 0===a?void 0:a.whoSharePermission)&&void 0!==r?r:[],this.shareDataObj={objectId:this.objectId,objectCode:this.objectCode,objectCodeType:this.objectCodeType,classroomWithPermissionObj:this.classroomWithPermissionObj,examWithPermissionObj:this.examWithPermissionObj,homeworkWithPermissionObj:this.homeworkWithPermissionObj,categoryWithPermissionObj:this.categoryWithPermissionObj,allGroupPermissionObjs:this.sortService.sortGroupName(null!==(h=null===(s=i.data)||void 0===s?void 0:s.allGroupPermissionObjs)&&void 0!==h?h:[]),allTeacherPermissionObjs:this.sortService.sortFirstNameStudents(null!==(w=null===(x=i.data)||void 0===x?void 0:x.allTeacherPermissionObjs)&&void 0!==w?w:[]),groupObjs:null!==(P=null===(C=i.data)||void 0===C?void 0:C.groups)&&void 0!==P?P:[],teacherObjs:null!==(M=null===(Z=i.data)||void 0===Z?void 0:Z.teachers)&&void 0!==M?M:[],ownerObj:null!==(N=null===(I=i.data)||void 0===I?void 0:I.owner)&&void 0!==N?N:{}},this.stopStatusObj()):this.errorStatusObj(null!==(z=i.message)&&void 0!==z?z:"",!0)})}ngOnInit(){var i,a,r,s;this.classroomWithPermissionObj?this.permissionObj=null===(i=this.classroomWithPermissionObj)||void 0===i?void 0:i.permissionObj:this.examWithPermissionObj?this.permissionObj=null===(a=this.examWithPermissionObj)||void 0===a?void 0:a.permissionObj:this.homeworkWithPermissionObj?this.permissionObj=null===(r=this.homeworkWithPermissionObj)||void 0===r?void 0:r.permissionObj:this.categoryWithPermissionObj&&(this.permissionObj=null===(s=this.categoryWithPermissionObj)||void 0===s?void 0:s.permissionObj),this.getTeamPermissionObjs()}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(e.Kq),t.Y36(at.K),t.Y36(O.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-share"]],inputs:{backToLink:"backToLink",objectId:"objectId",objectCodeType:"objectCodeType",objectCode:"objectCode",classroomWithPermissionObj:"classroomWithPermissionObj",examWithPermissionObj:"examWithPermissionObj",homeworkWithPermissionObj:"homeworkWithPermissionObj",categoryWithPermissionObj:"categoryWithPermissionObj"},features:[t.qOj],decls:6,vars:6,consts:[[1,"share-block"],[1,"intro","flex"],["class","share-block-item mt-2",4,"ngIf"],["class","share-block-item w-full",4,"ngIf"],["style","display: flex; align-items: center; margin-top: 0.5rem;",4,"ngIf"],[1,"share-block-item","mt-2"],["class","w-8 h-8 mb-2 image-fit show-tickets zoom-in -ml-4",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["azt-track-service","share-button-box-2Ui6XcNn3Z",1,"btn","btn-sm","btn-outline-secondary",2,"vertical-align","middle",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","y1","13.51","x2","15.42","y2","17.49"],["x1","15.41","y1","6.51","x2","8.59","y2","10.49"],[1,"w-8","h-8","mb-2","image-fit","show-tickets","zoom-in","-ml-4"],["azt-track-service","share-button-box-vHBJYcuuna",3,"click"],[3,"linkAvatar","matTooltip","nameCreateAvatar","size"],["azt-track-service","share-button-box-GF6YzJ_wHE",3,"click"],[3,"matTooltip","nameCreateAvatar","size"],[1,"share-block-item","w-full"],["azt-track-service","share-button-box-i8iU_Wa_sh",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],[2,"display","flex","align-items","center","margin-top","0.5rem"],[2,"font-weight","500"],["class","show-tickets clickable ml-1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable","ml-1",3,"ngStyle"],["azt-track-service","share-button-box-CleLxM4YRRW",3,"click"],[3,"matTooltip","linkAvatar","nameCreateAvatar","size"],["azt-track-service","share-button-box-dftQMLrW33j","style","color: green; position: absolute; top: 15px; left: 50%; font-size: 15px;",3,"click",4,"ngIf"],["azt-track-service","share-button-box-dftQMLrW33j",2,"color","green","position","absolute","top","15px","left","50%","font-size","15px",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,te,13,11,"div",2),t.ALo(3,"aztShareCheckPermission"),t.YNc(4,ee,9,3,"div",3),t.qZA(),t.YNc(5,ae,5,4,"div",4),t.qZA()),2&i&&(t.xp6(2),t.Q6J("ngIf",t.xi3(3,3,a.permissionObj,a.objectCode)&&4!=a.objectCodeType),t.xp6(2),t.Q6J("ngIf",4==a.objectCodeType),t.xp6(1),t.Q6J("ngIf",a.whoSharePermission.length>0))},dependencies:[u.mk,u.sg,u.O5,u.PC,Ht.Hw,A.gM,v.g,k.bT,mt],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),o})()},25157:(nt,F,m)=>{m.d(F,{N:()=>S});var n=m(94650);let S=(()=>{class O{constructor(){this.filesChangeEmiter=new n.vpe,this.background="transparent",this.borderStyle="2px dashed initial"}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #334155"}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed initial"}onDrop(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed initial",this.filesChangeEmiter.emit(t.dataTransfer.files)}}return O.\u0275fac=function(t){return new(t||O)},O.\u0275dir=n.lG2({type:O,selectors:[["","appDragDrop",""]],hostVars:4,hostBindings:function(t,e){1&t&&n.NdJ("dragover",function(f){return e.onDragOver(f)})("dragleave",function(f){return e.onDragLeave(f)})("drop",function(f){return e.onDrop(f)}),2&t&&n.Udp("background",e.background)("border",e.borderStyle)},outputs:{filesChangeEmiter:"filesChangeEmiter"}}),O})()},44944:(nt,F,m)=>{m.d(F,{Y:()=>S});var n=m(94650);let S=(()=>{class O{constructor(t){this.el=t,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator1=".",this.decimalSeparator2=",",this.allowNegatives=!1,this.allowPaste=!0,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=t.nativeElement}ngOnChanges(t){if(t.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),t.min){const e=Number(this.min);this.min=isNaN(e)?-1/0:e}if(t.max){const e=Number(this.max);this.max=isNaN(e)?1/0:e}}onBeforeInput(t){if(isNaN(Number(t.data))){if(t.data===this.decimalSeparator1||t.data===this.decimalSeparator2||t.data===this.negativeSign&&this.allowNegatives)return;t.preventDefault(),t.stopPropagation()}}onKeyDown(t){if(this.navigationKeys.indexOf(t.key)>-1||("a"===t.key||"KeyA"===t.code)&&!0===t.ctrlKey||("c"===t.key||"KeyC"===t.code)&&!0===t.ctrlKey||("v"===t.key||"KeyV"===t.code)&&!0===t.ctrlKey||("x"===t.key||"KeyX"===t.code)&&!0===t.ctrlKey||("a"===t.key||"KeyA"===t.code)&&!0===t.metaKey||("c"===t.key||"KeyC"===t.code)&&!0===t.metaKey||("v"===t.key||"KeyV"===t.code)&&!0===t.metaKey||("x"===t.key||"KeyX"===t.code)&&!0===t.metaKey)return;let e="";var u=t.key;if(t.key===this.decimalSeparator2&&(u=this.decimalSeparator1),this.decimal&&u===this.decimalSeparator1)return e=this.forecastValue(u),e.split(this.decimalSeparator1).length>2||(this.hasDecimalPoint=e.indexOf(this.decimalSeparator1)>-1,this.setNewValue(u)),void t.preventDefault();if(u===this.negativeSign&&this.allowNegatives)return e=this.forecastValue(u),e.charAt(0)!==this.negativeSign||e.split(this.negativeSign).length>2?void t.preventDefault():void(this.hasNegativeSign=e.split(this.negativeSign).length>-1);if(" "===u||isNaN(Number(u)))return void t.preventDefault();if(e=e||this.forecastValue(u),this.regex&&!this.regex.test(e))return void t.preventDefault();const f=Number(e);(f>this.max||f<this.min)&&t.preventDefault()}onPaste(t){if(!0===this.allowPaste){let e="";window.clipboardData?e=window.clipboardData.getData("text"):t.clipboardData&&t.clipboardData.getData&&(e=t.clipboardData.getData("text/plain")),this.pasteData(e),t.preventDefault()}else t.preventDefault(),t.stopPropagation()}onDrop(t){var e,u;const f=null!==(u=null===(e=t.dataTransfer)||void 0===e?void 0:e.getData("text"))&&void 0!==u?u:"";this.inputElement.focus(),this.pasteData(f),t.preventDefault()}pasteData(t){t=t.replace(",",".");const e=this.sanitizeInput(t);if(!e.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,e))if(this.inputElement.setRangeText){const{selectionStart:f,selectionEnd:k}=this.inputElement;this.inputElement.setRangeText(e,f??0,k??0,"end"),typeof window.InstallTrigger<"u"&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,e);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}setNewValue(t){t=t.replace(",","."),this.insertAtCursor(this.inputElement,t),this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}insertAtCursor(t,e){var u,f;const k=null!==(u=t.selectionStart)&&void 0!==u?u:0,Y=null!==(f=t.selectionEnd)&&void 0!==f?f:0;t.value=t.value.substring(0,k)+e+t.value.substring(Y,t.value.length);const D=k+e.length;t.focus(),t.setSelectionRange(D,D),this.triggerEvent(t,"input")}triggerEvent(t,e){if("createEvent"in document){const u=document.createEvent("HTMLEvents");u.initEvent(e,!1,!0),t.dispatchEvent(u)}}sanitizeInput(t){let u,e="";u=this.decimal&&this.isValidDecimal(t)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator1}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),e=t.replace(u,"");const f=this.inputElement.maxLength;if(f>0){const k=f-this.inputElement.value.length+(e.includes(`${this.negativeSign}`)?1:0);e=k>0?e.substring(0,k):""}return e}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(t){if(this.hasDecimalPoint){const e=this.getSelection();return e&&e.indexOf(this.decimalSeparator1)>-1?t.split(this.decimalSeparator1).length<=2:t.indexOf(this.decimalSeparator1)<0}return t.split(this.decimalSeparator1).length<=2}getSelection(){var t,e;return this.inputElement.value.substring(null!==(t=this.inputElement.selectionStart)&&void 0!==t?t:0,null!==(e=this.inputElement.selectionEnd)&&void 0!==e?e:0)}forecastValue(t){var e,u;const f=null!==(e=this.inputElement.selectionStart)&&void 0!==e?e:0,k=null!==(u=this.inputElement.selectionEnd)&&void 0!==u?u:0,Y=this.inputElement.value;return Y.substring(0,f)+t+Y.substring(k)}}return O.\u0275fac=function(t){return new(t||O)(n.Y36(n.SBq))},O.\u0275dir=n.lG2({type:O,selectors:[["","appOnlyNumber",""]],hostBindings:function(t,e){1&t&&n.NdJ("beforeinput",function(f){return e.onBeforeInput(f)})("keydown",function(f){return e.onKeyDown(f)})("paste",function(f){return e.onPaste(f)})("drop",function(f){return e.onDrop(f)})},inputs:{decimal:"decimal",decimalSeparator1:"decimalSeparator1",decimalSeparator2:"decimalSeparator2",allowNegatives:"allowNegatives",allowPaste:"allowPaste",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[n.TTD]}),O})()}}]);