"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[241],{26304:(Ie,re,g)=>{g.d(re,{Dh:()=>W,GT:()=>z,cc:()=>D,hO:()=>E,on:()=>M,pX:()=>P,xv:()=>B});var x=g(65879),J=g(17142),i=g(54503);Ie=g.hmd(Ie);const _=["ngOnDestroy"],P=(e,Y,F,ne={})=>new Proxy(e,{get:(se,he)=>F.runOutsideAngular(()=>{var X;if(e[he])return!(null===(X=ne?.spy)||void 0===X)&&X.get&&ne.spy.get(he,e[he]),e[he];if(_.indexOf(he)>-1)return()=>{};const j=Y.toPromise().then(ce=>{const ee=ce&&ce[he];return"function"==typeof ee?ee.bind(ce):ee&&ee.then?ee.then(me=>F.run(()=>me)):F.run(()=>ee)});return new Proxy(()=>{},{get:(ce,ee)=>j[ee],apply:(ce,ee,me)=>j.then(Te=>{var le;const H=Te&&Te(...me);return!(null===(le=ne?.spy)||void 0===le)&&le.apply&&ne.spy.apply(he,me,H),H})})})}),z=(e,Y)=>{Y.forEach(F=>{Object.getOwnPropertyNames(F.prototype||F).forEach(ne=>{Object.defineProperty(e.prototype,ne,Object.getOwnPropertyDescriptor(F.prototype||F,ne))})})};class R{constructor(Y){return Y}}const W=new x.OlP("angularfire2.app.options"),B=new x.OlP("angularfire2.app.name");function M(e,Y,F){const se="object"==typeof F&&F||{};se.name=se.name||"string"==typeof F&&F||"[DEFAULT]";const X=J.Z.apps.filter(j=>j&&j.name===se.name)[0]||Y.runOutsideAngular(()=>J.Z.initializeApp(e,se));try{JSON.stringify(e)!==JSON.stringify(X.options)&&U("error",`${X.name} Firebase App already initialized with different options${Ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new R(X)}const U=(e,...Y)=>{(0,x.X6Q)()&&typeof console<"u"&&console[e](...Y)},oe={provide:R,useFactory:M,deps:[W,x.R0b,[new x.FiY,B]]};let E=(()=>{class e{constructor(F){J.Z.registerVersion("angularfire",i.q4.full,"core"),J.Z.registerVersion("angularfire",i.q4.full,"app-compat"),J.Z.registerVersion("angular",x.q4F.full,F.toString())}static initializeApp(F,ne){return{ngModule:e,providers:[{provide:W,useValue:F},{provide:B,useValue:ne}]}}}return e.\u0275fac=function(F){return new(F||e)(x.LFG(x.Lbi))},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({providers:[oe]}),e})();function D(e,Y,F,ne,se){const[,he,X]=globalThis.\u0275AngularfireInstanceCache.find(j=>j[0]===e)||[];if(he)return function y(e,Y){try{return e.toString()===Y.toString()}catch{return e===Y}}(se,X)||(w("error",`${Y} was already initialized on the ${F} Firebase App with different settings.${T?" You may need to reload as Firebase is not HMR aware.":""}`),w("warn",{is:se,was:X})),he;{const j=ne();return globalThis.\u0275AngularfireInstanceCache.push([e,j,se]),j}}const T=!!Ie.hot,w=(e,...Y)=>{(0,x.X6Q)()&&typeof console<"u"&&console[e](...Y)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},54503:(Ie,re,g)=>{g.d(re,{q4:()=>Ar,iC:()=>fi,HU:()=>mi,vb:()=>gi,JM:()=>Cr});var x=g(65879),J=g(33182),i=g(49671),_=g(36122),P=g(59058),z=g(84537),R=g(87879);const W=(a,c)=>c.some(l=>a instanceof l);let B,M;const E=new WeakMap,D=new WeakMap,y=new WeakMap,T=new WeakMap,w=new WeakMap;let F={get(a,c,l){if(a instanceof IDBTransaction){if("done"===c)return D.get(a);if("objectStoreNames"===c)return a.objectStoreNames||y.get(a);if("store"===c)return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return X(a[c])},set:(a,c,l)=>(a[c]=l,!0),has:(a,c)=>a instanceof IDBTransaction&&("done"===c||"store"===c)||c in a};function he(a){return"function"==typeof a?function se(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return M||(M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(a)?function(...c){return a.apply(j(this),c),X(E.get(this))}:function(...c){return X(a.apply(j(this),c))}:function(c,...l){const d=a.call(j(this),c,...l);return y.set(d,c.sort?c.sort():[c]),X(d)}}(a):(a instanceof IDBTransaction&&function Y(a){if(D.has(a))return;const c=new Promise((l,d)=>{const p=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",v),a.removeEventListener("abort",v)},h=()=>{l(),p()},v=()=>{d(a.error||new DOMException("AbortError","AbortError")),p()};a.addEventListener("complete",h),a.addEventListener("error",v),a.addEventListener("abort",v)});D.set(a,c)}(a),W(a,function U(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(a,F):a)}function X(a){if(a instanceof IDBRequest)return function e(a){const c=new Promise((l,d)=>{const p=()=>{a.removeEventListener("success",h),a.removeEventListener("error",v)},h=()=>{l(X(a.result)),p()},v=()=>{d(a.error),p()};a.addEventListener("success",h),a.addEventListener("error",v)});return c.then(l=>{l instanceof IDBCursor&&E.set(l,a)}).catch(()=>{}),w.set(c,a),c}(a);if(T.has(a))return T.get(a);const c=he(a);return c!==a&&(T.set(a,c),w.set(c,a)),c}const j=a=>w.get(a);function ce(a,c,{blocked:l,upgrade:d,blocking:p,terminated:h}={}){const v=indexedDB.open(a,c),C=X(v);return d&&v.addEventListener("upgradeneeded",A=>{d(X(v.result),A.oldVersion,A.newVersion,X(v.transaction))}),l&&v.addEventListener("blocked",()=>l()),C.then(A=>{h&&A.addEventListener("close",()=>h()),p&&A.addEventListener("versionchange",()=>p())}).catch(()=>{}),C}function ee(a,{blocked:c}={}){const l=indexedDB.deleteDatabase(a);return c&&l.addEventListener("blocked",()=>c()),X(l).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],le=new Map;function H(a,c){if(!(a instanceof IDBDatabase)||c in a||"string"!=typeof c)return;if(le.get(c))return le.get(c);const l=c.replace(/FromIndex$/,""),d=c!==l,p=Te.includes(l);if(!(l in(d?IDBIndex:IDBObjectStore).prototype)||!p&&!me.includes(l))return;const h=function(){var v=(0,i.Z)(function*(C,...A){const S=this.transaction(C,p?"readwrite":"readonly");let N=S.store;return d&&(N=N.index(A.shift())),(yield Promise.all([N[l](...A),p&&S.done]))[0]});return function(A){return v.apply(this,arguments)}}();return le.set(c,h),h}!function ne(a){F=a(F)}(a=>({...a,get:(c,l,d)=>H(c,l)||a.get(c,l,d),has:(c,l)=>!!H(c,l)||a.has(c,l)}));const G="@firebase/installations",I="0.6.4",$=1e4,ge=`w:${I}`,fe="FIS_v2",Re="https://firebaseinstallations.googleapis.com/v1",mt=36e5,Z=new P.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ie(a){return a instanceof P.ZR&&a.code.includes("request-failed")}function L({projectId:a}){return`${Re}/projects/${a}/installations`}function O(a){return{token:a.token,requestStatus:2,expiresIn:It(a.expiresIn),creationTime:Date.now()}}function V(a,c){return ue.apply(this,arguments)}function ue(){return(ue=(0,i.Z)(function*(a,c){const d=(yield c.json()).error;return Z.create("request-failed",{requestName:a,serverCode:d.code,serverMessage:d.message,serverStatus:d.status})})).apply(this,arguments)}function be({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function ot(a){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,i.Z)(function*(a){const c=yield a();return c.status>=500&&c.status<600?a():c})).apply(this,arguments)}function It(a){return Number(a.replace("s","000"))}function nn(){return(nn=(0,i.Z)(function*({appConfig:a,heartbeatServiceProvider:c},{fid:l}){const d=L(a),p=be(a),h=c.getImmediate({optional:!0});if(h){const S=yield h.getHeartbeatsHeader();S&&p.append("x-firebase-client",S)}const C={method:"POST",headers:p,body:JSON.stringify({fid:l,authVersion:fe,appId:a.appId,sdkVersion:ge})},A=yield ot(()=>fetch(d,C));if(A.ok){const S=yield A.json();return{fid:S.fid||l,registrationStatus:2,refreshToken:S.refreshToken,authToken:O(S.authToken)}}throw yield V("Create Installation",A)})).apply(this,arguments)}function ke(a){return new Promise(c=>{setTimeout(c,a)})}const wi=/^[cdef][\w-]{21}$/,on="";function Ai(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const l=function Ci(a){return function yi(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}(a).substr(0,22)}(a);return wi.test(l)?l:on}catch{return on}}function it(a){return`${a.appName}!${a.appId}`}const at=new Map;function xo(a,c){const l=it(a);yo(l,c),function Zi(a,c){const l=function wo(){return!We&&"BroadcastChannel"in self&&(We=new BroadcastChannel("[Firebase] FID Change"),We.onmessage=a=>{yo(a.data.key,a.data.fid)}),We}();l&&l.postMessage({key:a,fid:c}),function Ao(){0===at.size&&We&&(We.close(),We=null)}()}(l,c)}function yo(a,c){const l=at.get(a);if(l)for(const d of l)d(c)}let We=null;const Si="firebase-installations-database",Ii=1,He="firebase-installations-store";let an=null;function rn(){return an||(an=ce(Si,Ii,{upgrade:(a,c)=>{0===c&&a.createObjectStore(He)}})),an}function Ot(a,c){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,i.Z)(function*(a,c){const l=it(a),p=(yield rn()).transaction(He,"readwrite"),h=p.objectStore(He),v=yield h.get(l);return yield h.put(c,l),yield p.done,(!v||v.fid!==c.fid)&&xo(a,c.fid),c})).apply(this,arguments)}function sn(a){return cn.apply(this,arguments)}function cn(){return(cn=(0,i.Z)(function*(a){const c=it(a),d=(yield rn()).transaction(He,"readwrite");yield d.objectStore(He).delete(c),yield d.done})).apply(this,arguments)}function ht(a,c){return ln.apply(this,arguments)}function ln(){return(ln=(0,i.Z)(function*(a,c){const l=it(a),p=(yield rn()).transaction(He,"readwrite"),h=p.objectStore(He),v=yield h.get(l),C=c(v);return void 0===C?yield h.delete(l):yield h.put(C,l),yield p.done,C&&(!v||v.fid!==C.fid)&&xo(a,C.fid),C})).apply(this,arguments)}function un(a){return dn.apply(this,arguments)}function dn(){return dn=(0,i.Z)(function*(a){let c;const l=yield ht(a.appConfig,d=>{const p=function Oi(a){return To(a||{fid:Ai(),registrationStatus:0})}(d),h=function Li(a,c){if(0===c.registrationStatus){if(!navigator.onLine)return{installationEntry:c,registrationPromise:Promise.reject(Z.create("app-offline"))};const l={fid:c.fid,registrationStatus:1,registrationTime:Date.now()},d=function Ei(a,c){return _n.apply(this,arguments)}(a,l);return{installationEntry:l,registrationPromise:d}}return 1===c.registrationStatus?{installationEntry:c,registrationPromise:Pi(a)}:{installationEntry:c}}(a,p);return c=h.registrationPromise,h.installationEntry});return l.fid===on?{installationEntry:yield c}:{installationEntry:l,registrationPromise:c}}),dn.apply(this,arguments)}function _n(){return _n=(0,i.Z)(function*(a,c){try{const l=yield function bo(a,c){return nn.apply(this,arguments)}(a,c);return Ot(a.appConfig,l)}catch(l){throw ie(l)&&409===l.customData.serverCode?yield sn(a.appConfig):yield Ot(a.appConfig,{fid:c.fid,registrationStatus:0}),l}}),_n.apply(this,arguments)}function Pi(a){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,i.Z)(function*(a){let c=yield Co(a.appConfig);for(;1===c.registrationStatus;)yield ke(100),c=yield Co(a.appConfig);if(0===c.registrationStatus){const{installationEntry:l,registrationPromise:d}=yield un(a);return d||l}return c})).apply(this,arguments)}function Co(a){return ht(a,c=>{if(!c)throw Z.create("installation-not-found");return To(c)})}function To(a){return function Mi(a){return 1===a.registrationStatus&&a.registrationTime+$<Date.now()}(a)?{fid:a.fid,registrationStatus:0}:a}function gn(){return(gn=(0,i.Z)(function*({appConfig:a,heartbeatServiceProvider:c},l){const d=function Ui(a,{fid:c}){return`${L(a)}/${c}/authTokens:generate`}(a,l),p=function Ye(a,{refreshToken:c}){const l=be(a);return l.append("Authorization",function Ke(a){return`${fe} ${a}`}(c)),l}(a,l),h=c.getImmediate({optional:!0});if(h){const S=yield h.getHeartbeatsHeader();S&&p.append("x-firebase-client",S)}const C={method:"POST",headers:p,body:JSON.stringify({installation:{sdkVersion:ge,appId:a.appId}})},A=yield ot(()=>fetch(d,C));if(A.ok)return O(yield A.json());throw yield V("Generate Auth Token",A)})).apply(this,arguments)}function pn(a){return mn.apply(this,arguments)}function mn(){return mn=(0,i.Z)(function*(a,c=!1){let l;const d=yield ht(a.appConfig,h=>{if(!Lt(h))throw Z.create("not-registered");const v=h.authToken;if(!c&&function Ni(a){return 2===a.requestStatus&&!function rt(a){const c=Date.now();return c<a.creationTime||a.creationTime+a.expiresIn<c+mt}(a)}(v))return h;if(1===v.requestStatus)return l=function ji(a,c){return hn.apply(this,arguments)}(a,c),h;{if(!navigator.onLine)throw Z.create("app-offline");const C=function st(a){const c={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:c})}(h);return l=function Qi(a,c){return ft.apply(this,arguments)}(a,C),C}});return l?yield l:d.authToken}),mn.apply(this,arguments)}function hn(){return(hn=(0,i.Z)(function*(a,c){let l=yield ko(a.appConfig);for(;1===l.authToken.requestStatus;)yield ke(100),l=yield ko(a.appConfig);const d=l.authToken;return 0===d.requestStatus?pn(a,c):d})).apply(this,arguments)}function ko(a){return ht(a,c=>{if(!Lt(c))throw Z.create("not-registered");return function vt(a){return 1===a.requestStatus&&a.requestTime+$<Date.now()}(c.authToken)?Object.assign(Object.assign({},c),{authToken:{requestStatus:0}}):c})}function ft(){return ft=(0,i.Z)(function*(a,c){try{const l=yield function qi(a,c){return gn.apply(this,arguments)}(a,c),d=Object.assign(Object.assign({},c),{authToken:l});return yield Ot(a.appConfig,d),l}catch(l){if(!ie(l)||401!==l.customData.serverCode&&404!==l.customData.serverCode){const d=Object.assign(Object.assign({},c),{authToken:{requestStatus:0}});yield Ot(a.appConfig,d)}else yield sn(a.appConfig);throw l}}),ft.apply(this,arguments)}function Lt(a){return void 0!==a&&2===a.registrationStatus}function fn(){return(fn=(0,i.Z)(function*(a){const c=a,{installationEntry:l,registrationPromise:d}=yield un(c);return d?d.catch(console.error):pn(c).catch(console.error),l.fid})).apply(this,arguments)}function vn(){return vn=(0,i.Z)(function*(a,c=!1){const l=a;return yield function Fi(a){return bn.apply(this,arguments)}(l),(yield pn(l,c)).token}),vn.apply(this,arguments)}function bn(){return(bn=(0,i.Z)(function*(a){const{registrationPromise:c}=yield un(a);c&&(yield c)})).apply(this,arguments)}function yn(a){return Z.create("missing-app-config-values",{valueName:a})}const So="installations",Ji=a=>{const c=a.getProvider("app").getImmediate(),l=function zi(a){if(!a||!a.options)throw yn("App Configuration");if(!a.name)throw yn("App Name");const c=["projectId","apiKey","appId"];for(const l of c)if(!a.options[l])throw yn(l);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}(c);return{app:c,appConfig:l,heartbeatServiceProvider:(0,_._getProvider)(c,"heartbeat"),_delete:()=>Promise.resolve()}},Yi=a=>{const c=a.getProvider("app").getImmediate(),l=(0,_._getProvider)(c,So).getImmediate();return{getId:()=>function Et(a){return fn.apply(this,arguments)}(l),getToken:p=>function Ri(a){return vn.apply(this,arguments)}(l,p)}};(function Gi(){(0,_._registerComponent)(new z.wA(So,Ji,"PUBLIC")),(0,_._registerComponent)(new z.wA("installations-internal",Yi,"PRIVATE"))})(),(0,_.registerVersion)(G,I),(0,_.registerVersion)(G,I,"esm2017");const wn="@firebase/remote-config",Oe=new P.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ea{constructor(c,l,d,p){this.client=c,this.storage=l,this.storageCache=d,this.logger=p}isCachedDataFresh(c,l){if(!l)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const d=Date.now()-l,p=d<=c;return this.logger.debug(`Config fetch cache check. Cache age millis: ${d}. Cache max age millis (minimumFetchIntervalMillis setting): ${c}. Is cache hit: ${p}.`),p}fetch(c){var l=this;return(0,i.Z)(function*(){const[d,p]=yield Promise.all([l.storage.getLastSuccessfulFetchTimestampMillis(),l.storage.getLastSuccessfulFetchResponse()]);if(p&&l.isCachedDataFresh(c.cacheMaxAgeMillis,d))return p;c.eTag=p&&p.eTag;const h=yield l.client.fetch(c),v=[l.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===h.status&&v.push(l.storage.setLastSuccessfulFetchResponse(h)),yield Promise.all(v),h})()}}function ta(a=navigator){return a.languages&&a.languages[0]||a.language}class na{constructor(c,l,d,p,h,v){this.firebaseInstallations=c,this.sdkVersion=l,this.namespace=d,this.projectId=p,this.apiKey=h,this.appId=v}fetch(c){var l=this;return(0,i.Z)(function*(){const[d,p]=yield Promise.all([l.firebaseInstallations.getId(),l.firebaseInstallations.getToken()]),v=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${l.projectId}/namespaces/${l.namespace}:fetch?key=${l.apiKey}`,C={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":c.eTag||"*"},A={sdk_version:l.sdkVersion,app_instance_id:d,app_instance_id_token:p,app_id:l.appId,language_code:ta()},S={method:"POST",headers:C,body:JSON.stringify(A)},N=fetch(v,S),Q=new Promise((Le,Qe)=>{c.signal.addEventListener(()=>{const Ht=new Error("The operation was aborted.");Ht.name="AbortError",Qe(Ht)})});let Ee;try{yield Promise.race([N,Q]),Ee=yield N}catch(Le){let Qe="fetch-client-network";throw"AbortError"===Le?.name&&(Qe="fetch-timeout"),Oe.create(Qe,{originalErrorMessage:Le?.message})}let ye=Ee.status;const nt=Ee.headers.get("ETag")||void 0;let Zt,gt;if(200===Ee.status){let Le;try{Le=yield Ee.json()}catch(Qe){throw Oe.create("fetch-client-parse",{originalErrorMessage:Qe?.message})}Zt=Le.entries,gt=Le.state}if("INSTANCE_STATE_UNSPECIFIED"===gt?ye=500:"NO_CHANGE"===gt?ye=304:("NO_TEMPLATE"===gt||"EMPTY_CONFIG"===gt)&&(Zt={}),304!==ye&&200!==ye)throw Oe.create("fetch-status",{httpStatus:ye});return{status:ye,eTag:nt,config:Zt}})()}}class aa{constructor(c,l){this.client=c,this.storage=l}fetch(c){var l=this;return(0,i.Z)(function*(){const d=(yield l.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return l.attemptFetch(c,d)})()}attemptFetch(c,{throttleEndTimeMillis:l,backoffCount:d}){var p=this;return(0,i.Z)(function*(){yield function oa(a,c){return new Promise((l,d)=>{const p=Math.max(c-Date.now(),0),h=setTimeout(l,p);a.addEventListener(()=>{clearTimeout(h),d(Oe.create("fetch-throttle",{throttleEndTimeMillis:c}))})})}(c.signal,l);try{const h=yield p.client.fetch(c);return yield p.storage.deleteThrottleMetadata(),h}catch(h){if(!function ia(a){if(!(a instanceof P.ZR&&a.customData))return!1;const c=Number(a.customData.httpStatus);return 429===c||500===c||503===c||504===c}(h))throw h;const v={throttleEndTimeMillis:Date.now()+(0,P.$s)(d),backoffCount:d+1};return yield p.storage.setThrottleMetadata(v),p.attemptFetch(c,v)}})()}}class ca{constructor(c,l,d,p,h){this.app=c,this._client=l,this._storageCache=d,this._storage=p,this._logger=h,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jt(a,c){const l=a.target.error||void 0;return Oe.create(c,{originalErrorMessage:l&&l?.message})}const $e="app_namespace_store";class _a{constructor(c,l,d,p=function da(){return new Promise((a,c)=>{try{const l=indexedDB.open("firebase_remote_config",1);l.onerror=d=>{c(jt(d,"storage-open"))},l.onsuccess=d=>{a(d.target.result)},l.onupgradeneeded=d=>{0===d.oldVersion&&d.target.result.createObjectStore($e,{keyPath:"compositeKey"})}}catch(l){c(Oe.create("storage-open",{originalErrorMessage:l?.message}))}})}()){this.appId=c,this.appName=l,this.namespace=d,this.openDbPromise=p}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(c){return this.set("last_fetch_status",c)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(c){return this.set("last_successful_fetch_timestamp_millis",c)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(c){return this.set("last_successful_fetch_response",c)}getActiveConfig(){return this.get("active_config")}setActiveConfig(c){return this.set("active_config",c)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(c){return this.set("active_config_etag",c)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(c){return this.set("throttle_metadata",c)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(c){var l=this;return(0,i.Z)(function*(){const d=yield l.openDbPromise;return new Promise((p,h)=>{const C=d.transaction([$e],"readonly").objectStore($e),A=l.createCompositeKey(c);try{const S=C.get(A);S.onerror=N=>{h(jt(N,"storage-get"))},S.onsuccess=N=>{const Q=N.target.result;p(Q?Q.value:void 0)}}catch(S){h(Oe.create("storage-get",{originalErrorMessage:S?.message}))}})})()}set(c,l){var d=this;return(0,i.Z)(function*(){const p=yield d.openDbPromise;return new Promise((h,v)=>{const A=p.transaction([$e],"readwrite").objectStore($e),S=d.createCompositeKey(c);try{const N=A.put({compositeKey:S,value:l});N.onerror=Q=>{v(jt(Q,"storage-set"))},N.onsuccess=()=>{h()}}catch(N){v(Oe.create("storage-set",{originalErrorMessage:N?.message}))}})})()}delete(c){var l=this;return(0,i.Z)(function*(){const d=yield l.openDbPromise;return new Promise((p,h)=>{const C=d.transaction([$e],"readwrite").objectStore($e),A=l.createCompositeKey(c);try{const S=C.delete(A);S.onerror=N=>{h(jt(N,"storage-delete"))},S.onsuccess=()=>{p()}}catch(S){h(Oe.create("storage-delete",{originalErrorMessage:S?.message}))}})})()}createCompositeKey(c){return[this.appId,this.appName,this.namespace,c].join()}}class ga{constructor(c){this.storage=c}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var c=this;return(0,i.Z)(function*(){const l=c.storage.getLastFetchStatus(),d=c.storage.getLastSuccessfulFetchTimestampMillis(),p=c.storage.getActiveConfig(),h=yield l;h&&(c.lastFetchStatus=h);const v=yield d;v&&(c.lastSuccessfulFetchTimestampMillis=v);const C=yield p;C&&(c.activeConfig=C)})()}setLastFetchStatus(c){return this.lastFetchStatus=c,this.storage.setLastFetchStatus(c)}setLastSuccessfulFetchTimestampMillis(c){return this.lastSuccessfulFetchTimestampMillis=c,this.storage.setLastSuccessfulFetchTimestampMillis(c)}setActiveConfig(c){return this.activeConfig=c,this.storage.setActiveConfig(c)}}function ma(){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,i.Z)(function*(){if(!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch{return!1}})).apply(this,arguments)}!function pa(){(0,_._registerComponent)(new z.wA("remote-config",function a(c,{instanceIdentifier:l}){const d=c.getProvider("app").getImmediate(),p=c.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Oe.create("registration-window");if(!(0,P.hl)())throw Oe.create("indexed-db-unavailable");const{projectId:h,apiKey:v,appId:C}=d.options;if(!h)throw Oe.create("registration-project-id");if(!v)throw Oe.create("registration-api-key");if(!C)throw Oe.create("registration-app-id");const A=new _a(C,d.name,l=l||"firebase"),S=new ga(A),N=new R.Yd(wn);N.logLevel=R.in.ERROR;const Q=new na(p,_.SDK_VERSION,l,h,v,C),Ee=new aa(Q,A),ye=new ea(Ee,A,S,N),nt=new ca(d,ye,S,A,N);return function $i(a){const c=(0,P.m9)(a);c._initializePromise||(c._initializePromise=c._storageCache.loadFromStorage().then(()=>{c._isInitializationComplete=!0}))}(nt),nt},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(wn,"0.4.4"),(0,_.registerVersion)(wn,"0.4.4","esm2017")}();const ha="/firebase-messaging-sw.js",fa="/firebase-cloud-messaging-push-scope",Mo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",va="https://fcmregistrations.googleapis.com/v1",qo="google.c.a.c_id",ba="google.c.a.c_l",xa="google.c.a.ts";var Qt=function(a){return a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked",a}(Qt||{});function Fe(a){const c=new Uint8Array(a);return btoa(String.fromCharCode(...c)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Aa(a){const l=(a+"=".repeat((4-a.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),d=atob(l),p=new Uint8Array(d.length);for(let h=0;h<d.length;++h)p[h]=d.charCodeAt(h);return p}const Zn="fcm_token_details_db",Ca=5,Uo="fcm_token_object_Store";function Sn(){return Sn=(0,i.Z)(function*(a){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(h=>h.name).includes(Zn))return null;let c=null;return(yield ce(Zn,Ca,{upgrade:(d=(0,i.Z)(function*(p,h,v,C){var A;if(h<2||!p.objectStoreNames.contains(Uo))return;const S=C.objectStore(Uo),N=yield S.index("fcmSenderId").get(a);if(yield S.clear(),N)if(2===h){const Q=N;if(!Q.auth||!Q.p256dh||!Q.endpoint)return;c={token:Q.fcmToken,createTime:null!==(A=Q.createTime)&&void 0!==A?A:Date.now(),subscriptionOptions:{auth:Q.auth,p256dh:Q.p256dh,endpoint:Q.endpoint,swScope:Q.swScope,vapidKey:"string"==typeof Q.vapidKey?Q.vapidKey:Fe(Q.vapidKey)}}}else if(3===h){const Q=N;c={token:Q.fcmToken,createTime:Q.createTime,subscriptionOptions:{auth:Fe(Q.auth),p256dh:Fe(Q.p256dh),endpoint:Q.endpoint,swScope:Q.swScope,vapidKey:Fe(Q.vapidKey)}}}else if(4===h){const Q=N;c={token:Q.fcmToken,createTime:Q.createTime,subscriptionOptions:{auth:Fe(Q.auth),p256dh:Fe(Q.p256dh),endpoint:Q.endpoint,swScope:Q.swScope,vapidKey:Fe(Q.vapidKey)}}}}),function(h,v,C,A){return d.apply(this,arguments)})})).close(),yield ee(Zn),yield ee("fcm_vapid_details_db"),yield ee("undefined"),function ka(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:c}=a;return"number"==typeof a.createTime&&a.createTime>0&&"string"==typeof a.token&&a.token.length>0&&"string"==typeof c.auth&&c.auth.length>0&&"string"==typeof c.p256dh&&c.p256dh.length>0&&"string"==typeof c.endpoint&&c.endpoint.length>0&&"string"==typeof c.swScope&&c.swScope.length>0&&"string"==typeof c.vapidKey&&c.vapidKey.length>0}(c)?c:null;var d}),Sn.apply(this,arguments)}const Za="firebase-messaging-database",Sa=1,Xe="firebase-messaging-store";let In=null;function On(){return In||(In=ce(Za,Sa,{upgrade:(a,c)=>{0===c&&a.createObjectStore(Xe)}})),In}function jo(a){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,i.Z)(function*(a){const c=qn(a),d=yield(yield On()).transaction(Xe).objectStore(Xe).get(c);if(d)return d;{const p=yield function Ta(a){return Sn.apply(this,arguments)}(a.appConfig.senderId);if(p)return yield En(a,p),p}}),Ln.apply(this,arguments)}function En(a,c){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,i.Z)(function*(a,c){const l=qn(a),p=(yield On()).transaction(Xe,"readwrite");return yield p.objectStore(Xe).put(c,l),yield p.done,c})).apply(this,arguments)}function Mn(){return(Mn=(0,i.Z)(function*(a){const c=qn(a),d=(yield On()).transaction(Xe,"readwrite");yield d.objectStore(Xe).delete(c),yield d.done})).apply(this,arguments)}function qn({appConfig:a}){return a.appId}const xe=new P.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oa(a,c){return Un.apply(this,arguments)}function Un(){return(Un=(0,i.Z)(function*(a,c){const l=yield Rn(a),d=No(c),p={method:"POST",headers:l,body:JSON.stringify(d)};let h;try{h=yield(yield fetch(Nn(a.appConfig),p)).json()}catch(v){throw xe.create("token-subscribe-failed",{errorInfo:v?.toString()})}if(h.error)throw xe.create("token-subscribe-failed",{errorInfo:h.error.message});if(!h.token)throw xe.create("token-subscribe-no-token");return h.token})).apply(this,arguments)}function jn(){return(jn=(0,i.Z)(function*(a,c){const l=yield Rn(a),d=No(c.subscriptionOptions),p={method:"PATCH",headers:l,body:JSON.stringify(d)};let h;try{h=yield(yield fetch(`${Nn(a.appConfig)}/${c.token}`,p)).json()}catch(v){throw xe.create("token-update-failed",{errorInfo:v?.toString()})}if(h.error)throw xe.create("token-update-failed",{errorInfo:h.error.message});if(!h.token)throw xe.create("token-update-no-token");return h.token})).apply(this,arguments)}function Qo(a,c){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,i.Z)(function*(a,c){const d={method:"DELETE",headers:yield Rn(a)};try{const h=yield(yield fetch(`${Nn(a.appConfig)}/${c}`,d)).json();if(h.error)throw xe.create("token-unsubscribe-failed",{errorInfo:h.error.message})}catch(p){throw xe.create("token-unsubscribe-failed",{errorInfo:p?.toString()})}})).apply(this,arguments)}function Nn({projectId:a}){return`${va}/projects/${a}/registrations`}function Rn(a){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,i.Z)(function*({appConfig:a,installations:c}){const l=yield c.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":`FIS ${l}`})})).apply(this,arguments)}function No({p256dh:a,auth:c,endpoint:l,vapidKey:d}){const p={web:{endpoint:l,auth:c,p256dh:a}};return d!==Mo&&(p.web.applicationPubKey=d),p}const Nt=6048e5;function Dn(){return Dn=(0,i.Z)(function*(a){const c=yield function Ma(a,c){return bt.apply(this,arguments)}(a.swRegistration,a.vapidKey),l={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:c.endpoint,auth:Fe(c.getKey("auth")),p256dh:Fe(c.getKey("p256dh"))},d=yield jo(a.firebaseDependencies);if(d){if(function xt(a,c){return c.vapidKey===a.vapidKey&&c.endpoint===a.endpoint&&c.auth===a.auth&&c.p256dh===a.p256dh}(d.subscriptionOptions,l))return Date.now()>=d.createTime+Nt?function Pa(a,c){return Bn.apply(this,arguments)}(a,{token:d.token,createTime:Date.now(),subscriptionOptions:l}):d.token;try{yield Qo(a.firebaseDependencies,d.token)}catch(p){console.warn(p)}return Fo(a.firebaseDependencies,l)}return Fo(a.firebaseDependencies,l)}),Dn.apply(this,arguments)}function zn(){return zn=(0,i.Z)(function*(a){const c=yield jo(a.firebaseDependencies);c&&(yield Qo(a.firebaseDependencies,c.token),yield function Ia(a){return Mn.apply(this,arguments)}(a.firebaseDependencies));const l=yield a.swRegistration.pushManager.getSubscription();return!l||l.unsubscribe()}),zn.apply(this,arguments)}function Bn(){return Bn=(0,i.Z)(function*(a,c){try{const l=yield function La(a,c){return jn.apply(this,arguments)}(a.firebaseDependencies,c),d=Object.assign(Object.assign({},c),{token:l,createTime:Date.now()});return yield En(a.firebaseDependencies,d),l}catch(l){throw yield function Ro(a){return zn.apply(this,arguments)}(a),l}}),Bn.apply(this,arguments)}function Fo(a,c){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,i.Z)(function*(a,c){const d={token:yield Oa(a,c),createTime:Date.now(),subscriptionOptions:c};return yield En(a,d),d.token})).apply(this,arguments)}function bt(){return(bt=(0,i.Z)(function*(a,c){return(yield a.pushManager.getSubscription())||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Aa(c)})})).apply(this,arguments)}function Do(a){const c={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return function zo(a,c){if(!c.notification)return;a.notification={};const l=c.notification.title;l&&(a.notification.title=l);const d=c.notification.body;d&&(a.notification.body=d);const p=c.notification.image;p&&(a.notification.image=p);const h=c.notification.icon;h&&(a.notification.icon=h)}(c,a),function qa(a,c){c.data&&(a.data=c.data)}(c,a),function Ua(a,c){var l,d,p,h,v;if(!(c.fcmOptions||null!==(l=c.notification)&&void 0!==l&&l.click_action))return;a.fcmOptions={};const C=null!==(p=null===(d=c.fcmOptions)||void 0===d?void 0:d.link)&&void 0!==p?p:null===(h=c.notification)||void 0===h?void 0:h.click_action;C&&(a.fcmOptions.link=C);const A=null===(v=c.fcmOptions)||void 0===v?void 0:v.analytics_label;A&&(a.fcmOptions.analyticsLabel=A)}(c,a),c}function Bo(a,c){const l=[];for(let d=0;d<a.length;d++)l.push(a.charAt(d)),d<c.length&&l.push(c.charAt(d));return l.join("")}function Yn(a){return xe.create("missing-app-config-values",{valueName:a})}Bo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jo{constructor(c,l,d){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const p=function Qa(a){if(!a||!a.options)throw Yn("App Configuration Object");if(!a.name)throw Yn("App Name");const c=["projectId","apiKey","appId","messagingSenderId"],{options:l}=a;for(const d of c)if(!l[d])throw Yn(d);return{appName:a.name,projectId:l.projectId,apiKey:l.apiKey,appId:l.appId,senderId:l.messagingSenderId}}(c);this.firebaseDependencies={app:c,appConfig:p,installations:l,analyticsProvider:d}}_delete(){return Promise.resolve()}}function Gn(){return(Gn=(0,i.Z)(function*(a){try{a.swRegistration=yield navigator.serviceWorker.register(ha,{scope:fa}),a.swRegistration.update().catch(()=>{})}catch(c){throw xe.create("failed-service-worker-registration",{browserErrorMessage:c?.message})}})).apply(this,arguments)}function Vn(){return(Vn=(0,i.Z)(function*(a,c){if(!c&&!a.swRegistration&&(yield function Yo(a){return Gn.apply(this,arguments)}(a)),c||!a.swRegistration){if(!(c instanceof ServiceWorkerRegistration))throw xe.create("invalid-sw-registration");a.swRegistration=c}})).apply(this,arguments)}function Kn(){return(Kn=(0,i.Z)(function*(a,c){c?a.vapidKey=c:a.vapidKey||(a.vapidKey=Mo)})).apply(this,arguments)}function Wn(){return Wn=(0,i.Z)(function*(a,c){if(!navigator)throw xe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xe.create("permission-blocked");return yield function Ra(a,c){return Kn.apply(this,arguments)}(a,c?.vapidKey),yield function Na(a,c){return Vn.apply(this,arguments)}(a,c?.serviceWorkerRegistration),function Ea(a){return Dn.apply(this,arguments)}(a)}),Wn.apply(this,arguments)}function et(){return(et=(0,i.Z)(function*(a,c,l){const d=function Da(a){switch(a){case Qt.NOTIFICATION_CLICKED:return"notification_open";case Qt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(c);(yield a.firebaseDependencies.analyticsProvider.get()).logEvent(d,{message_id:l[qo],message_name:l[ba],message_time:l[xa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Hn(){return Hn=(0,i.Z)(function*(a,c){const l=c.data;if(!l.isFirebaseMessaging)return;a.onMessageHandler&&l.messageType===Qt.PUSH_RECEIVED&&("function"==typeof a.onMessageHandler?a.onMessageHandler(Do(l)):a.onMessageHandler.next(Do(l)));const d=l.data;(function ja(a){return"object"==typeof a&&!!a&&qo in a})(d)&&"1"===d["google.c.a.e"]&&(yield function Fa(a,c,l){return et.apply(this,arguments)}(a,l.messageType,d))}),Hn.apply(this,arguments)}const Vo="@firebase/messaging",za=a=>{const c=new Jo(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",l=>function Rt(a,c){return Hn.apply(this,arguments)}(c,l)),c},Ba=a=>{const c=a.getProvider("messaging").getImmediate();return{getToken:d=>function Go(a,c){return Wn.apply(this,arguments)}(c,d)}};function Wo(){return $n.apply(this,arguments)}function $n(){return($n=(0,i.Z)(function*(){try{yield(0,P.eu)()}catch{return!1}return typeof window<"u"&&(0,P.hl)()&&(0,P.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ja(){(0,_._registerComponent)(new z.wA("messaging",za,"PUBLIC")),(0,_._registerComponent)(new z.wA("messaging-internal",Ba,"PRIVATE")),(0,_.registerVersion)(Vo,"0.12.4"),(0,_.registerVersion)(Vo,"0.12.4","esm2017")}();const Ft="analytics",Dt="firebase_id",ae="origin",Yr=6e4,Va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",to="https://www.googletagmanager.com/gtag/js",de=new R.Yd("@firebase/analytics"),Ze=new P.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ka(a){if(!a.startsWith(to)){const c=Ze.create("invalid-gtag-resource",{gtagURL:a});return de.warn(c.message),""}return a}function $o(a){return Promise.all(a.map(c=>c.catch(l=>l)))}function no(){return(no=(0,i.Z)(function*(a,c,l,d,p,h){const v=d[p];try{if(v)yield c[v];else{const A=(yield $o(l)).find(S=>S.measurementId===p);A&&(yield c[A.appId])}}catch(C){de.error(C)}a("config",p,h)})).apply(this,arguments)}function oo(){return(oo=(0,i.Z)(function*(a,c,l,d,p){try{let h=[];if(p&&p.send_to){let v=p.send_to;Array.isArray(v)||(v=[v]);const C=yield $o(l);for(const A of v){const S=C.find(Q=>Q.measurementId===A),N=S&&c[S.appId];if(!N){h=[];break}h.push(N)}}0===h.length&&(h=Object.values(c)),yield Promise.all(h),a("event",d,p||{})}catch(h){de.error(h)}})).apply(this,arguments)}const or=30,ei=new class ar{constructor(c={},l=1e3){this.throttleMetadata=c,this.intervalMillis=l}getThrottleMetadata(c){return this.throttleMetadata[c]}setThrottleMetadata(c,l){this.throttleMetadata[c]=l}deleteThrottleMetadata(c){delete this.throttleMetadata[c]}};function rr(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}function zt(){return(zt=(0,i.Z)(function*(a){var c;const{appId:l,apiKey:d}=a,p={method:"GET",headers:rr(d)},h=Va.replace("{app-id}",l),v=yield fetch(h,p);if(200!==v.status&&304!==v.status){let C="";try{const A=yield v.json();null!==(c=A.error)&&void 0!==c&&c.message&&(C=A.error.message)}catch{}throw Ze.create("config-fetch-failed",{httpStatus:v.status,responseMessage:C})}return v.json()})).apply(this,arguments)}function io(){return(io=(0,i.Z)(function*(a,c=ei,l){const{appId:d,apiKey:p,measurementId:h}=a.options;if(!d)throw Ze.create("no-app-id");if(!p){if(h)return{measurementId:h,appId:d};throw Ze.create("no-api-key")}const v=c.getThrottleMetadata(d)||{backoffCount:0,throttleEndTimeMillis:Date.now()},C=new ur;return setTimeout((0,i.Z)(function*(){C.abort()}),void 0!==l?l:Yr),ti({appId:d,apiKey:p,measurementId:h},v,C,c)})).apply(this,arguments)}function ti(a,c,l){return ao.apply(this,arguments)}function ao(){return ao=(0,i.Z)(function*(a,{throttleEndTimeMillis:c,backoffCount:l},d,p=ei){var h;const{appId:v,measurementId:C}=a;try{yield function lr(a,c){return new Promise((l,d)=>{const p=Math.max(c-Date.now(),0),h=setTimeout(l,p);a.addEventListener(()=>{clearTimeout(h),d(Ze.create("fetch-throttle",{throttleEndTimeMillis:c}))})})}(d,c)}catch(A){if(C)return de.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C} provided in the "measurementId" field in the local Firebase config. [${A?.message}]`),{appId:v,measurementId:C};throw A}try{const A=yield function sr(a){return zt.apply(this,arguments)}(a);return p.deleteThrottleMetadata(v),A}catch(A){const S=A;if(!function ni(a){if(!(a instanceof P.ZR&&a.customData))return!1;const c=Number(a.customData.httpStatus);return 429===c||500===c||503===c||504===c}(S)){if(p.deleteThrottleMetadata(v),C)return de.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C} provided in the "measurementId" field in the local Firebase config. [${S?.message}]`),{appId:v,measurementId:C};throw A}const N=503===Number(null===(h=S?.customData)||void 0===h?void 0:h.httpStatus)?(0,P.$s)(l,p.intervalMillis,or):(0,P.$s)(l,p.intervalMillis),Q={throttleEndTimeMillis:Date.now()+N,backoffCount:l+1};return p.setThrottleMetadata(v,Q),de.debug(`Calling attemptFetch again in ${N} millis`),ti(a,Q,d,p)}}),ao.apply(this,arguments)}class ur{constructor(){this.listeners=[]}addEventListener(c){this.listeners.push(c)}abort(){this.listeners.forEach(c=>c())}}let ro,yt;function so(){return(so=(0,i.Z)(function*(a,c,l,d,p){if(p&&p.global)a("event",l,d);else{const h=yield c;a("event",l,Object.assign(Object.assign({},d),{send_to:h}))}})).apply(this,arguments)}function wt(){return(wt=(0,i.Z)(function*(){if(!(0,P.hl)())return de.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,P.eu)()}catch(a){return de.warn(Ze.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}return!0})).apply(this,arguments)}function ct(){return ct=(0,i.Z)(function*(a,c,l,d,p,h,v){var C;const A=function cr(a){return io.apply(this,arguments)}(a);A.then(ye=>{l[ye.measurementId]=ye.appId,a.options.measurementId&&ye.measurementId!==a.options.measurementId&&de.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${ye.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ye=>de.error(ye)),c.push(A);const S=function ai(){return wt.apply(this,arguments)}().then(ye=>{if(ye)return d.getId()}),[N,Q]=yield Promise.all([A,S]);(function nr(a){const c=window.document.getElementsByTagName("script");for(const l of Object.values(c))if(l.src&&l.src.includes(to)&&l.src.includes(a))return l;return null})(h)||function Wa(a,c){const l=function Xo(a,c){let l;return window.trustedTypes&&(l=window.trustedTypes.createPolicy(a,c)),l}("firebase-js-sdk-policy",{createScriptURL:Ka}),d=document.createElement("script"),p=`${to}?l=${a}&id=${c}`;d.src=l?l?.createScriptURL(p):p,d.async=!0,document.head.appendChild(d)}(h,N.measurementId),yt&&(p("consent","default",yt),function _o(a){yt=a}(void 0)),p("js",new Date);const Ee=null!==(C=v?.config)&&void 0!==C?C:{};return Ee[ae]="firebase",Ee.update=!0,null!=Q&&(Ee[Dt]=Q),p("config",N.measurementId,Ee),ro&&(p("set",ro),function ii(a){ro=a}(void 0)),N.measurementId}),ct.apply(this,arguments)}class Vt{constructor(c){this.app=c}_delete(){return delete qe[this.app.options.appId],Promise.resolve()}}let qe={},pr=[];const ri={};let hr,Ue,lt="dataLayer",go=!1;function Vr(a,c,l){!function Gr(){const a=[];if((0,P.ru)()&&a.push("This is a browser extension environment."),(0,P.zI)()||a.push("Cookies are not available."),a.length>0){const c=a.map((d,p)=>`(${p+1}) ${d}`).join(" "),l=Ze.create("invalid-analytics-context",{errorInfo:c});de.warn(l.message)}}();const d=a.options.appId;if(!d)throw Ze.create("no-app-id");if(!a.options.apiKey){if(!a.options.measurementId)throw Ze.create("no-api-key");de.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qe[d])throw Ze.create("already-exists",{id:d});if(!go){!function Ha(a){let c=[];Array.isArray(window[a])?c=window[a]:window[a]=c}(lt);const{wrappedGtag:h,gtagCore:v}=function tr(a,c,l,d,p){let h=function(...v){window[d].push(arguments)};return window[p]&&"function"==typeof window[p]&&(h=window[p]),window[p]=function er(a,c,l,d){function h(){return h=(0,i.Z)(function*(v,...C){try{if("event"===v){const[A,S]=C;yield function Xa(a,c,l,d,p){return oo.apply(this,arguments)}(a,c,l,A,S)}else if("config"===v){const[A,S]=C;yield function $a(a,c,l,d,p,h){return no.apply(this,arguments)}(a,c,l,d,A,S)}else if("consent"===v){const[A]=C;a("consent","update",A)}else if("get"===v){const[A,S,N]=C;a("get",A,S,N)}else if("set"===v){const[A]=C;a("set",A)}else a(v,...C)}catch(A){de.error(A)}}),h.apply(this,arguments)}return function p(v){return h.apply(this,arguments)}}(h,a,c,l),{gtagCore:h,wrappedGtag:window[p]}}(qe,pr,ri,lt,"gtag");Ue=h,hr=v,go=!0}return qe[d]=function gr(a,c,l,d,p,h,v){return ct.apply(this,arguments)}(a,pr,ri,c,hr,lt,l),new Vt(a)}function Wr(){return si.apply(this,arguments)}function si(){return(si=(0,i.Z)(function*(){if((0,P.ru)()||!(0,P.zI)()||!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch{return!1}})).apply(this,arguments)}const ui="@firebase/analytics";!function po(){(0,_._registerComponent)(new z.wA(Ft,(c,{options:l})=>Vr(c.getProvider("app").getImmediate(),c.getProvider("installations-internal").getImmediate(),l),"PUBLIC")),(0,_._registerComponent)(new z.wA("analytics-internal",function a(c){try{const l=c.getProvider(Ft).getImmediate();return{logEvent:(d,p,h)=>function vr(a,c,l,d){a=(0,P.m9)(a),function dr(a,c,l,d,p){return so.apply(this,arguments)}(Ue,qe[a.app.options.appId],c,l,d).catch(p=>de.error(p))}(l,d,p,h)}}catch(l){throw Ze.create("interop-component-reg-failed",{reason:l})}},"PRIVATE")),(0,_.registerVersion)(ui,"0.10.0"),(0,_.registerVersion)(ui,"0.10.0","esm2017")}();var br=g(22381),xr=g(16321),yr=g(99397),di=g(85137),wr=g(43093);const Ar=new x.GfV("7.6.1"),mo="__angularfire_symbol__analyticsIsSupportedValue",ho="__angularfire_symbol__analyticsIsSupported",ve="__angularfire_symbol__remoteConfigIsSupportedValue",ut="__angularfire_symbol__remoteConfigIsSupported",Ct="__angularfire_symbol__messagingIsSupportedValue",Tt="__angularfire_symbol__messagingIsSupported";function Cr(a,c,l){if(c){if(1===c.length)return c[0];const h=c.filter(v=>v.app===l);if(1===h.length)return h[0]}return l.container.getProvider(a).getImmediate({optional:!0})}globalThis[ho]||(globalThis[ho]=Wr().then(a=>globalThis[mo]=a).catch(()=>globalThis[mo]=!1)),globalThis[Tt]||(globalThis[Tt]=Wo().then(a=>globalThis[Ct]=a).catch(()=>globalThis[Ct]=!1)),globalThis[ut]||(globalThis[ut]=ma().then(a=>globalThis[ve]=a).catch(()=>globalThis[ve]=!1));const gi=(a,c)=>{const l=c?[c]:(0,J.C6)(),d=[];return l.forEach(p=>{p.container.getProvider(a).instances.forEach(v=>{d.includes(v)||d.push(v)})}),d};function _t(){}class pi{constructor(c,l=br.N){this.zone=c,this.delegate=l}now(){return this.delegate.now()}schedule(c,l,d){const p=this.zone;return this.delegate.schedule(function(v){p.runGuarded(()=>{c.apply(this,[v])})},l,d)}}class kt{constructor(c){this.zone=c,this.task=null}call(c,l){const d=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_t,{},_t,_t)),l.pipe((0,yr.b)({next:d,complete:d,error:d})).subscribe(c).add(d)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mi=(()=>{class a{constructor(l){this.ngZone=l,this.outsideAngular=l.runOutsideAngular(()=>new pi(Zone.current)),this.insideAngular=l.run(()=>new pi(Zone.current,xr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return a.\u0275fac=function(l){return new(l||a)(x.LFG(x.R0b))},a.\u0275prov=x.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function je(){const a=globalThis.\u0275AngularFireScheduler;if(!a)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return a}function fi(a){return je(),function vi(a){return function(l){return(l=l.lift(new kt(a.ngZone))).pipe((0,di.R)(a.outsideAngular),(0,wr.Q)(a.insideAngular))}}(je())(a)}},87469:(Ie,re,g)=>{g.d(re,{T:()=>oe});var x=g(19347),J=g(47394),i=g(39621),_=g(65879),P=g(96814),z=g(89188),R=g(11964);function W(E,D){if(1&E&&(_.TgZ(0,"div",19)(1,"b",20),_._uU(2),_.qZA(),_._UZ(3,"div",21),_.ALo(4,"safeContentQuestion"),_.ALo(5,"async"),_.ALo(6,"mathJaxContent"),_.qZA()),2&E){const y=D.$implicit;let T;_.xp6(2),_.hij("",null!==(T=y.alpha)&&void 0!==T?T:y.key,"."),_.xp6(1),_.Q6J("innerHtml",_.lcZ(4,2,_.lcZ(5,4,_.lcZ(6,6,y.content||""))),_.oJD)}}function B(E,D){if(1&E&&(_.TgZ(0,"div",17),_.YNc(1,W,7,8,"div",18),_.qZA()),2&E){const y=_.oxw();_.Q6J("answerSizeManager",1),_.xp6(1),_.Q6J("ngForOf",null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.answers)}}function M(E,D){if(1&E&&(_.TgZ(0,"h2",22),_._uU(1),_.ALo(2,"mytranslate"),_.qZA()),2&E){const y=_.oxw();_.xp6(1),_.AsE(" ",_.lcZ(2,2,"lang_auto_dap_an"),": ",null==y.data.obj||null==y.data.obj.question||null==y.data.obj.question.answerResult?null:y.data.obj.question.answerResult.join(", ")," ")}}function U(E,D){if(1&E&&(_.TgZ(0,"div",9)(1,"h2",23),_._uU(2),_.ALo(3,"mytranslate"),_.qZA(),_._UZ(4,"div",24),_.ALo(5,"safeContentQuestion"),_.ALo(6,"async"),_.ALo(7,"mathJaxContent"),_.qZA()),2&E){const y=_.oxw();_.xp6(2),_.hij(" ",_.lcZ(3,2,"lang_auto_loi_giai")," "),_.xp6(2),_.Q6J("innerHtml",_.lcZ(5,4,_.lcZ(6,6,_.lcZ(7,8,null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.help))),_.oJD)}}let oe=(()=>{class E extends i.Q{closeDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(y,T){super(),this.dialogRef=y,this.data=T,this.subscriptions=new J.w0}}return E.\u0275fac=function(y){return new(y||E)(_.Y36(x.so),_.Y36(x.WI))},E.\u0275cmp=_.Xpm({type:E,selectors:[["view-detail-question-share"]],features:[_.qOj],decls:44,vars:40,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto",2,"max-height","calc(100vh - 100px)"],[1,"text-md","mr-auto"],[1,"text-md","mr-auto","mt-2"],[1,"flex","w-full","mt-2"],[1,"text-md"],[1,"text-md","ml-10"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","py-2","mt-2"],[1,"font-medium","text-md","text-center","mb-2"],[1,"tex2jax_process","box-content",2,"width","auto",3,"innerHTML"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],["class","border-t border-slate-200/60 dark:border-darkmode-400 py-2 mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","view-detail-question-shared-KfIEXO44141",1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content",3,"innerHtml"],[1,"font-medium","text-md","text-left","text-success","my-2"],[1,"font-medium","text-md","text-center"],[1,"help-content","box","px-3","mt-1",2,"display","inherit","border-top-right-radius","0","border-top-left-radius","0","box-shadow","none","overflow","auto","padding-bottom","20px",3,"innerHtml"]],template:function(y,T){1&y&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),_._uU(5),_.ALo(6,"mytranslate"),_.TgZ(7,"b"),_._uU(8),_.ALo(9,"mytranslate"),_.qZA()(),_.TgZ(10,"h2",5),_._uU(11),_.ALo(12,"mytranslate"),_.TgZ(13,"b"),_._uU(14),_.ALo(15,"mytranslate"),_.qZA()(),_.TgZ(16,"div",6)(17,"h2",7),_._uU(18),_.ALo(19,"mytranslate"),_.TgZ(20,"b"),_._uU(21),_.ALo(22,"mytranslate"),_.qZA()(),_.TgZ(23,"h2",8),_._uU(24),_.ALo(25,"mytranslate"),_.TgZ(26,"b"),_._uU(27),_.ALo(28,"mytranslate"),_.qZA()()(),_.TgZ(29,"div",9)(30,"h2",10),_._uU(31),_.ALo(32,"mytranslate"),_.qZA(),_._UZ(33,"div",11),_.ALo(34,"safeContentQuestion"),_.ALo(35,"async"),_.ALo(36,"mathJaxContent"),_.YNc(37,B,2,2,"div",12),_.YNc(38,M,3,4,"h2",13),_.qZA(),_.YNc(39,U,8,10,"div",14),_.qZA()()(),_.TgZ(40,"div",15)(41,"button",16),_.NdJ("click",function(){return T.closeDialog()}),_._uU(42),_.ALo(43,"mytranslate"),_.qZA()()()),2&y&&(_.xp6(5),_.hij(" ",_.lcZ(6,14,"lang_test_market_question_info"),": "),_.xp6(3),_.Oqu(_.lcZ(9,16,null==T.data.obj?null:T.data.obj.knowledgeName)),_.xp6(3),_.hij(" ",_.lcZ(12,18,"lang_auto_muc_do_nhan_biet"),": "),_.xp6(3),_.Oqu(_.lcZ(15,20,null==T.data.obj?null:T.data.obj.questionTagName)),_.xp6(4),_.hij(" ",_.lcZ(19,22,"lang_auto_lop_hoc"),": "),_.xp6(3),_.Oqu(_.lcZ(22,24,null==T.data.obj?null:T.data.obj.levelName)),_.xp6(3),_.hij(" ",_.lcZ(25,26,"lang_auto_mon_hoc"),": "),_.xp6(3),_.Oqu(_.lcZ(28,28,null==T.data.obj?null:T.data.obj.subjectName)),_.xp6(4),_.hij(" ",_.lcZ(32,30,"lang_auto_noi_dung_cau_hoi")," "),_.xp6(2),_.Q6J("innerHTML",_.lcZ(34,32,_.lcZ(35,34,_.lcZ(36,36,null==T.data.obj||null==T.data.obj.question?null:T.data.obj.question.content))),_.oJD),_.xp6(4),_.Q6J("ngIf",1==(null==T.data.obj||null==T.data.obj.question?null:T.data.obj.question.answerType)&&(null==T.data.obj||null==T.data.obj.question?null:T.data.obj.question.answers)&&(null==T.data.obj||null==T.data.obj.question?null:T.data.obj.question.answers.length)>0),_.xp6(1),_.Q6J("ngIf",null==T.data.obj||null==T.data.obj.question?null:T.data.obj.question.answerResult),_.xp6(1),_.Q6J("ngIf",null==T.data.obj||null==T.data.obj.question?null:T.data.obj.question.help),_.xp6(3),_.hij(" ",_.lcZ(43,38,"lang_auto_dong")," "))},dependencies:[P.sg,P.O5,z.s,P.Ov,R.bT,R.QA,R.Ev],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),E})()},57985:(Ie,re,g)=>{g.d(re,{C:()=>tn});var x=g(49671),J=g(29023),i=g(65879),_=g(56223),P=g(73445),z=g(23680),R=g(10548),W=g(16019),B=g(88620),M=g(35318),U=g(39621),oe=g(74736),E=g(50503),D=g(96814),y=g(2032),T=g(64170),w=g(98525),e=g(775),Y=g(86294),F=g(37722),ne=g(11964);function se(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function he(Z,ie){if(1&Z&&(i.TgZ(0,"mat-option",58),i._uU(1),i.qZA()),2&Z){const L=ie.$implicit;i.Q6J("value",L.id),i.xp6(1),i.hij(" ",L.name," ")}}function X(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function j(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function ce(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function ee(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function me(Z,ie){1&Z&&(i.TgZ(0,"span"),i._uU(1,"OK"),i.qZA())}function Te(Z,ie){1&Z&&(i.TgZ(0,"span"),i._uU(1,"OK"),i.qZA())}function le(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function H(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function G(Z,ie){1&Z&&(i.TgZ(0,"div",57),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_test_market_must_accept_policy")," "))}function I(Z,ie){if(1&Z){const L=i.EpF();i.TgZ(0,"div",59)(1,"button",60),i.NdJ("click",function(){i.CHM(L);const V=i.oxw();return i.KtG(V.acceptSendRequest(!0))}),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"button",61),i.NdJ("click",function(){i.CHM(L);const V=i.oxw();return i.KtG(V.acceptSendRequest(!1))}),i._uU(5),i.ALo(6,"mytranslate"),i.qZA()()}if(2&Z){const L=i.oxw();i.xp6(1),i.Q6J("disabled",L.form.invalid||L.sendRequest||!L.totalBalance||2!=L.citizenIdImages.length),i.xp6(1),i.hij(" ",i.lcZ(3,3,"lang_test_market_request_with_draw")," "),i.xp6(3),i.hij(" ",i.lcZ(6,5,"lang_auto_huy")," ")}}function $(Z,ie){if(1&Z){const L=i.EpF();i.TgZ(0,"div",67),i.NdJ("click",function(){i.CHM(L);const V=i.oxw().$implicit,ue=i.oxw(2);return i.KtG(ue.removeImg(V))}),i.O4$(),i.TgZ(1,"svg",68),i._UZ(2,"line",69)(3,"line",70),i.qZA()()}}function ge(Z,ie){if(1&Z&&(i.TgZ(0,"div",63)(1,"div",64),i._UZ(2,"img",65),i.ALo(3,"mycdn"),i.qZA(),i.YNc(4,$,4,0,"div",66),i.qZA()),2&Z){const L=ie.$implicit,O=i.oxw(2);i.xp6(2),i.Q6J("src",i.lcZ(3,2,L),i.LSH),i.xp6(2),i.Q6J("ngIf",O.enableEditInfo)}}function fe(Z,ie){if(1&Z&&(i.TgZ(0,"div"),i.YNc(1,ge,5,4,"div",62),i.qZA()),2&Z){const L=i.oxw();i.xp6(1),i.Q6J("ngForOf",L.citizenIdImages)}}function Re(Z,ie){1&Z&&(i.TgZ(0,"div",73),i.O4$(),i.TgZ(1,"svg",74)(2,"g",75)(3,"g",76),i._UZ(4,"circle",77),i.TgZ(5,"path",78),i._UZ(6,"animateTransform",79),i.qZA()()()(),i.kcU(),i.TgZ(7,"h2",53),i._uU(8),i.ALo(9,"mytranslate"),i.qZA()()),2&Z&&(i.xp6(8),i.hij(" ",i.lcZ(9,1,"lang_test_market_uploading_citizenID_images")," "))}function mt(Z,ie){if(1&Z){const L=i.EpF();i.TgZ(0,"div",73),i.O4$(),i.TgZ(1,"svg",80),i._UZ(2,"path",81)(3,"polyline",82)(4,"line",83),i.qZA(),i.kcU(),i.TgZ(5,"span",84),i._uU(6),i.ALo(7,"mytranslate"),i.qZA(),i.TgZ(8,"input",85,86),i.NdJ("change",function(V){i.CHM(L);const ue=i.oxw(2);return i.KtG(ue.selectFile(V))}),i.qZA()()}2&Z&&(i.xp6(6),i.Oqu(i.lcZ(7,1,"lang_auto_upload_file")))}function Xt(Z,ie){if(1&Z&&(i.TgZ(0,"div",71),i.YNc(1,Re,10,3,"div",72),i.YNc(2,mt,10,3,"div",72),i.qZA()),2&Z){const L=i.oxw();i.xp6(1),i.Q6J("ngIf",L.loadingUpload),i.xp6(1),i.Q6J("ngIf",!L.loadingUpload)}}function en(Z,ie){if(1&Z){const L=i.EpF();i.TgZ(0,"div",87)(1,"div",59)(2,"button",88),i.NdJ("click",function(){i.CHM(L);const V=i.oxw();return i.KtG(V.acceptSendRequest(!0))}),i._uU(3),i.ALo(4,"mytranslate"),i.qZA(),i.TgZ(5,"button",89),i.NdJ("click",function(){i.CHM(L);const V=i.oxw();return i.KtG(V.acceptSendRequest(!1))}),i._uU(6),i.ALo(7,"mytranslate"),i.qZA()()()}if(2&Z){const L=i.oxw();i.xp6(2),i.Q6J("disabled",L.form.invalid||L.sendRequest||!L.totalBalance||2!=L.citizenIdImages.length),i.xp6(1),i.hij(" ",i.lcZ(4,3,"lang_test_market_request_with_draw")," "),i.xp6(3),i.hij(" ",i.lcZ(7,5,"lang_auto_huy")," ")}}let tn=(()=>{class Z extends U.Q{getCurLang(){return this.commonService.getCurrentLang()}uploadFile(L){L?(this.loadingUpload=!0,(0,R.Or)(L.type)?(0,R.hv)(L).then(O=>{this.apiUploadService.uploadToCdnForCitizenId(O).subscribe(V=>{1==V.success?(V.data?.url&&this.citizenIdImages.push(V.data.url),this.loadingUpload=!1):(this.loadingUpload=!1,this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",V.message??"none")))})}):(this.showErrorSnack("lang_auto_vui_long_dung_dinh_dang_anh"),this.loadingUpload=!1)):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}removeImg(L){let O=this.citizenIdImages?.filter(V=>V!==L);this.citizenIdImages=O}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo.birthday??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo.idIssuedBy??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo.idIssuedAt??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(L){this.currentBankId=L}removeSignatureKeyImages(L){if(0==L.length)return[];{let O=[];return L.forEach(V=>{O.push(V.substring(0,V.indexOf("?")))}),O}}acceptSendRequest(L){if(L){this.sendRequest=!0;let O=this.commonService.getFormObj(this.form),V={bankId:O.bankId??this.transactionInfo.bankId,bankHolder:O.accountNameControl??this.transactionInfo.bankHolder,address:O.address??this.transactionInfo.address,bankAccountNumber:O.bankNumber??this.transactionInfo.bankAccountNumber,contactPhone:O.contactPhone??this.balanceUserInfo.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:O.birthday??this.balanceUserInfo.birthday,idCard:O.idCard??this.balanceUserInfo.idCard,idIssuedBy:O.idIssuedBy??this.balanceUserInfo.idIssuedBy,idIssuedAt:O.idIssuedAt??this.balanceUserInfo.idIssuedAt};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(V).subscribe(ue=>{1===ue.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(ue.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(L=>{1===L.success?(this.listBanks=L.data?.objs??[],this.successStatusObj()):this.errorStatusObj(L.message??"",!0)}))}constructor(L,O,V){var ue;super(),ue=this,this.formBuilder=L,this.testMarketQuestionService=O,this.apiUploadService=V,this.form=new _.cw({}),this.totalBalance=0,this.closeRequest=new i.vpe,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.loadingUpload=!1,this.citizenIdImages=[],this.currentBankId=1,this.selectFile=function(){var be=(0,x.Z)(function*(Ye){let It=Ye.target.files;try{for(var Ke in It)"length"!=Ke&&"item"!=Ke&&ue.uploadFile(It[Ke]);Ye.target.setAttribute("value","")}catch{}});return function(Ye){return be.apply(this,arguments)}}()}ngOnInit(){this.getBankObjs(),(!this.transactionInfo||this.commonService.isEmptyObj(this.transactionInfo))&&(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo.idImages&&this.balanceUserInfo.idImages.length?this.balanceUserInfo.idImages:[],this.form=this.formBuilder.group({accountNameControl:new _.NI({value:this.transactionInfo.bankHolder??"",disabled:!this.enableEditInfo},[_.kI.required]),bankId:new _.NI({value:this.transactionInfo.bankId??1,disabled:!this.enableEditInfo},[_.kI.required]),bankNumber:new _.NI({value:this.transactionInfo.bankAccountNumber??"",disabled:!this.enableEditInfo},[_.kI.required,_.kI.pattern("^[A-Za-z0-9]*$")]),address:new _.NI({value:this.transactionInfo.address??"",disabled:!this.enableEditInfo},[_.kI.required]),contactPhone:new _.NI({value:this.balanceUserInfo.contactPhone??"",disabled:!this.enableEditInfo},[_.kI.required,_.kI.pattern("^[0-9]*$"),_.kI.minLength(10)]),idCard:new _.NI({value:this.balanceUserInfo.idCard??"",disabled:!this.enableEditInfo},[_.kI.required,_.kI.pattern("^[0-9]*$")]),idIssuedBy:new _.NI({value:this.balanceUserInfo.idIssuedBy??"",disabled:!this.enableEditInfo},[_.kI.required]),idIssuedAt:new _.NI({value:this.balanceUserInfo.idIssuedAt??"",disabled:!this.enableEditInfo},[_.kI.required]),birthday:new _.NI({value:this.balanceUserInfo.birthday??"",disabled:!this.enableEditInfo},[_.kI.required]),acceptPolicy:new _.NI(!1,[_.kI.requiredTrue])}),this.currentBankId=this.transactionInfo.bankId??1}}return Z.\u0275fac=function(L){return new(L||Z)(i.Y36(_.qu),i.Y36(oe.Q_),i.Y36(E.$))},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["withdraw-balance"]],inputs:{transactionInfo:"transactionInfo",totalBalance:"totalBalance",balanceUserInfo:"balanceUserInfo"},outputs:{closeRequest:"closeRequest"},features:[i._Bn([{provide:J.fM,useClass:W.WG,deps:[z.Ad,P.o8]},{provide:J.ab,useFactory:B.fX,deps:[M.O]}]),i.qOj],decls:119,vars:90,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","edit",1,"ml-5","mr-2",2,"width","1.25rem!important"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline"],["formControlName","bankId","name","bankIdInput",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"hideTime"],["idIssuedAt",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"placeholder","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["birthday",""],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],["class","px-4 flex items-center justify-center cursor-pointer relative my-4",4,"ngIf"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["width","40","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","black",1,"w-5","h-5","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],["id","horizontal-form-1","type","file","id","inp_hidden","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(L,O){if(1&L){const V=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),i._uU(5),i.ALo(6,"mytranslate"),i.ALo(7,"number"),i.qZA()(),i.TgZ(8,"div",5)(9,"h2",6),i._uU(10),i.ALo(11,"mytranslate"),i.qZA(),i.TgZ(12,"div",7),i.NdJ("click",function(){return O.enableEdit()}),i._UZ(13,"lucide-icon",8),i._uU(14),i.ALo(15,"mytranslate"),i.qZA()(),i.TgZ(16,"form",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"label",14),i._uU(22),i.ALo(23,"mytranslate"),i.qZA(),i._UZ(24,"input",15),i.YNc(25,se,3,3,"div",16),i.qZA(),i.TgZ(26,"div",13)(27,"label",17),i._uU(28),i.ALo(29,"mytranslate"),i.qZA(),i.TgZ(30,"mat-form-field",18)(31,"mat-select",19),i.NdJ("valueChange",function(be){return O.currentBankId=be})("selectionChange",function(be){return O.selectBank(be.value)}),i.YNc(32,he,2,2,"mat-option",20),i.qZA()(),i.YNc(33,X,3,3,"div",16),i.qZA(),i.TgZ(34,"div",13)(35,"label",21),i._uU(36),i.ALo(37,"mytranslate"),i.qZA(),i._UZ(38,"input",22),i.YNc(39,j,3,3,"div",16),i.qZA(),i.TgZ(40,"div",23)(41,"h2",24),i._uU(42),i.ALo(43,"mytranslate"),i.qZA()(),i.TgZ(44,"div",13)(45,"label",25),i._uU(46),i.ALo(47,"mytranslate"),i.qZA(),i._UZ(48,"input",26),i.YNc(49,ce,3,3,"div",16),i.qZA(),i.TgZ(50,"div",13)(51,"label",27),i._uU(52),i.ALo(53,"mytranslate"),i.qZA(),i._UZ(54,"input",28),i.YNc(55,ee,3,3,"div",16),i.qZA(),i.TgZ(56,"div",13)(57,"label",29),i._uU(58),i.ALo(59,"mytranslate"),i.qZA(),i.TgZ(60,"mat-form-field",30)(61,"input",31),i.NdJ("click",function(){i.CHM(V);const be=i.MAs(67);return i.KtG(be.open())}),i.ALo(62,"mytranslate"),i.qZA(),i.TgZ(63,"button",32),i.NdJ("click",function(be){return i.CHM(V),i.MAs(67).open(),i.KtG(be.stopPropagation())}),i.TgZ(64,"span",33),i._UZ(65,"lucide-icon",34),i.qZA()(),i.TgZ(66,"ngx-mat-datetime-picker",35,36),i.YNc(68,me,2,0,"ng-template"),i.qZA()()(),i.TgZ(69,"div",13)(70,"label",37),i._uU(71),i.ALo(72,"mytranslate"),i.qZA(),i.TgZ(73,"mat-form-field",30)(74,"input",38),i.NdJ("click",function(){i.CHM(V);const be=i.MAs(80);return i.KtG(be.open())}),i.ALo(75,"mytranslate"),i.qZA(),i.TgZ(76,"button",39),i.NdJ("click",function(be){return i.CHM(V),i.MAs(80).open(),i.KtG(be.stopPropagation())}),i.TgZ(77,"span",33),i._UZ(78,"lucide-icon",34),i.qZA()(),i.TgZ(79,"ngx-mat-datetime-picker",35,40),i.YNc(81,Te,2,0,"ng-template"),i.qZA()()(),i.TgZ(82,"div",13)(83,"label",41),i._uU(84),i.ALo(85,"mytranslate"),i.qZA(),i._UZ(86,"input",42),i.YNc(87,le,3,3,"div",16),i.qZA(),i.TgZ(88,"div",13)(89,"label",43),i._uU(90),i.ALo(91,"mytranslate"),i.qZA(),i._UZ(92,"input",44),i.YNc(93,H,3,3,"div",16),i.qZA(),i.TgZ(94,"div",13)(95,"div",45),i._UZ(96,"input",46),i.TgZ(97,"label",47),i._uU(98),i.ALo(99,"mytranslate"),i.TgZ(100,"a",48),i._uU(101),i.ALo(102,"mytranslate"),i.qZA(),i._uU(103),i.ALo(104,"mytranslate"),i._UZ(105,"azt-download-link-item",49),i.ALo(106,"convertRawLinkOfGitHubWithLocale"),i._uU(107),i.ALo(108,"mytranslate"),i.qZA()(),i.YNc(109,G,3,3,"div",16),i.qZA(),i.YNc(110,I,7,7,"div",50),i.qZA(),i.TgZ(111,"div",51)(112,"div",52)(113,"h2",53),i._uU(114),i.ALo(115,"mytranslate"),i.qZA()(),i.YNc(116,fe,2,1,"div",54),i.YNc(117,Xt,3,2,"div",55),i.qZA(),i.YNc(118,en,8,7,"div",56),i.qZA()()()()()()}if(2&L){const V=i.MAs(67),ue=i.MAs(80);i.xp6(5),i.AsE(" ",i.lcZ(6,46,"lang_test_market_balance"),"",i.lcZ(7,48,O.totalBalance),"\u0111 "),i.xp6(5),i.hij(" ",i.lcZ(11,50,"lang_test_market_bank_infomation")," "),i.xp6(4),i.hij(" ",i.lcZ(15,52,O.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),i.xp6(2),i.Q6J("formGroup",O.form),i.xp6(6),i.hij(" ",i.lcZ(23,54,"lang_test_market_bankHolder")," "),i.xp6(3),i.Q6J("ngIf",O.form.controls.accountNameControl.dirty&&O.form.controls.accountNameControl.errors),i.xp6(3),i.hij(" ",i.lcZ(29,56,"lang_test_market_bankName")," "),i.xp6(3),i.Q6J("value",O.currentBankId),i.xp6(1),i.Q6J("ngForOf",O.listBanks),i.xp6(1),i.Q6J("ngIf",O.form.controls.bankId.dirty&&O.form.controls.bankId.errors),i.xp6(3),i.hij(" ",i.lcZ(37,58,"lang_test_market_bankNumber")," "),i.xp6(3),i.Q6J("ngIf",O.form.controls.bankNumber.dirty&&O.form.controls.bankNumber.errors),i.xp6(3),i.hij(" ",i.lcZ(43,60,"lang_test_market_personal_infomation")," "),i.xp6(4),i.hij(" ",i.lcZ(47,62,"lang_test_market_citizen_id")," "),i.xp6(3),i.Q6J("ngIf",O.form.controls.idCard.dirty&&O.form.controls.idCard.errors),i.xp6(3),i.hij(" ",i.lcZ(53,64,"lang_test_market_issued_by")," "),i.xp6(3),i.Q6J("ngIf",O.form.controls.idIssuedBy.dirty&&O.form.controls.idIssuedBy.errors),i.xp6(3),i.hij(" ",i.lcZ(59,66,"lang_test_market_issued_at")," "),i.xp6(3),i.s9C("placeholder",i.lcZ(62,68,"lang_test_market_issued_at")),i.Q6J("ngxMatDatetimePicker",V),i.xp6(5),i.Q6J("hideTime",!0),i.xp6(5),i.hij(" ",i.lcZ(72,70,"lang_auto_ngay_sinh")," "),i.xp6(3),i.s9C("placeholder",i.lcZ(75,72,"lang_auto_ngay_sinh")),i.Q6J("ngxMatDatetimePicker",ue),i.xp6(5),i.Q6J("hideTime",!0),i.xp6(5),i.hij(" ",i.lcZ(85,74,"lang_number_phone")," "),i.xp6(3),i.Q6J("ngIf",O.form.controls.contactPhone.dirty&&O.form.controls.contactPhone.errors),i.xp6(3),i.hij(" ",i.lcZ(91,76,"lang_test_market_address")," "),i.xp6(3),i.Q6J("ngIf",O.form.controls.address.dirty&&O.form.controls.address.errors),i.xp6(5),i.hij(" ",i.lcZ(99,78,"lang_test_market_Azota_policy_1"),""),i.xp6(2),i.s9C("href","/"+O.getCurLang()+"/admin/test-market/privacy",i.LSH),i.xp6(1),i.Oqu(i.lcZ(102,80,"lang_test_market_Azota_policy_2")),i.xp6(2),i.hij("\xa0",i.lcZ(104,82,"lang_auto_va"),"\xa0"),i.xp6(2),i.Q6J("dataUrl",i.lcZ(106,84,"azota_assets/contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),i.xp6(2),i.hij("",i.lcZ(108,86,"lang_test_market_Azota_policy_3")," "),i.xp6(2),i.Q6J("ngIf",O.form.controls.acceptPolicy.dirty&&O.form.controls.acceptPolicy.errors&&!O.form.controls.acceptPolicy.value),i.xp6(1),i.Q6J("ngIf",!O.isMobile),i.xp6(4),i.hij(" ",i.lcZ(115,88,"lang_test_market_upload_citizenID_images")," "),i.xp6(2),i.Q6J("ngIf",O.citizenIdImages.length>0),i.xp6(1),i.Q6J("ngIf",O.enableEditInfo),i.xp6(1),i.Q6J("ngIf",O.isMobile)}},dependencies:[D.sg,D.O5,_._Y,_.Fj,_.Wl,_.JJ,_.JL,z.ey,y.Nt,T.KE,T.R9,w.gD,J.rZ,J.T$,_.sg,_.u,e.M,Y.o,F.Nh5,D.JJ,ne.bT,ne.GT,ne.Rh],encapsulation:2}),Z})()},65241:(Ie,re,g)=>{g.r(re),g.d(re,{AuthModule:()=>kl});var x=g(96814),J=g(26304),i=g(56223),_=g(75187),P=g(42753),z=g(37722),R=g(28550),W=g(25391),B=g(90654),M=g(84906),U=g(49962),oe=g(23348),E=g(20553),D=g(11222),y=g(82481),T=g(52572),w=g(39621),e=g(65879),Y=g(63934),F=g(68749),ne=g(9853),se=g(5647),he=g(33066),X=g(23780),j=g(29023),ce=g(69862),ee=g(23680),me=g(64170),Te=g(10548),le=g(19347),H=g(20054),G=g(98525),I=g(11964);function $(n,s){if(1&n&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.desc)}}function ge(n,s){if(1&n&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"p",18),e._uU(3),e.qZA()(),e.TgZ(4,"div",19)(5,"mat-form-field",5)(6,"mat-select",6),e.NdJ("selectionChange",function(r){const m=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.selectSubject(r,m))}),e.YNc(7,ge,2,2,"mat-option",7),e.qZA()()()()}if(2&n){const t=s.$implicit,o=e.oxw(2);let r;e.xp6(3),e.Oqu(null==t.class?null:t.class.desc),e.xp6(3),e.Q6J("value",t.subjectsIds),e.xp6(1),e.Q6J("ngForOf",o.valueSubjectSurvey[null!==(r=null==t.class?null:t.class.value)&&void 0!==r?r:0])}}function Re(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"label",4),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",14),e.YNc(6,fe,8,3,"div",15),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"lang_auto_mon_day")),e.xp6(3),e.Q6J("ngForOf",t.dataObjs)}}function mt(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",20),e._uU(2,"\xa0"),e.qZA())}let Xt=(()=>{class n extends w.Q{ngOnInit(){this.form=this.formBuilder.group({LocationName:new i.NI("",i.kI.required),LevelName:new i.NI("",i.kI.required),DepartmentName:new i.NI("",i.kI.required),SchoolName:new i.NI("",i.kI.required)}),super.ngOnInit()}selectSubject(t,o){for(let r=0;r<this.dataObjs.length;r++)this.dataObjs[r].class?.value==o.class?.value&&(this.dataObjs[r].subjectsIds=t.value);this.oldDataObjs=this.dataObjs}addSubject(t){let o=t.value.length?t.value:[];this.classroomGrade=[],o.forEach(m=>{let f=this.valueSurvey.find(b=>b.value==m);f&&!this.commonService.filterArray(this.classroomGrade,f)&&this.classroomGrade.push(f)});let r=this.oldDataObjs.length,u=this.classroomGrade.length;this.dataObjs.forEach((m,f)=>{this.classroomGrade.find(k=>k.value==m.class?.value)||this.dataObjs.splice(f,1)},this.dataObjs);for(let m=0;m<u;m++)if(this.dataObjs.find(b=>b.class?.value==this.classroomGrade[m].value)||this.dataObjs.push({class:this.classroomGrade[m],subjectsIds:[]}),r>0)for(let b=0;b<r;b++)this.dataObjs[m]&&this.oldDataObjs[b]&&this.dataObjs[m].class?.value==this.oldDataObjs[b].class?.value&&(this.dataObjs[m]=this.oldDataObjs[b]);this.dataObjs.sort((m,f)=>(m.class?.value??0)-(f.class?.value??0))}checkValidChooseGradeAndSubject(t){let o=!0;return t.length?t.forEach(r=>{(!r.subjectsIds||!r.subjectsIds.length)&&(o=!1)}):o=!1,o}saveInfo(){let t=[],o=[],r=[];for(let u=0;u<this.dataObjs.length;u++)if(this.commonService.filterArray(o,this.dataObjs[u].class?.value)||(o.push(Number(this.dataObjs[u].class?.value)),r.push(String(this.dataObjs[u].class?.desc))),this.dataObjs[u].subjectsIds&&Array.isArray(this.dataObjs[u].subjectsIds)){let m=this.dataObjs[u].subjectsIds??[];if(m.length)for(let f=0;f<m.length;f++)t.push({classId:this.dataObjs[u].class?.value??0,subjectId:m[f]})}t.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:t}).subscribe(u=>{u&&1==u.success?(this.classroomGradePathValue=o,this.dialogRef.close({classroomIds:o,classroomDescs:r})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}constructor(t,o,r,u){super(),this.formBuilder=t,this.surveyConfigService=o,this.dialogRef=r,this.dataDialog=u,this.form=new i.cw({}),this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((m,f)=>(m.class?.value??0)-(f.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(H.XG),e.Y36(le.so,8),e.Y36(le.WI,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-grade-subject-info"]],features:[e.qOj],decls:19,vars:15,consts:[[1,"box","p-5"],[1,"mt-3",3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","m-0"],[1,"form-label","font-medium"],["appearance","outline"],["multiple","",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-3","mb-2","text-right"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],[3,"value"],[1,"col-span-12"],[2,"height","250px","overflow-y","auto"],["class","flex w-full mb-2",4,"ngFor","ngForOf"],[1,"flex","w-full","mb-2"],[1,"text-left","w-20",2,"align-self","center"],[1,"text-md","font-medium","mb-0","mr-2"],[1,"w-full"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"mat-form-field",5)(8,"mat-select",6),e.NdJ("selectionChange",function(u){return o.addSubject(u)}),e.YNc(9,$,2,2,"mat-option",7),e.qZA()()(),e.YNc(10,Re,7,4,"ng-container",8),e.qZA()(),e.TgZ(11,"div",9)(12,"button",10),e.NdJ("click",function(){return o.btnCloseDialog()}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return o.saveInfo()}),e.YNc(16,mt,3,0,"span",8),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Oqu(e.lcZ(6,9,"lang_auto_khoi_day")),e.xp6(3),e.Q6J("value",o.classroomGradePathValue),e.xp6(1),e.Q6J("ngForOf",o.valueSurvey),e.xp6(1),e.Q6J("ngIf",o.dataObjs.length>0),e.xp6(3),e.hij(" ",e.lcZ(14,11,"lang_testbank_utils_school_info_later")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||!o.checkValidChooseGradeAndSubject(o.dataObjs)),e.xp6(1),e.Q6J("ngIf",!0===o.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(18,13,"lang_buttom_save")," "))},dependencies:[x.sg,x.O5,ee.ey,me.KE,G.gD,i._Y,i.JL,i.sg,I.bT],encapsulation:2}),n})();var en=g(98108);function tn(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Z(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ie(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function L(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",17),e.NdJ("valueChange",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.department_select=r)})("selectionChange",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.selectDepartment(r.value))}),e.ALo(3,"mytranslate"),e.YNc(4,ie,2,2,"mat-option",7),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,3,"lang_testbank_utils_school_info_select_department")),e.Q6J("value",t.department_select),e.xp6(2),e.Q6J("ngForOf",t.departments)}}function O(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function V(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",18),e._uU(2,"\xa0"),e.qZA())}let ue=(()=>{class n extends w.Q{initData(){this.GetProvinces(),this.GetTypeSchool()}selectLocation(t){this.location_select=t,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}selectLevel(t){this.schools=[],this.school_select=null,this.level_select=t,t<=3?(this.getListSchool(),this.GetDistrictsByProvince()):t>3&&this.getListSchoolByProvince()}selectDepartment(t){this.schools=[],this.school_select=null,this.department_select=t,this.getListSchool()}selectSchool(t){this.school_select=t}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(o=>{o&&1==o.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(o.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack("lang_auto_vui_long_chon_truong_minh_dang_giang_day")}btnCloseDialog(t){this.dialogRef.close(t)}GetProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(t=>{t&&(this.locations=t.data?.objs??new Array,this.locations=this.sortName(this.locations))})}GetTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(t=>{t&&(this.levels=t.data?.objs??new Array)})}GetDistrictsByProvince(t=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(o=>{o&&(this.departments=o.data?.objs??new Array,this.departments=this.sortName(this.departments),t())})}getListSchoolByProvince(t=(()=>{})){if(this.location_select&&this.level_select){let o=this.commonService.myTranslateInstant("lang_auto_other")??"";this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:o,districtId:this.department_select??0,typeId:this.level_select??0}),t())})}}getListSchool(t=(()=>{})){if(this.department_select&&this.level_select){let o=this.commonService.myTranslateInstant("lang_auto_other")??"";this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:o,districtId:this.department_select??0,typeId:this.level_select??0}),t())})}}sortName(t){return t.sort((o,r)=>o.name?.trim().localeCompare(r.name?.trim()??"")??-1),t}ngOnInit(){this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.GetDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)}),this.initData(),this.form=this.formBuilder.group({LocationName:new i.p4("",i.kI.required),LevelName:new i.p4("",i.kI.required),DepartmentName:new i.p4("",i.kI.required),SchoolName:new i.p4("",i.kI.required)}),super.ngOnInit()}constructor(t,o,r,u,m){super(),this.formBuilder=t,this.schoolConfigService=o,this.schoolInfoService=r,this.dialogRef=u,this.form=new i.nJ({}),this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=m.infoSchool}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(H.Tt),e.Y36(en.pX),e.Y36(le.so,8),e.Y36(le.WI,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-school-info"]],features:[e.qOj],decls:32,vars:31,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["name","LocationName",3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],[1,"mt-3","mb-2","text-right"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"disabled","click"],[4,"ngIf"],[3,"value"],["name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",2),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-select",6),e.NdJ("valueChange",function(u){return o.location_select=u})("selectionChange",function(u){return o.selectLocation(u.value)}),e.ALo(11,"mytranslate"),e.YNc(12,tn,2,2,"mat-option",7),e.qZA()()(),e.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-select",8),e.NdJ("valueChange",function(u){return o.level_select=u})("selectionChange",function(u){return o.selectLevel(u.value)}),e.ALo(16,"mytranslate"),e.YNc(17,Z,2,2,"mat-option",7),e.qZA()()(),e.YNc(18,L,5,5,"div",9),e.TgZ(19,"div",10)(20,"mat-form-field",5)(21,"mat-select",11),e.NdJ("valueChange",function(u){return o.school_select=u})("selectionChange",function(u){return o.selectSchool(u.value)}),e.ALo(22,"mytranslate"),e.YNc(23,O,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(24,"div",12)(25,"button",13),e.NdJ("click",function(){return o.btnCloseDialog(void 0)}),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"button",14),e.NdJ("click",function(){return o.saveInfo()}),e.YNc(29,V,3,0,"span",15),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()),2&t){let r;e.xp6(2),e.hij(" ",e.lcZ(3,17,"lang_auto_cap_nhat_thong_tin_truong")," "),e.xp6(3),e.hij(" ",e.lcZ(6,19,"lang_testbank_utils_school_info_note_tutorial")," "),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(3),e.s9C("placeholder",e.lcZ(11,21,"lang_testbank_utils_school_info_select_province")),e.Q6J("value",o.location_select),e.xp6(2),e.Q6J("ngForOf",o.locations),e.xp6(3),e.s9C("placeholder",e.lcZ(16,23,"lang_testbank_utils_school_info_select_level")),e.Q6J("value",o.level_select),e.xp6(2),e.Q6J("ngForOf",o.levels),e.xp6(1),e.Q6J("ngIf",(null!==(r=o.level_select)&&void 0!==r?r:0)<=3),e.xp6(3),e.s9C("placeholder",e.lcZ(22,25,"lang_testbank_utils_school_info_select_school")),e.Q6J("value",o.school_select),e.xp6(2),e.Q6J("ngForOf",o.schools),e.xp6(3),e.hij(" ",e.lcZ(27,27,"lang_testbank_utils_school_info_later")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!0===o.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(31,29,"lang_buttom_save")," ")}},dependencies:[x.sg,x.O5,ee.ey,me.KE,G.gD,i._Y,i.JL,i.sg,I.bT],encapsulation:2}),n})();var be=g(16019),Ye=g(88620),ot=g(35318),Ge=g(5961),It=g(50503),Ke=g(71284),bo=g(2032),nn=g(12893),ke=g(775);function yi(n,s){1&n&&e._UZ(0,"azt-loading-effect")}function wi(n,s){1&n&&(e.TgZ(0,"div",66),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function on(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"OK"),e.qZA())}function Ai(n,s){1&n&&e._UZ(0,"input",67)}function Ci(n,s){1&n&&(e._UZ(0,"input",68),e.ALo(1,"mytranslate")),2&n&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_email")+"...")}function it(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij("*",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function at(n,s){if(1&n&&(e.TgZ(0,"div",69),e.YNc(1,it,3,3,"div",62),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("email","email")||t.getErrorType("email","pattern"))}}function xo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",70),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.goToConfirmEmail())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")))}function Ti(n,s){1&n&&e._UZ(0,"input",71)}function ki(n,s){1&n&&(e._UZ(0,"input",72),e.ALo(1,"mytranslate")),2&n&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function yo(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function Zi(n,s){if(1&n&&(e.TgZ(0,"div",69),e.YNc(1,yo,3,3,"div",62),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function We(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",73),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.goToConfirm())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")))}function wo(n,s){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"div",74)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_account_general_require_school"),""))}function Ao(n,s){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"div",74)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_account_general_require_grade_subject"),""))}function Si(n,s){if(1&n){const t=e.EpF();e.O4$(),e.kcU(),e.ynx(0),e.TgZ(1,"div",75)(2,"label",55),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",56),e._UZ(6,"input",57),e.TgZ(7,"button",76),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openSelectGradeSubjectDialog())}),e.O4$(),e.TgZ(8,"svg",13),e._UZ(9,"path",59)(10,"path",60),e.qZA(),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()(),e.YNc(13,Ao,4,3,"div",61),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,4,"lang_auto_chon_khoi_day_mon_day")),e.xp6(3),e.s9C("value",t.classroomGradeDesc.join(", ")),e.xp6(5),e.hij(" ",e.lcZ(12,6,t.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),e.xp6(2),e.Q6J("ngIf",!t.classroomGradeDesc.length)}}function Ii(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",77)(1,"g",78)(2,"g",79),e._UZ(3,"circle",80),e.TgZ(4,"path",81),e._UZ(5,"animateTransform",82),e.qZA()()()())}function He(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"form",4)(1,"div",5)(2,"div",6),e._UZ(3,"azt-create-avatar",7),e.qZA(),e.TgZ(4,"div",8)(5,"div",9)(6,"input",10,11),e.NdJ("change",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.fileChangeEvent(r))}),e.qZA(),e.TgZ(8,"button",12),e.NdJ("click",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.fileChangeEvent(r))}),e.O4$(),e.TgZ(9,"svg",13),e._UZ(10,"path",14)(11,"polyline",15)(12,"line",16),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(15,"div",17),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"div",18)(19,"div",19)(20,"label",20),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e._UZ(23,"input",21),e.ALo(24,"mytranslate"),e.YNc(25,wi,3,3,"div",22),e.qZA(),e.TgZ(26,"div",19)(27,"label",23),e._uU(28),e.ALo(29,"mytranslate"),e.qZA(),e.TgZ(30,"mat-form-field",24)(31,"input",25),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(46);return e.KtG(r.open())}),e.ALo(32,"mytranslate"),e.qZA(),e.TgZ(33,"button",26),e.NdJ("click",function(r){return e.CHM(t),e.MAs(46).open(),e.KtG(r.stopPropagation())}),e.O4$(),e.TgZ(34,"svg",27),e._UZ(35,"rect",28)(36,"line",29)(37,"line",30)(38,"line",31)(39,"path",32)(40,"path",33)(41,"path",34)(42,"path",35)(43,"path",36)(44,"path",37),e.qZA()(),e.kcU(),e.TgZ(45,"ngx-mat-datetime-picker",38,39),e.YNc(47,on,2,0,"ng-template"),e.qZA()()(),e.TgZ(48,"div",19)(49,"label",40),e._uU(50),e.ALo(51,"mytranslate"),e.qZA(),e.YNc(52,Ai,1,0,"input",41),e.YNc(53,Ci,2,3,"input",42),e.YNc(54,at,2,1,"div",43),e.YNc(55,xo,3,3,"a",44),e.qZA(),e.TgZ(56,"div",19)(57,"label",40),e._uU(58),e.ALo(59,"mytranslate"),e.qZA(),e.YNc(60,Ti,1,0,"input",45),e.YNc(61,ki,2,3,"input",46),e.YNc(62,Zi,2,1,"div",43),e.YNc(63,We,3,3,"a",47),e.qZA(),e.TgZ(64,"div",19)(65,"label",40),e._uU(66),e.ALo(67,"mytranslate"),e.qZA(),e.TgZ(68,"div",48)(69,"div",49),e._UZ(70,"input",50),e.TgZ(71,"label",51),e._uU(72),e.ALo(73,"mytranslate"),e.qZA()(),e.TgZ(74,"div",49),e._UZ(75,"input",52),e.TgZ(76,"label",53),e._uU(77),e.ALo(78,"mytranslate"),e.qZA()()()(),e.TgZ(79,"div",54)(80,"label",55),e._uU(81),e.ALo(82,"mytranslate"),e.qZA(),e.TgZ(83,"div",56),e._UZ(84,"input",57),e.TgZ(85,"button",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialogInfoSchool())}),e.O4$(),e.TgZ(86,"svg",13),e._UZ(87,"path",59)(88,"path",60),e.qZA(),e._uU(89),e.ALo(90,"mytranslate"),e.qZA()(),e.YNc(91,wo,4,3,"div",61),e.qZA(),e.YNc(92,Si,14,8,"ng-container",62),e.qZA(),e.kcU(),e.TgZ(93,"div",63)(94,"button",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.parseInfoFieldForStudentObjsInExportExcel())}),e.YNc(95,Ii,6,0,"svg",65),e._uU(96),e.ALo(97,"mytranslate"),e.qZA()()()}if(2&n){const t=e.MAs(46),o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("linkAvatar",o.userObj.avatar)("nameCreateAvatar",o.userObj.fullName)("size",96),e.xp6(10),e.hij(" ",e.lcZ(14,34,"lang_auto_tai_len")," "),e.xp6(3),e.hij(" ",e.lcZ(17,36,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),e.xp6(5),e.hij(" ",e.lcZ(22,38,"lang_auto_ho_va_ten")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(24,40,"lang_auto_nhap_ho_va_ten")+"..."),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors),e.xp6(3),e.Oqu(e.lcZ(29,42,"lang_auto_ngay_sinh")),e.xp6(3),e.s9C("placeholder",e.lcZ(32,44,"lang_auto_ngay_sinh")),e.Q6J("ngxMatDatetimePicker",t),e.xp6(14),e.Q6J("hideTime",!0),e.xp6(5),e.hij(" ",e.lcZ(51,46,"lang_auto_email")," "),e.xp6(2),e.Q6J("ngIf",o.userObj.email),e.xp6(1),e.Q6J("ngIf",!o.userObj.email),e.xp6(1),e.Q6J("ngIf",o.form.controls.email.invalid&&o.form.controls.email.dirty),e.xp6(1),e.Q6J("ngIf",o.userObj.email),e.xp6(3),e.hij(" ",e.lcZ(59,48,"lang_auto_so_dien_thoai")," "),e.xp6(2),e.Q6J("ngIf",o.userObj.phone),e.xp6(1),e.Q6J("ngIf",!o.userObj.phone),e.xp6(1),e.Q6J("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",o.userObj.phone),e.xp6(3),e.hij(" ",e.lcZ(67,50,"lang_auto_gioi_tinh")," "),e.xp6(6),e.hij(" ",e.lcZ(73,52,"lang_auto_nam")," "),e.xp6(5),e.hij(" ",e.lcZ(78,54,"lang_auto_nu")," "),e.xp6(4),e.Oqu(e.lcZ(82,56,"lang_auto_thong_tin_truong")),e.xp6(3),e.s9C("value",null==o.infoSchool?null:o.infoSchool.name),e.xp6(5),e.hij(" ",e.lcZ(90,58,null!=o.infoSchool&&o.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),e.xp6(2),e.Q6J("ngIf",!(null!=o.infoSchool&&o.infoSchool.name)),e.xp6(1),e.Q6J("ngIf",o.isTeacherDashboard),e.xp6(2),e.Q6J("disabled",!o.form.valid||!(null!=o.infoSchool&&o.infoSchool.name)||o.isTeacherDashboard&&!o.classroomGradeDesc.length),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(97,60,"lang_auto_cap_nhat")," ")}}function an(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",95),e.NdJ("click",function(r){return r.stopPropagation()}),e.TgZ(1,"div",96)(2,"span",97),e.O4$(),e.TgZ(3,"svg",98),e._UZ(4,"path",99)(5,"line",100)(6,"line",101),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(9,"a",102),e.NdJ("click",function(r){e.CHM(t);const u=e.oxw(2);return e.KtG(u.fileChangeEvent(r))}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"input",103,11),e.NdJ("change",function(r){e.CHM(t);const u=e.oxw(2);return e.KtG(u.fileChangeEvent(r))}),e.qZA()()()}2&n&&(e.xp6(7),e.hij(" ",e.lcZ(8,2,"lang_auto_file_ban_chon_khong_phai_la_anh_vui_long")," "),e.xp6(3),e.Oqu(e.lcZ(11,4,"lang_auto_chon_lai")))}function rn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",84)(2,"div",85)(3,"div",86)(4,"div",87),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()(),e.TgZ(7,"div",88)(8,"div",89),e.YNc(9,an,14,6,"div",90),e.TgZ(10,"image-cropper",91),e.NdJ("imageCropped",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.imageCropped(r))})("loadImageFailed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadImageFailed())}),e.qZA()()(),e.TgZ(11,"div",92)(12,"button",93),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.removeDialog())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",94),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitAvatar())}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,9,"lang_auto_cap_nhat_anh_dai_dien")),e.xp6(4),e.Q6J("ngIf",!1===t.textImageFailed),e.xp6(1),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),e.xp6(3),e.Oqu(e.lcZ(14,11,"lang_auto_huy")),e.xp6(3),e.Oqu(e.lcZ(17,13,"lang_auto_cap_nhat"))}}let Ot=(()=>{class n extends w.Q{openSelectGradeSubjectDialog(){this.dialog.open(Xt,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&r.classroomIds.length&&r.classroomDescs.length?(this.classroomGradePathValue=r.classroomIds,this.classroomGradeDesc=r.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.subscriptions.add(this.documentConfigService.apiDocumentConfigGetSubjectAndLevelObjsGet().subscribe(t=>{if(1==t.success){let o=t.data?.schoolLevelObjs??[],r=t.data?.schoolSubjectObjs??[];o.forEach(b=>{let k={value:b.id,desc:this.commonService.myTranslateInstant(b.name)};this.commonService.filterArray(this.valueSurvey,k)||this.valueSurvey.push(k)});let u=[],m=[],f=[];r.forEach(b=>{let k={type:0,id:b.id,name:this.commonService.myTranslateInstant(b.name)};b.from&&b.to&&b.from>=1&&b.to<=5?(k.type=1,this.commonService.filterArray(u,k)||u.push(k)):b.from&&b.to&&b.from>=6&&b.to<=9?(k.type=2,this.commonService.filterArray(m,k)||m.push(k)):(k.type=3,this.commonService.filterArray(f,k)||f.push(k));for(var q=1;q<=5;q++)this.valueSubjectSurvey[q]=u;for(q=6;q<=9;q++)this.valueSubjectSurvey[q]=m;for(q=10;q<=13;q++)this.valueSubjectSurvey[q]=f}),this.checkSurveySubmitted()}else this.errorStatusObj(t.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(t=>{t&&1==t.success?((t.data?.objs??[]).forEach(r=>{let u=this.valueSurvey.find(m=>m.value==r.classId);if(u){u.value&&u.desc&&!this.commonService.filterArray(this.classroomGradePathValue,u.value)&&(this.classroomGradePathValue.push(u.value),this.classroomGradeDesc.push(u.desc));let m=this.dataObjs.filter(f=>f.class?.value==u?.value);m&&m.length?this.dataObjs.forEach(f=>{f.class?.value==u?.value&&r.subjectId&&f.subjectsIds?.push(r.subjectId)},this.dataObjs):this.dataObjs.push({class:u,subjectsIds:r.subjectId?[r.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}fileChangeEvent(t){const o=t.target;o?.files?.length&&o.files[0].size<=5242880?(0,Te.Or)(o?.files[0].type)?(this.imageChangedEvent=t,this.imageFileName=o?.files?.length?o.files[0].name:"",this.textImageFailed=!0):this.showErrorSnack("lang_auto_vui_long_tai_len_file_anh"):this.showErrorSnack("lang_auto_vui_long_chon_anh_co_kich_thuoc_nho_hon_5mb")}b64toFile(t,o){t=t.replace("data:image/png;base64,","");let m=window.atob(t),f=[];for(let k=0;k<m.length;k+=512){let q=m.slice(k,k+512),K=new Array(q.length);for(let te=0;te<q.length;te++)K[te]=q.charCodeAt(te);let Se=new Uint8Array(K);f.push(Se)}return new File(f,o,{type:"image/png"})}imageCropped(t){let o=this.b64toFile(t.base64??"",this.imageFileName);this.saveAvatar=o}submitAvatar(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0,this.initStatusObj(),this.uploadFile(this.saveAvatar)}removeDialog(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0}loadImageFailed(){this.textImageFailed=!1}uploadFile(t){t?(this.isSubmit=!1,(0,Te.Or)(t.type)&&(0,Te.hv)(t).then(o=>{this.apiUploadService.uploadToCdnForAvatar(o).subscribe(r=>{r.type!=ce.dt.UploadProgress&&(1==r.success?this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:r.data?.url??""}).subscribe(m=>{1==m.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)})):this.errorStatusObj(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",r.message??"none"),!0))})})):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}openDialogInfoSchool(){null!=this.infoSchool&&this.dialog.open(ue,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.infoSchool=o)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(t=>{this.infoSchool=t.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.commonService.getFormObj(this.form),o=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),r=t.birthday?new Date(Date.parse(t.birthday)):o,u={fullName:t.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(r),gender:t.gender,email:t.email,phone:t.phone};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(u).subscribe(m=>{1==m.success?(m.data&&(this.saveUserObj.emit(m.data),this.userObj=m.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(m.message??"",!0)}))}}initData(){let t=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1);this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj.fullName??"",email:this.userObj.email??"",phone:this.userObj.phone??"",gender:1!=this.userObj.gender?"0":"1"}),this.form.controls.birthday.setValue(t)}getErrorType(t,o){return!!this.form.controls?.[t]?.errors?.[o]&&this.form.controls?.[t]?.errors?.[o]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",t)}checkEnableChangeEmailOrPhone(t,o){if("email"==o){if(!t||!t.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==o&&(!t||t.length>15))return!0;return!1}ngOnInit(){this.form=this.formBuilder.group({classroomGrade:new i.p4([]),subjectObjs:new i.p4([]),fullName:new i.p4("",[i.kI.required,Ge._.noWhiteSpace]),gender:new i.p4(""),birthday:new i.p4(""),phone:new i.p4("",[i.kI.pattern("^[0-9]{10}$")]),email:new i.p4("",[i.kI.email,i.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)])}),this.userObj.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.form.valueChanges.subscribe(t=>{let o=JSON.stringify(t);o!=this.prevData&&(this.prevData=o,this.form.patchValue(t))}),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(t,o,r,u,m,f,b,k,q){super(),this.formBuilder=t,this.userInfoService=o,this.userService=r,this.timeService=u,this.dialog=m,this.apiUploadService=f,this.schoolConfigService=b,this.surveyConfigService=k,this.documentConfigService=q,this.isTeacherDashboard=!1,this.saveUserObj=new e.vpe,this.form=new i.nJ({}),this.prevData="",this.returnUrl="",this.backLink="",this.imageChangedEvent=void 0,this.croppedImage="",this.imageFileName="",this.textImageFailed=void 0,this.isSubmit=!1,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(H.$C),e.Y36(Y.K),e.Y36(ot.O),e.Y36(le.uw),e.Y36(It.$),e.Y36(H.Tt),e.Y36(H.XG),e.Y36(Ke.Cq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[e._Bn([x.uU,{provide:j.fM,useClass:be.WG,deps:[ee.Ad,be.o8]},{provide:j.ab,useFactory:Ye.fX,deps:[ot.O]},{provide:me.o2,useValue:{floatLabel:"never"}}]),e.qOj],decls:5,vars:3,consts:[[1,"intro-x","box","p-5"],[4,"ngIf","ngIfElse"],["doneLoad",""],["style","position: fixed; left: 0; top: 0; z-index: 9999; background: #303030b0; width: 100%; height: 100%; padding: 20px",4,"ngIf"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["type","file","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-slate-500","mt-1"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","ngxMatDatetimePicker","click"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"hideTime"],["birthDay",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[2,"position","fixed","left","0","top","0","z-index","9999","background","#303030b0","width","100%","height","100%","padding","20px"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"font-medium","text-base","mr-auto"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],["azt-track-service","setting-general-HnOp3TjmEf","class","profile-img",3,"click",4,"ngIf"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped","loadImageFailed"],[1,"modal-footer"],["azt-track-service","setting-general-9QkXoEEUWs","control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","setting-general-2hxpex74KA","id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"],["azt-track-service","setting-general-HnOp3TjmEf",1,"profile-img",3,"click"],[1,"text-center","relative"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["azt-track-service","setting-general-bT6OQEh_x6",1,"text-primary","mr-1","cursor-pointer",3,"click"],["accept","image/*;capture=camera","type","file",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,yi,1,0,"azt-loading-effect",1),e.YNc(2,He,98,62,"ng-template",null,2,e.W1O),e.qZA(),e.YNc(4,rn,18,15,"div",3)),2&t){const r=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",o.imageChangedEvent)}},dependencies:[x.O5,i._Y,i.Fj,i._,i.JJ,i.JL,bo.Nt,me.KE,me.R9,j.rZ,j.T$,i.sg,i.u,se.Q,nn.g,ke.M,W.ap,I.bT],styles:[".source-image {\n\t\tmargin: auto !important;\n\t}\n\t.modal-dialog[_ngcontent-%COMP%] {\n\t\tmax-width: 500px;\n\t\tmargin: auto;\n\t}"]}),n})();var Ve=g(13739);function sn(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",19)(3,"circle",20),e.qZA()())}function cn(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),e.qZA()())}function ht(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ln(n,s){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,ht,3,3,"span",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.oldPassword.errors.required)}}function un(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",19)(3,"circle",20),e.qZA()())}function dn(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),e.qZA()())}function Oi(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Li(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ei(n,s){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Oi,3,3,"span",8),e.YNc(2,Li,3,3,"span",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.minlength)}}function _n(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",26)(1,"g",27)(2,"g",28),e._UZ(3,"circle",29),e.TgZ(4,"path",30),e._UZ(5,"animateTransform",31),e.qZA()()()())}let Pi=(()=>{class n extends w.Q{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.commonService.getFormObj(this.form),o={password:t.newPassword,oldPassword:t.oldPassword};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(o).subscribe(r=>{1==r.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(r.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let t=this.commonService.getMyParam(this.activeRoute,"roleType"),o=this.commonService.getMyParam(this.activeRoute,"modeType");var r="?return_url="+encodeURIComponent(`/auth/account-setting/${t}/${o}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",r)}constructor(t,o,r,u){super(),this.formBuilder=t,this.userInfoService=o,this.activeRoute=r,this.gaService=u,this.form=new i.nJ({}),this.showPasswordOld=!1,this.showPasswordNew=!1}ngOnInit(){this.form=this.formBuilder.group({oldPassword:new i.p4("",[i.kI.required]),newPassword:new i.p4("",[i.kI.required,i.kI.minLength(6)])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(H.$C),e.Y36(_.gz),e.Y36(Ve.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-password"]],features:[e.qOj],decls:36,vars:32,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500","w-5","h-5"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","fade"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.ALo(9,"mytranslate"),e.TgZ(10,"button",7),e.NdJ("click",function(){return o.togglePasswordOld()}),e.YNc(11,sn,4,0,"span",8),e.YNc(12,cn,6,0,"span",8),e.qZA()(),e.TgZ(13,"div",9),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.YNc(16,ln,2,1,"div",10),e.qZA(),e.TgZ(17,"div",3)(18,"label",11),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"input",12),e.ALo(23,"mytranslate"),e.TgZ(24,"button",13),e.NdJ("click",function(){return o.togglePasswordNew()}),e.YNc(25,un,4,0,"span",8),e.YNc(26,dn,6,0,"span",8),e.qZA()(),e.YNc(27,Ei,3,2,"div",10),e.qZA()(),e.TgZ(28,"div",14)(29,"a",15),e.NdJ("click",function(){return o.forgotPassword()}),e._uU(30),e.ALo(31,"mytranslate"),e.qZA(),e.TgZ(32,"button",16),e.NdJ("click",function(){return o.parseInfoFieldForStudentObjsInExportExcel()}),e.YNc(33,_n,6,0,"svg",17),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",e.lcZ(6,18,"lang_auto_mat_khau_hien_tai")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(9,20,"lang_auto_nhap_mat_khau")+"..."),e.Q6J("type",o.showPasswordOld?"text":"password"),e.xp6(3),e.Q6J("ngIf",o.showPasswordOld),e.xp6(1),e.Q6J("ngIf",!o.showPasswordOld),e.xp6(2),e.hij(" ",e.lcZ(15,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),e.xp6(2),e.Q6J("ngIf",o.form.controls.oldPassword.errors&&(o.form.controls.oldPassword.dirty||o.form.controls.oldPassword.touched)),e.xp6(3),e.Oqu(e.lcZ(20,24,"lang_auto_mat_khau_moi")),e.xp6(3),e.s9C("placeholder",e.lcZ(23,26,"lang_auto_nhap_mat_khau")+"..."),e.Q6J("type",o.showPasswordNew?"text":"password"),e.xp6(3),e.Q6J("ngIf",o.showPasswordNew),e.xp6(1),e.Q6J("ngIf",!o.showPasswordNew),e.xp6(1),e.Q6J("ngIf",o.form.controls.newPassword.errors&&(o.form.controls.newPassword.dirty||o.form.controls.newPassword.touched)),e.xp6(3),e.Oqu(e.lcZ(31,28,"lang_auto_quen_mat_khau")),e.xp6(2),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(35,30,"lang_auto_cap_nhat")," "))},dependencies:[x.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,ke.M,I.bT],encapsulation:2}),n})();var Ae=g(29947);function Co(n,s){1&n&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auth_remove_teacher_role")))}function To(n,s){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function Mi(n,s){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function qi(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",7)(1,"g",8)(2,"g",9),e._UZ(3,"circle",10),e.TgZ(4,"path",11),e._UZ(5,"animateTransform",12),e.qZA()()()())}let gn=(()=>{class n extends w.Q{becomeTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(""):this.errorStatusObj(t.message??"",!0)}))}becomeStudent(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/dashboard/0")):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,o){super(),this.redirectByRoleService=t,this.userInfoService=o,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ae.E),e.Y36(H.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[e.qOj],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"h5"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Co,3,3,"span",3),e.YNc(4,To,3,3,"span",3),e.YNc(5,Mi,3,3,"span",3),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.isTeacherDashboard?o.becomeStudent():o.becomeTeacher()}),e.YNc(7,qi,6,0,"svg",5),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",o.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!o.isTeacherDashboard&&!o.isMobileWebView),e.xp6(1),e.Q6J("ngIf",!o.isTeacherDashboard&&o.isMobileWebView),e.xp6(2),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[x.O5,I.bT],encapsulation:2}),n})();var Ui=g(56375);function pn(n,s){if(1&n&&(e.TgZ(0,"option",10),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=s.$implicit,o=e.oxw();e.Q6J("value",t)("selected",t==o.form.controls.dateFormat.value),e.xp6(1),e.AsE(" ",t," - ",e.lcZ(2,4,"lang_auth_user_setting_unit_"+t)," ")}}function mn(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",11)(1,"g",12)(2,"g",13),e._UZ(3,"circle",14),e.TgZ(4,"path",15),e._UZ(5,"animateTransform",16),e.qZA()()()())}let ji=(()=>{class n extends w.Q{saveUnitObj(){this.initStatusObj(),this.subscriptions.add(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(o=>{1==o.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(o.message??"",!0)}))}constructor(t,o,r){super(),this.timeService=t,this.userUnitService=o,this.configService=r,this.form=new i.cw({dateFormat:new i.NI("",[i.kI.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var t=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(t??null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ot.O),e.Y36(H.Fq),e.Y36(Ui.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-unit"]],features:[e.qOj],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[3,"value","selected"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"select",5),e.YNc(8,pn,3,6,"option",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return o.saveUnitObj()}),e.YNc(11,mn,6,0,"svg",9),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",e.lcZ(6,5,"lang_auth_user_setting_unit_format_date")," "),e.xp6(3),e.Q6J("ngForOf",o.formatDataObjs),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[x.sg,x.O5,i._Y,i.YN,i.Kr,i.EJ,i.JJ,i.JL,i.sg,i.u,ke.M,I.bT],encapsulation:2}),n})();var hn=g(86670),ko=g(8720),Qi=g(41894),ft=g(90159),Lt=g(74736),Ni=g(44883),rt=g(32296),st=g(30617),vt=g(98445),Et=g(10134);const fn=function(n){return{"mt-2 sm:mt-0":n}};function Ri(n,s){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"input",28),e.TgZ(2,"label",29),e._uU(3),e.qZA()()),2&n){const t=s.$implicit,o=s.index,r=e.oxw();let u;e.Q6J("ngClass",e.VKq(5,fn,0!==o)),e.xp6(1),e.s9C("id","tag_"+t.id),e.s9C("value",t.id),e.xp6(1),e.s9C("for","tag_"+t.id),e.xp6(1),e.hij(" ",null!==(u=t[r.commonService.getCurrentLang()+"Name"])&&void 0!==u?u:t.enName," ")}}function vn(n,s){if(1&n&&(e.TgZ(0,"option",30),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=s.$implicit,o=e.oxw();e.Q6J("value",t.id)("selected",t.id==o.form.controls.schoolLevel.value),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.key)," ")}}function Fi(n,s){if(1&n&&(e.TgZ(0,"option",30),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=s.$implicit,o=e.oxw();e.Q6J("value",t.id)("selected",t.id==o.form.controls.schoolSubject.value),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.key)," ")}}function bn(n,s){1&n&&(e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e._UZ(3,"azt-loading-ui",36),e.qZA()(),e.BQk()),2&n&&(e.xp6(3),e.Q6J("type","oval"))}const Zo=function(n){return{"azt-text-primary azt-font-bold":n}};function xn(n,s){if(1&n&&(e.TgZ(0,"span",47)(1,"span",48),e._UZ(2,"lucide-icon",49),e.qZA()()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(1,Zo,o.form.controls.classifyMaterials.value==t.id))}}function Di(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,xn,3,3,"span",45),e.TgZ(2,"span",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.onPressNode(r))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isLeaf),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.item)," ")}}function Er(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",50),e.O4$(),e.TgZ(1,"svg",51),e._UZ(2,"path",52),e.qZA()(),e.kcU(),e.TgZ(3,"string",53),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.onPressNode(r))}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.lcZ(5,1,t.item)," ")}}const Pt=function(n){return{"azt-text-primary":n}};function Pr(n,s){if(1&n&&(e.TgZ(0,"mat-tree-node",42),e._UZ(1,"button",43),e.YNc(2,Di,5,4,"ng-container",32),e.YNc(3,Er,6,3,"ng-template",null,44,e.W1O),e.qZA()),2&n){const t=s.$implicit,o=e.MAs(4),r=e.oxw(4);e.Q6J("ngClass",e.VKq(3,Pt,r.form.controls.classifyMaterials.value==t.id)),e.xp6(2),e.Q6J("ngIf",t.isLeaf)("ngIfElse",o)}}function Mr(n,s){if(1&n&&(e.TgZ(0,"button",57)(1,"mat-icon",58),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);e.uIk("aria-label","Toggle "+t.item),e.xp6(2),e.hij(" ",o.treeControl.isExpanded(t)?"expand_more":"chevron_right"," ")}}function zi(n,s){if(1&n&&(e.TgZ(0,"span",47)(1,"span",48),e._UZ(2,"lucide-icon",49),e.qZA()()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(1,Pt,o.form.controls.classifyMaterials.value==t.id))}}function yn(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,zi,3,3,"span",45),e.TgZ(2,"span",59),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.onPressNode(r))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isLeaf),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.item)," ")}}function So(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",50),e.O4$(),e.TgZ(1,"svg",51),e._UZ(2,"path",52),e.qZA()(),e.kcU(),e.TgZ(3,"span",60),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.onPressNode(r))}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.lcZ(5,1,t.item)," ")}}function Bi(n,s){1&n&&(e.TgZ(0,"span",61),e._UZ(1,"azt-loading-ui",36),e.qZA()),2&n&&(e.xp6(1),e.Q6J("type","oval"))}function Ji(n,s){if(1&n&&(e.TgZ(0,"mat-tree-node",42),e.YNc(1,Mr,3,2,"button",54),e.YNc(2,yn,5,4,"ng-container",32),e.YNc(3,So,6,3,"ng-template",null,55,e.W1O),e.YNc(5,Bi,2,1,"span",56),e.qZA()),2&n){const t=s.$implicit,o=e.MAs(4),r=e.oxw(4);e.Q6J("ngClass",e.VKq(5,Zo,r.form.controls.classifyMaterials.value==t.id)),e.xp6(1),e.Q6J("ngIf",!t.isLeaf),e.xp6(1),e.Q6J("ngIf",t.isLeaf)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",t.isLoading)}}function Yi(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-tree",39),e.YNc(2,Pr,5,5,"mat-tree-node",40),e.YNc(3,Ji,6,7,"mat-tree-node",41),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",t.hasChild)}}function Gi(n,s){1&n&&(e.TgZ(0,"div",34)(1,"div",62),e.O4$(),e.TgZ(2,"svg",63),e._UZ(3,"path",64)(4,"path",65)(5,"path",66)(6,"path",67),e.qZA(),e.kcU(),e.TgZ(7,"p",68),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()),2&n&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function wn(n,s){if(1&n&&(e.TgZ(0,"ng-scrollbar",37),e.YNc(1,Yi,4,3,"ng-container",32),e.YNc(2,Gi,10,3,"ng-template",null,38,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw(2);e.Q6J("visibility","hover"),e.xp6(1),e.Q6J("ngIf",o.dataSource.data.length)("ngIfElse",t)}}function Io(n,s){if(1&n&&(e.TgZ(0,"div",12)(1,"div",31),e.YNc(2,bn,4,1,"ng-container",32),e.YNc(3,wn,4,3,"ng-template",null,33,e.W1O),e.qZA()()),2&n){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.loadingUnitSubject)("ngIfElse",t)}}function Vi(n,s){1&n&&(e.TgZ(0,"span",69),e._UZ(1,"azt-loading-ui",36),e.qZA()),2&n&&(e.xp6(1),e.Q6J("type","oval"))}let Oo=(()=>{class n extends w.Q{handleCloseDialog(){this.dialogRef.close()}filterSchoolSubject(t){if(this.form.controls.classifyMaterials.setValue(""),0==this.subjectSelectedList.length)this.filterSubject(t??1);else{let o=!1;for(let r=0;r<this.subjectSelectedList.length;r++)t&&(t<(this.subjectSelectedList[r].from??0)||t>(this.subjectSelectedList[r].to??0))&&(o=!0);o&&(this.filterSubject(t??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(t){let o=this.commonService.myClone(this.data.schoolSubjectObjs);this.subjectSelectedList=o.filter(r=>!(r.from&&r.to&&t)||t>=r.from&&t<=r.to)}initData(t){let o=this.form.controls.schoolLevel.value,r=this.form.controls.schoolSubject.value;this.dataSource=new ft.LT(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!t?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(o,r).then(u=>{if(this.dataSource.data=u,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let m=this.data.questionShared?.knowledgeParentIds;for(let f=0;f<m.length;f++)(b=>{setTimeout(()=>{let k=this.dataSource.getNode(m[f]);k&&this.treeControl.expand(k)},500*f)})()}this.loadingUnitSubject=!1}))}onPressNode(t){if(t){if(t.isLeaf){let o=this.commonService.myClone(t);for(this.breadcrumbs=[o];o.prNode;)if(this.breadcrumbs.unshift(o.prNode),o=o.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(t)}}else this.breadcrumbs=[]}chooseLeafFolder(t){t.isLeaf?this.form.controls.classifyMaterials.setValue(t.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.aztAbTestingService.sendLogShareQuestion("submit"),this.initStatusObj();let t={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},o={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(t.questionId??0,t).subscribe(r=>{1===r.success?1==r.data?.status&&(this.dialogRef.close(o),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(r.message??"",!0)}))}patchValueForm(){let t=12,o=40,r=1,u=0;this.data.configShareQuestionLog.classifyMaterials?(r=this.data.configShareQuestionLog.awarenessLevel??1,t=this.data.configShareQuestionLog.schoolLevel??12,o=this.data.configShareQuestionLog.schoolSubject??40,u=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(t=this.data.questionShared.levelId??12,o=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(r=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(t),this.form.controls.awarenessLevel.setValue(r.toString()),this.form.controls.schoolLevel.setValue(t.toString()),this.form.controls.schoolSubject.setValue(o.toString()),this.form.controls.classifyMaterials.setValue(u),this.initData()}ngOnInit(){super.ngOnInit(),this.form=this.fb.group({awarenessLevel:new i.NI("1"),schoolLevel:new i.NI("0"),schoolSubject:new i.NI("0"),classifyMaterials:new i.NI("")}),this.patchValueForm()}constructor(t,o,r,u,m,f,b){super(),this.fb=t,this.documentConfigService=o,this.database=r,this.testMarketQuestionService=u,this.aztAbTestingService=m,this.dialogRef=f,this.data=b,this.form=new i.cw({}),this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=k=>k.level,this.isExpandable=k=>k.expandable,this.hasChild=(k,q)=>q.expandable,this.treeControl=new Qi.C2(this.getLevel,this.isExpandable),this.dataSource=new ft.LT(this.treeControl,r)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(Ke.Cq),e.Y36(ft.P6),e.Y36(Lt.Q_),e.Y36(Ni.Z),e.Y36(le.so,8),e.Y36(le.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-share-question"]],features:[e.qOj],decls:53,vars:37,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],[3,"type"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["noDataSource",""],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["notIsLeaf",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],[1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500","flex-none","inline-block",3,"ngClass"],["name","file-text"],["matTreeNodeToggle","",1,"cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500"],["d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["notIsLeafChild",""],["class","w-4 h-4 inline-block ml-4",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"w-4","h-4","inline-block","ml-4"],[1,"text-center","mx-auto"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M38.5 70H14C12.1435 70 10.363 69.2625 9.05025 67.9497C7.7375 66.637 7 64.8565 7 63V17.5C7 13.65 10.15 10.5 14 10.5H27.755C28.9079 10.506 30.0416 10.7966 31.0552 11.3462C32.0687 11.8957 32.9309 12.6871 33.565 13.65L36.435 17.85C37.0691 18.8129 37.9313 19.6043 38.9448 20.1538C39.9584 20.7034 41.092 20.994 42.245 21H70C71.8565 21 73.637 21.7375 74.9497 23.0503C76.2625 24.363 77 26.1435 77 28V42","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M59.5 70C65.299 70 70 65.299 70 59.5C70 53.701 65.299 49 59.5 49C53.701 49 49 53.701 49 59.5C49 65.299 53.701 70 59.5 70Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M73.5 73.5L68.25 68.25","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16 26V44.3184M16 50V54.7432V50Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[1,"w-4","h-4","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()(),e.TgZ(6,"div",1)(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"div",10),e.YNc(16,Ri,4,7,"div",11),e.qZA()(),e.TgZ(17,"div",12)(18,"label",9),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"label",17),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"select",18),e.NdJ("change",function(){return o.filterSchoolSubject(o.form.controls.schoolLevel.value)}),e.TgZ(29,"option",19),e._uU(30),e.ALo(31,"mytranslate"),e.qZA(),e.YNc(32,vn,3,5,"option",20),e.qZA()()(),e.TgZ(33,"div",15)(34,"div",16)(35,"label",17),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e.TgZ(38,"select",21),e.NdJ("change",function(){return o.initData("change")}),e.TgZ(39,"option",19),e._uU(40),e.ALo(41,"mytranslate"),e.qZA(),e.YNc(42,Fi,3,5,"option",20),e.qZA()()()()()()(),e.TgZ(43,"div",7),e.YNc(44,Io,5,2,"div",22),e.qZA()()()()(),e.TgZ(45,"div",23)(46,"button",24),e.NdJ("click",function(){return o.handleCloseDialog()}),e._uU(47),e.ALo(48,"mytranslate"),e.qZA(),e.TgZ(49,"button",25),e.NdJ("click",function(){return o.confirmAction()}),e.YNc(50,Vi,2,1,"span",26),e._uU(51),e.ALo(52,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,19,"lang_test_market_edit_shared_question")," "),e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(5),e.hij(" ",e.lcZ(14,21,"lang_auto_muc_do_nhan_biet")," "),e.xp6(3),e.Q6J("ngForOf",o.data.questionTags),e.xp6(3),e.hij(" ",e.lcZ(20,23,"lang_auto_don_vi_kien_thuc")," "),e.xp6(7),e.hij(" ",e.lcZ(27,25,"lang_auto_lop_hoc")," "),e.xp6(3),e.Q6J("selected",0==o.form.controls.schoolLevel.value),e.xp6(1),e.hij("",e.lcZ(31,27,"lang_auto_---chon_khoi"),"---"),e.xp6(2),e.Q6J("ngForOf",o.data.schoolLevelObjs),e.xp6(4),e.hij(" ",e.lcZ(37,29,"lang_auto_mon_hoc")," "),e.xp6(2),e.uIk("disabled",0==o.form.controls.schoolLevel.value?"":null),e.xp6(1),e.Q6J("selected",0==o.form.controls.schoolSubject.value),e.xp6(1),e.hij("",e.lcZ(41,31,"lang_auto_---chon_mon"),"---"),e.xp6(2),e.Q6J("ngForOf",o.subjectSelectedList),e.xp6(2),e.Q6J("ngIf",0!=o.form.controls.schoolSubject.value),e.xp6(3),e.hij(" ",e.lcZ(48,33,"lang_auto_dong")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||!o.form.controls.classifyMaterials.value),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(52,35,"lang_auto_sua")," "))},dependencies:[x.mk,x.sg,x.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i._,i.JJ,i.JL,rt.RK,st.Hw,vt.fQ,vt.ah,vt.eu,vt.gi,vt.uo,i.sg,i.u,ke.M,Et.J,B.KC,z.Nh5,I.bT],encapsulation:2}),n})();var Ki=g(87469),Oe=g(1914),Mt=g(31518),Lo=g(77988),Eo=g(89880),Po=g(57985);function Wi(n,s){1&n&&e._UZ(0,"azt-loading-effect")}function An(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"withdraw-balance",6),e.NdJ("closeRequest",function(r){e.CHM(t);const u=e.oxw(2);return e.KtG(u.closeRequest(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("transactionInfo",t.transactionInfo)("balanceUserInfo",t.balanceUserInfo)("totalBalance",t.totalBalance)}}function qr(n,s){1&n&&(e.TgZ(0,"button",40)(1,"span",41),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_status_new")," "))}function Hi(n,s){1&n&&(e.TgZ(0,"button",42)(1,"span",41),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_status_rejected")," "))}function Cn(n,s){1&n&&(e.TgZ(0,"button",43)(1,"span",41),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_status_approved")," "))}function $i(n,s){1&n&&(e.TgZ(0,"span",61),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_new")," "))}function Xi(n,s){1&n&&(e.TgZ(0,"span",62),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_approved")," "))}function Tn(n,s){if(1&n&&(e.TgZ(0,"span",63),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"lang_auto_status_rejected"),"",t.rejectedReason?e.lcZ(3,4," - "+t.rejectedReason):""," ")}}function Ur(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.editQuestionShared(r))}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_sua")," "))}const jr=function(n){return{"selected-border-box":n}};function Qr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",52),e.NdJ("click",function(){const u=e.CHM(t).index,m=e.oxw(4);return e.KtG(m.selected=u)}),e.TgZ(1,"td"),e._UZ(2,"div",53),e.ALo(3,"safeContentQuestion"),e.ALo(4,"async"),e.ALo(5,"mathJaxContent"),e.qZA(),e.TgZ(6,"td"),e.YNc(7,$i,3,3,"span",54),e.YNc(8,Xi,3,3,"span",55),e.YNc(9,Tn,4,6,"span",56),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"mytranslate"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"mytranslate"),e.ALo(19,"mytranslate"),e.qZA(),e.TgZ(20,"td",57)(21,"div",58)(22,"a",59),e.NdJ("click",function(){const u=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.viewQuestionDetail(u))}),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.YNc(25,Ur,3,3,"a",60),e.qZA()()()}if(2&n){const t=s.$implicit,o=s.index,r=e.oxw(4);e.Q6J("ngClass",e.VKq(27,jr,o==r.selected)),e.xp6(2),e.Q6J("innerHTML",e.lcZ(3,11,e.lcZ(4,13,e.lcZ(5,15,null==t.question?null:t.question.content))),e.oJD),e.xp6(5),e.Q6J("ngIf","new"==t.status),e.xp6(1),e.Q6J("ngIf","approved"==t.status),e.xp6(1),e.Q6J("ngIf","rejected"==t.status),e.xp6(2),e.hij(" ",e.lcZ(12,17,t.questionTagName)," "),e.xp6(3),e.hij(" ",e.lcZ(15,19,t.knowledgeName)," "),e.xp6(3),e.AsE(" ",e.lcZ(18,21,t.levelName)," - ",e.lcZ(19,23,t.subjectName)," "),e.xp6(6),e.hij(" ",e.lcZ(24,25,"lang_test_market_view_question")," "),e.xp6(2),e.Q6J("ngIf","approved"!=t.status)}}function Nr(n,s){if(1&n&&(e.TgZ(0,"drag-scroll",44)(1,"table",45)(2,"thead")(3,"tr",46)(4,"th",47),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"th",48),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"th",48),e._uU(11),e.ALo(12,"mytranslate"),e.qZA(),e.TgZ(13,"th",49),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"th",49),e._uU(17),e.ALo(18,"mytranslate"),e.ALo(19,"mytranslate"),e.qZA(),e._UZ(20,"th",50),e.qZA()(),e.TgZ(21,"tbody"),e.YNc(22,Qr,26,29,"tr",51),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(5),e.hij(" ",e.lcZ(6,7,"lang_auto_cau_hoi")," "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"lang_auto_trang_thai")," "),e.xp6(3),e.hij(" ",e.lcZ(12,11,"lang_auto_muc_do_nhan_biet")," "),e.xp6(3),e.hij(" ",e.lcZ(15,13,"lang_auto_don_vi_kien_thuc")," "),e.xp6(3),e.AsE(" ",e.lcZ(18,15,"lang_auto_khoi_hoc")," - ",e.lcZ(19,17,"lang_auto_mon_hoc")," "),e.xp6(5),e.Q6J("ngForOf",t.shareQuestionList)}}function qt(n,s){1&n&&(e.TgZ(0,"div",65),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_khong_co_cau_hoi_nao")))}function Rr(n,s){if(1&n&&(e.TgZ(0,"div",66),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.totalShareQuestion+" "+e.lcZ(2,1,"lang_auto_cau_hoi")," ")}}const Ut=function(n){return{"bg-primary text-white no-hover":n}};function ea(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),e._uU(5),e.ALo(6,"mytranslate"),e.TgZ(7,"b",11),e._uU(8),e.ALo(9,"number"),e.qZA()()(),e.TgZ(10,"div",12)(11,"h3",10),e._uU(12),e.ALo(13,"mytranslate"),e.TgZ(14,"b",11),e._uU(15),e.ALo(16,"number"),e.qZA()()(),e.TgZ(17,"div",9)(18,"h3",10),e._uU(19),e.ALo(20,"mytranslate"),e.TgZ(21,"b",11),e._uU(22),e.ALo(23,"number"),e.qZA()()(),e.TgZ(24,"div",12)(25,"h3",10),e._uU(26),e.ALo(27,"mytranslate"),e.TgZ(28,"b",11),e._uU(29),e.ALo(30,"number"),e.qZA()()(),e.TgZ(31,"div",13)(32,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.withdrawBalance())}),e._uU(33),e.ALo(34,"mytranslate"),e.qZA()()()(),e.TgZ(35,"div",15)(36,"div",16)(37,"button",17),e.O4$(),e.TgZ(38,"svg",18),e._UZ(39,"polygon",19),e.qZA(),e.kcU(),e.TgZ(40,"span",20),e._uU(41),e.ALo(42,"mytranslate"),e.qZA()(),e.YNc(43,qr,4,3,"button",21),e.YNc(44,Hi,4,3,"button",22),e.YNc(45,Cn,4,3,"button",23),e.qZA(),e.TgZ(46,"mat-menu",24,25)(48,"div",26)(49,"ul",27)(50,"li")(51,"span",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filterStatus(void 0))}),e._uU(52),e.ALo(53,"mytranslate"),e.qZA()(),e.TgZ(54,"li")(55,"span",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filterStatus("new"))}),e._uU(56),e.ALo(57,"mytranslate"),e.qZA()(),e.TgZ(58,"li")(59,"span",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filterStatus("approved"))}),e._uU(60),e.ALo(61,"mytranslate"),e.qZA()(),e.TgZ(62,"li")(63,"span",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filterStatus("rejected"))}),e._uU(64),e.ALo(65,"mytranslate"),e.qZA()()()()()(),e.TgZ(66,"div",32)(67,"div",33),e.YNc(68,Nr,23,19,"drag-scroll",34),e.YNc(69,qt,3,3,"div",35),e.qZA(),e.TgZ(70,"div",36)(71,"div",37)(72,"azt-paging",38),e.NdJ("goToPaginationPage",function(r){e.CHM(t);const u=e.oxw(2);return e.KtG(u.getData(r))}),e.qZA()(),e.YNc(73,Rr,3,3,"div",39),e.qZA()(),e.BQk()}if(2&n){const t=e.MAs(47),o=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,28,"lang_test_market_total_questions_share")," "),e.xp6(3),e.Oqu(e.lcZ(9,30,o.totalShared)),e.xp6(4),e.hij(" ",e.lcZ(13,32,"lang_test_market_total_questions_approve")," "),e.xp6(3),e.Oqu(e.lcZ(16,34,o.totalApproved)),e.xp6(4),e.hij(" ",e.lcZ(20,36,"lang_test_market_total_questions_used")," "),e.xp6(3),e.Oqu(e.lcZ(23,38,o.totalUsed)),e.xp6(4),e.hij(" ",e.lcZ(27,40,"lang_test_market_total_balance")," "),e.xp6(3),e.hij("",e.lcZ(30,42,o.totalBalance),"\u0111"),e.xp6(3),e.Q6J("disabled",!o.totalBalance),e.xp6(1),e.hij(" ",e.lcZ(34,44,"lang_test_market_withdraw")," "),e.xp6(4),e.Q6J("matMenuTriggerFor",t),e.xp6(4),e.hij(" ",e.lcZ(42,46,"lang_test_market_filter_status")," "),e.xp6(2),e.Q6J("ngIf","new"==o.fillStatus),e.xp6(1),e.Q6J("ngIf","rejected"==o.fillStatus),e.xp6(1),e.Q6J("ngIf","approved"==o.fillStatus),e.xp6(6),e.Q6J("ngClass",e.VKq(56,Ut,!o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(53,48,"lang_auto_tat_ca")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(58,Ut,"new"==o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(57,50,"lang_auto_status_new")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(60,Ut,"approved"==o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(61,52,"lang_auto_status_approved")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(62,Ut,"rejected"==o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(65,54,"lang_auto_status_rejected")," "),e.xp6(4),e.Q6J("ngIf",0!=o.totalShareQuestion),e.xp6(1),e.Q6J("ngIf",0==o.totalShareQuestion),e.xp6(3),e.Q6J("totalPaginationPage",o.totalPage)("paging",o.page),e.xp6(1),e.Q6J("ngIf",0!=o.totalShareQuestion)}}function ta(n,s){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,An,1,3,"withdraw-balance",4),e.YNc(2,ea,74,64,"ng-container",5),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isWithDraw&&t.transactionInfo&&t.balanceUserInfo),e.xp6(1),e.Q6J("ngIf",!t.isWithDraw)}}let na=(()=>{class n extends w.Q{constructor(t,o,r,u,m,f){super(),this.testMarketQuestionService=t,this.questionService=o,this.activeRoute=r,this.questionRenderService=u,this.browserStorageService=m,this.dialog=f,this.shareQuestionList=[],this.page=1,this.totalPage=0,this.sizePage=10,this.loadingRender=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.isWithDraw=!1,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.questionTags=[],this.selected=-1,this.fillStatus="",this.configRenderService=new ko.B(!0)}ngOnInit(){(0,T.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let t=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=t??"",this.getData(this.page)})}filterStatus(t){this.fillStatus=t??"",this.browserStorageService.saveSimpleStorage("view_question_filter",t??""),this.getData(1)}withdrawBalance(){this.isWithDraw=!this.isWithDraw}closeRequest(t){t?(this.getData(this.page),this.isWithDraw=!1):this.isWithDraw=!1}getBalanceQuestionShared(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(t=>{1===t.success?(this.totalShared=t.data?.shared??0,this.totalUsed=t.data?.used??0,this.totalApproved=t.data?.approved??0,this.totalBalance=t.data?.balance??0,this.transactionInfo=t.data?.lastTransaction,this.balanceUserInfo=t.data,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}getData(t){this.loadingRender=!0,this.page=t,this.selected=-1,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,t,void 0).subscribe(o=>{if(1===o.success){this.shareQuestionList=o.data?.objs??[];let r=o.data?.total??1;this.totalShareQuestion=r,this.totalPage=r%this.sizePage>0?(r-r%this.sizePage)/this.sizePage+1:r>0?r/this.sizePage:1,this.page>this.totalPage&&(this.page=this.totalPage);let u=[];this.shareQuestionList.forEach(m=>{m.question&&u.push(m.question)}),this.loadQuest(u),this.getSubjectAndLevel(),this.getTagsQuestion(),this.getBalanceQuestionShared()}else this.errorStatusObj(o.message??"",!0)}))}loadQuest(t){this.loadingRender=!0;const o=this.commonService.castJsonToClassObjs(hn.v,JSON.stringify(t));this.questionRenderService.parseRenderQuestions(o??[],r=>{},this.configRenderService).then(r=>{for(let u=0;u<this.shareQuestionList.length;u++)this.shareQuestionList[u].question=this.commonService.castObj(r[u]);this.loadingRender=!1}).catch(r=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}getSubjectAndLevel(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsSubjectLevelsGet().subscribe(t=>{1==t.success?(this.schoolLevelObjs=t.data?.schoolLevelObjs??[],this.schoolSubjectObjs=t.data?.schoolSubjectObjs??[],this.successStatusObj()):this.errorStatusObj(t.message??"")}))}getTagsQuestion(){this.subscriptions.add(this.questionService.apiQuestionGetTagsGet().subscribe(t=>{1===t.success?this.questionTags=t.data?.objs??[]:this.errorStatusObj(t.message??"")}))}editQuestionShared(t){this.dialog.open(Oo,{width:"95vw",data:{questionShared:t,schoolLevelObjs:this.schoolLevelObjs,schoolSubjectObjs:this.schoolSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:t.levelId,schoolSubject:t.subjectId,awarenessLevel:t.questionTagId,questionId:t.questionId,classifyMaterials:t.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(r=>{if(r){let u=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=u??"",this.getData(this.page)}})}viewQuestionDetail(t){this.dialog.open(Ki.T,{width:"700px",data:{obj:t},restoreFocus:!1}).afterClosed().subscribe(r=>{})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Lt.Q_),e.Y36(Ke.aE),e.Y36(_.gz),e.Y36(Oe.L),e.Y36(Mt.z),e.Y36(le.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-share-question"]],features:[e.qOj],decls:4,vars:2,consts:[[1,"relative"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest"],[1,"box","p-5","w-full"],[1,"grid","grid-cols-12","gap-1"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"text-md","items-center"],[1,"text-lg"],[1,"col-span-12","md:col-span-2",2,"align-self","center"],[1,"col-span-12","md:col-span-2","text-right",2,"align-self","center"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md","mr-2",3,"disabled","click"],[1,"w-full","text-right","mt-2"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","mr-2","box",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"azt-hidden","md:block"],["class","btn btn-sm btn-pending","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-danger","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-success","style","cursor: default",4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0;text-align: center;",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"totalPaginationPage","paging","goToPaginationPage"],["class","w-20 mt-3 sm:mt-0 ",4,"ngIf"],[1,"btn","btn-sm","btn-pending",2,"cursor","default"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-danger",2,"cursor","default"],[1,"btn","btn-sm","btn-success",2,"cursor","default"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto","px-1",2,"min-width","1000px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","320px"],[1,"",2,"width","100px"],[1,""],[1,"whitespace-nowrap","text-center",2,"width","190px"],["azt-track-service","view-share-question-dC5aYTlKd6F","class","intro-x",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","view-share-question-dC5aYTlKd6F",1,"intro-x",3,"ngClass","click"],[1,"tex2jax_process","box-content",2,"width","300px",3,"innerHTML"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"table-report__action"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Wi,1,0,"azt-loading-effect",1),e.YNc(2,ta,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&t){const r=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.loadingRender)("ngIfElse",r)}},dependencies:[x.mk,x.sg,x.O5,Lo.VK,Lo.p6,se.Q,Eo.L,R.HU,Po.C,x.Ov,x.JJ,I.bT,I.QA,I.Ev],encapsulation:2}),n})();function oa(n,s){1&n&&e._UZ(0,"azt-loading-effect")}function ia(n,s){1&n&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_new")," "))}function aa(n,s){1&n&&(e.TgZ(0,"span",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_approved")," "))}function ra(n,s){1&n&&(e.TgZ(0,"span",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_settled")," "))}function sa(n,s){1&n&&(e.TgZ(0,"span",23),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_rejected")," "))}function ca(n,s){if(1&n&&(e.TgZ(0,"tr",15)(1,"td",16),e._uU(2),e.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA(),e.TgZ(4,"td")(5,"b"),e._uU(6),e.ALo(7,"number"),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",17),e.YNc(17,ia,3,3,"span",18),e.YNc(18,aa,3,3,"span",19),e.YNc(19,ra,3,3,"span",19),e.YNc(20,sa,3,3,"span",20),e.qZA()()),2&n){const t=s.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,10,t.createdAt)," "),e.xp6(4),e.hij("",e.lcZ(7,12,t.amount),"\u0111"),e.xp6(3),e.hij(" ",t.bankHolder," "),e.xp6(2),e.hij(" ",t.bankName," "),e.xp6(2),e.hij(" ",t.bankAccountNumber," "),e.xp6(2),e.hij(" ",t.address," "),e.xp6(2),e.Q6J("ngIf","new"==t.status),e.xp6(1),e.Q6J("ngIf","approved"==t.status),e.xp6(1),e.Q6J("ngIf","settled"==t.status),e.xp6(1),e.Q6J("ngIf","rejected"==t.status)}}function jt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"drag-scroll",6)(4,"table",7)(5,"thead")(6,"tr",8)(7,"th",9),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"th",9),e._uU(11),e.ALo(12,"mytranslate"),e.qZA(),e.TgZ(13,"th",9),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"th",9),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.TgZ(19,"th",9),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"th",9),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"th",9),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,ca,21,14,"tr",10),e.qZA()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"azt-paging",13),e.NdJ("goToPaginationPage",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.getData(r))}),e.qZA()(),e.TgZ(33,"div",14),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.hij(" ",e.lcZ(9,11,"lang_test_market_withdraw_time")," "),e.xp6(3),e.hij(" ",e.lcZ(12,13,"lang_test_market_withdraw_amount_withdrawn")," "),e.xp6(3),e.hij(" ",e.lcZ(15,15,"lang_test_market_bankHolder")," "),e.xp6(3),e.hij(" ",e.lcZ(18,17,"lang_test_market_bankName")," "),e.xp6(3),e.hij(" ",e.lcZ(21,19,"lang_test_market_bankNumber")," "),e.xp6(3),e.hij(" ",e.lcZ(24,21,"lang_test_market_address")," "),e.xp6(3),e.hij(" ",e.lcZ(27,23,"lang_auto_trang_thai")," "),e.xp6(3),e.Q6J("ngForOf",t.withdrawHistoryObjs),e.xp6(3),e.Q6J("totalPaginationPage",t.totalPage)("paging",t.page),e.xp6(2),e.hij(" ",t.totalWithdrawTimes+" "+e.lcZ(35,25,"lang_test_market_withdraw_times")," ")}}let $e=(()=>{class n extends w.Q{constructor(t,o){super(),this.testMarketQuestionService=t,this.activeRoute=o,this.page=1,this.totalPage=0,this.sizePage=10,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[]}ngOnInit(){(0,T.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.page)})}getData(t){this.initStatusObj(),this.page=t,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(o=>{if(1===o.success){this.withdrawHistoryObjs=o.data?.objs??[];let r=o.data?.total??1;this.totalWithdrawTimes=r,this.totalPage=r%this.sizePage>0?(r-r%this.sizePage)/this.sizePage+1:r>0?r/this.sizePage:1,this.successStatusObj()}else this.errorStatusObj(o.message??"",!0)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Lt.Q_),e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["history-withdraw"]],features:[e.qOj],decls:4,vars:2,consts:[[1,""],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","1300px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"w-20","mt-3","sm:mt-0"],[1,"intro-x"],[1,"w-90"],[2,"padding-left","45px"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,oa,1,0,"azt-loading-effect",1),e.YNc(2,jt,36,27,"ng-template",null,2,e.W1O),e.qZA()),2&t){const r=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",r)}},dependencies:[x.sg,x.O5,se.Q,Eo.L,R.HU,x.JJ,I.bT,I.tO],encapsulation:2}),n})();function la(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function ua(n,s){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,la,3,3,"span",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.reason.errors.required)}}function da(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",14)(1,"g",15)(2,"g",16),e._UZ(3,"circle",17),e.TgZ(4,"path",18),e._UZ(5,"animateTransform",19),e.qZA()()()())}let _a=(()=>{class n extends w.Q{saveUnitObj(){this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(t=>{1==t.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(t.message??"",!0)}))}constructor(t,o){super(),this.authService=t,this.mobileWebviewService=o,this.form=new i.cw({reason:new i.NI("",[i.kI.required])})}ngOnInit(){this.form.controls.reason.setValue("")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.e8),e.Y36(ne.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["remove-account"]],features:[e.qOj],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"input",7),e.qZA(),e.YNc(12,ua,2,1,"div",8),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return o.saveUnitObj()}),e.YNc(15,da,6,0,"svg",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",e.lcZ(6,7,"lang_auto_xoa_tai_khoan")," "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),e.xp6(4),e.Q6J("ngIf",o.form.controls.reason.errors&&(o.form.controls.reason.dirty||o.form.controls.reason.touched)),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||o.form.controls.reason.errors),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(17,11,"lang_auto_xac_nhan")," "))},dependencies:[x.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,ke.M,I.bT],encapsulation:2}),n})();function ga(n,s){1&n&&e._UZ(0,"azt-loading-effect")}function pa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label",6)(5,"span",7),e._UZ(6,"lucide-icon",8),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"input",9),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.mobLoginFingerprintOrFace())}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("name",t.enableForFace?"scan-face":"fingerprint"),e.xp6(1),e.hij(" ",t.enableForFace?e.lcZ(8,3,"lang_core_login_with_face"):e.lcZ(9,5,"lang_core_login_with_fingerprint")," "),e.xp6(3),e.Q6J("formControl",t.checkLoginFingerprintOrFaceControl)}}let Fr=(()=>{class n extends w.Q{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(t){super(),this.mobileWebviewService=t,this.checkLoginFingerprintOrFaceControl=new i.NI(!1),this.enableForFace=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ne.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],[1,"w-4","h-4","mr-2","inline-block"],[3,"name"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"]],template:function(t,o){if(1&t&&(e.YNc(0,ga,1,0,"azt-loading-effect",0),e.YNc(1,pa,11,7,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(2);e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",r)}},dependencies:[x.O5,i.Wl,i.JJ,i.oH,se.Q,z.Nh5,I.bT],encapsulation:2}),n})();function kn(n,s){if(1&n&&(e.TgZ(0,"teacher-layout",2),e.GkF(1,3),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(3);e.Q6J("headerBackToLink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function ma(n,s){if(1&n&&(e.TgZ(0,"student-layout",2),e.GkF(1,3),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(3);e.Q6J("headerBackToLink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}const Pe=function(n){return{"bg-primary text-white font-medium":n}};function ha(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(0))}),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"path",25)(3,"circle",26),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pe,"general"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_auto_chung")," ")}}function fa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(1))}),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"rect",28)(3,"path",29),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pe,"password"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_auto_doi_mat_khau")," ")}}function Mo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(5))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",32),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pe,"setting-unit"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auth_setting_user_unit")," ")}}function va(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(3))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",34),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pe,"share-question"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auto_danh_sach_cau_hoi_chia_se")," ")}}function qo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(4))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",36),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pe,"history-withdraw"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_test_market_withdraw_history")," ")}}function ba(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(2))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",38),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pe,"setting-role"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auth_user_setting_change_role")," ")}}function xa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(7))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",40),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(7,Pe,"setting-fingerprint-or-face"==t.modeView)),e.xp6(2),e.Q6J("name",t.enableForFace?"scan-face":"fingerprint"),e.xp6(1),e.hij(" ",t.enableForFace?e.lcZ(4,3,"lang_core_login_with_face"):e.lcZ(5,5,"lang_core_login_with_fingerprint")," ")}}function ya(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changModeView(6))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",42),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pe,"remove-account"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auto_xoa_tai_khoan")," ")}}function wa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.mobLogout())}),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"path",44)(3,"polyline",45)(4,"line",46),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()}2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"lang_auto_dang_xuat")," "))}function Qt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"setting-general",47),e.NdJ("saveUserObj",function(r){e.CHM(t);const u=e.oxw(2);return e.KtG(u.saveUserObjData(r))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("userObj",t.userObj)("isTeacherDashboard",t.isTeacherDashboard)}}function Fe(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-password"),e.qZA())}function Aa(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-role",48),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("isTeacherDashboard",t.isTeacherDashboard)("hasTeacherRole",t.hasTeacherRole)}}function Zn(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-unit"),e.qZA())}function Ca(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"view-share-question"),e.qZA())}function Uo(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"history-withdraw"),e.qZA())}function Ta(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"remove-account"),e.qZA())}function Sn(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-fingerprint-or-face",49),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checkLoginFingerprintOrFaceControl",t.checkLoginFingerprintOrFace)("enableForFace",t.enableForFace)}}const ka=function(n){return{"margin-bottom":n}};function Za(n,s){if(1&n&&(e._UZ(0,"azt-loading-effect",4),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()(),e.TgZ(7,"div",9)(8,"div",10)(9,"div",11),e.YNc(10,ha,6,6,"button",12),e.YNc(11,fa,6,6,"button",13),e.YNc(12,Mo,5,6,"button",14),e.YNc(13,va,5,6,"button",15),e.YNc(14,qo,5,6,"button",16),e.YNc(15,ba,5,6,"button",17),e.YNc(16,xa,6,9,"button",18),e.YNc(17,ya,5,6,"button",19),e.YNc(18,wa,7,3,"button",20),e.qZA()()(),e.TgZ(19,"div",21),e.YNc(20,Qt,2,2,"div",22),e.YNc(21,Fe,2,0,"div",22),e.YNc(22,Aa,2,2,"div",22),e.YNc(23,Zn,2,0,"div",22),e.YNc(24,Ca,2,0,"div",22),e.YNc(25,Uo,2,0,"div",22),e.YNc(26,Ta,2,0,"div",22),e.YNc(27,Sn,2,2,"div",22),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("hidden",!1===t.isLoading),e.xp6(5),e.hij(" ",e.lcZ(6,20,"lang_auto_cai_dat_tai_khoan")," "),e.xp6(5),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf","setting-role"==t.modeView),e.xp6(1),e.Q6J("ngIf",t.isMobileWebView&&t.isShowBiometricSetting),e.xp6(1),e.Q6J("ngIf",t.isTeacherDashboard&&t.isMobileWebView),e.xp6(1),e.Q6J("ngIf",t.isMobileWebView),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,ka,t.isMobileWebView?"200px":"0")),e.xp6(1),e.Q6J("ngIf","general"==t.modeView&&t.userObj),e.xp6(1),e.Q6J("ngIf","password"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-unit"==t.modeView),e.xp6(1),e.Q6J("ngIf","share-question"==t.modeView),e.xp6(1),e.Q6J("ngIf","history-withdraw"==t.modeView),e.xp6(1),e.Q6J("ngIf","remove-account"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-fingerprint-or-face"==t.modeView)}}let Sa=(()=>{class n extends w.Q{changModeView(t){let o=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString("/auth/account-setting/0/"+t,o?"?backTo="+encodeURIComponent(o):"")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(t){this.userObj=t}mobLogout(){this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.subscriptions.add(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(t=>{(t?.supportFace||t?.supportFingerprint)&&(this.enableForFace=t.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(t?.isOnOfOff??!1)),this.stopStatusObj()}))}ngOnInit(){this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}),super.ngOnInit()),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),(0,T.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;default:this.modeView="general"}const o=this.commonService.getMyQueryParam("modeView");o&&(this.modeView=o);let r=this.commonService.getMyQueryParam("backTo");this.backLink=r??(this.isTeacherDashboard?"/admin/dashboard":"/student/dashboard/0")})}constructor(t,o,r,u){super(),this.userService=t,this.redirectService=o,this.activeRoute=r,this.mobileWebviewService=u,this.prevData="",this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new i.NI(!1),this.enableForFace=!1,this.isShowBiometricSetting=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.K),e.Y36(F.V),e.Y36(_.gz),e.Y36(ne.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account-setting"]],features:[e.qOj],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"hidden"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"w-4","h-4","mr-2","inline-block"],["name","ruler"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","clipboard-list"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","history"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","user"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[3,"name"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","trash-2"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[3,"userObj","isTeacherDashboard","saveUserObj"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(t,o){1&t&&(e.YNc(0,kn,2,2,"teacher-layout",0),e.YNc(1,ma,2,2,"student-layout",0),e.YNc(2,Za,28,24,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf",o.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!o.isTeacherDashboard))},dependencies:[x.mk,x.O5,x.tP,x.PC,se.Q,he._,X.L,z.Nh5,Ot,Pi,gn,ji,na,$e,_a,Fr,I.bT],encapsulation:2}),n})();var Xe=g(66580);function In(n,s){if(1&n&&(e.TgZ(0,"div",5),e.GkF(1,6),e.qZA()),2&n){e.oxw();const t=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function On(n,s){if(1&n&&(e.TgZ(0,"div",5),e.GkF(1,6),e.qZA()),2&n){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function jo(n,s){1&n&&e.Hsn(0)}function Ln(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.switchModeUI("dark"))}),e.O4$(),e.TgZ(1,"svg",20),e._UZ(2,"path",21),e.qZA(),e.kcU(),e.TgZ(3,"span",22),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_che_de_toi")))}function En(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.switchModeUI("light"))}),e.O4$(),e.TgZ(1,"svg",20),e._UZ(2,"circle",24)(3,"path",25)(4,"path",26)(5,"path",27)(6,"path",28)(7,"path",29)(8,"path",30)(9,"path",31)(10,"path",32),e.qZA(),e.kcU(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()}2&n&&(e.xp6(12),e.Oqu(e.lcZ(13,1,"lang_auto_che_de_sang")))}const Pn=function(n){return[n]};function Ia(n,s){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"a",10),e.ALo(4,"navigationLocalize"),e._UZ(5,"img",11),e.ALo(6,"convertCdnLinkOfGitHub"),e.qZA()(),e.TgZ(7,"div",12),e._UZ(8,"azt-switch-language"),e.qZA(),e.TgZ(9,"div",13),e.YNc(10,Ln,6,3,"button",14),e.YNc(11,En,14,3,"button",15),e.qZA()(),e.TgZ(12,"div",16)(13,"div",17)(14,"div",18),e.GkF(15,6),e.qZA()()()()),2&n){const t=e.oxw(),o=e.MAs(4);e.xp6(3),e.Q6J("routerLink",e.VKq(9,Pn,e.lcZ(4,5,"/auth/login"))),e.xp6(2),e.Q6J("src",e.lcZ(6,7,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Q6J("ngIf","light"==t.modeUI),e.xp6(1),e.Q6J("ngIf","dark"==t.modeUI),e.xp6(4),e.Q6J("ngTemplateOutlet",o)}}function Mn(n,s){if(1&n&&(e.TgZ(0,"div",7)(1,"div",16)(2,"div",17)(3,"div",18),e.GkF(4,6),e.qZA()()()()),2&n){e.oxw();const t=e.MAs(4);e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}const qn=["*"];let De=(()=>{class n extends w.Q{switchModeUI(t){let o=document.getElementById("azota-app-html");this.modeUI=t,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(o.classList.remove("dark"),o.classList.add("light")):(o.classList.remove("light"),o.classList.add("dark"))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(t){super(),this.browserStorageService=t,this.modeUI="",this.initStatusObj()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Mt.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["auth-layout"]],features:[e.qOj],ngContentSelectors:qn,decls:9,vars:2,consts:[[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"p-5","box","mx-auto","w-full",2,"max-width","500px"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,In,2,1,"div",1),e.YNc(2,On,2,1,"div",1),e.qZA(),e.YNc(3,jo,1,0,"ng-template",null,2,e.W1O),e.YNc(5,Ia,16,11,"ng-template",null,3,e.W1O),e.YNc(7,Mn,5,1,"ng-template",null,4,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.isMobileWebView&&!o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",o.isMobileWebView&&!o.statusObj.loading))},dependencies:[_.rH,x.O5,x.tP,Xe.x,I.MR,I.bT,I.Jc],encapsulation:2}),n})();function xe(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_email")," "))}function Oa(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function Un(n,s){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,xe,3,3,"span",2),e.YNc(2,Oa,3,3,"span",2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.email||t.form.controls.email.errors.pattern)}}function La(n,s){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,t.statusObj.errorMessage))}}function jn(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",13)(2,"g",14)(3,"g",15),e._UZ(4,"circle",16),e.TgZ(5,"path",17),e._UZ(6,"animateTransform",18),e.qZA()()()()())}function Qo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",7)(2,"div",8),e._UZ(3,"input",9),e.ALo(4,"mytranslate"),e.YNc(5,Un,3,2,"div",10),e.YNc(6,La,4,3,"div",10),e.qZA(),e.TgZ(7,"div",3)(8,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmEmail())}),e.YNc(9,jn,7,0,"span",2),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.s9C("placeholder",e.lcZ(4,7,"lang_auto_nhap_email_moi")),e.xp6(2),e.Q6J("ngIf",t.form.controls.email.errors&&t.form.controls.email.dirty),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(2),e.Q6J("disabled",t.statusObj.loading||t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(11,9,"lang_auto_tiep_tuc")," ")}}function Qn(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",19)(2,"div",20)(3,"p",21),e._uU(4),e.ALo(5,"mytranslate"),e.TgZ(6,"b"),e._uU(7),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.xp6(3),e.Oqu(t.oldEmail),e.xp6(1),e.hij(" ",e.lcZ(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let Nn=(()=>{class n extends w.Q{confirmEmail(){this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeEmailPost({newEmail:this.form.controls.email.value}).subscribe(o=>{1==o.success?(this.oldEmail=o.data?.value??"",this.successStatusObj(),this.step=2):this.errorStatusObj(o.message??"")})))}backToRedirect(){let t=this.getMyQueryParam("return_url");t&&this.myNavigation(t)}ngOnInit(){this.form=this.formBuilder.group({email:new i.p4("",[i.kI.required,i.kI.email,i.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)])}),this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o,r){super(),this.redirectByRoleService=t,this.formBuilder=o,this.userInfoService=r,this.form=new i.nJ({}),this.step=1,this.oldEmail=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ae.E),e.Y36(i.QS),e.Y36(H.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-account"]],features:[e.qOj],decls:13,vars:8,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","email","formControlName","email",1,"form-control",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","w-full",3,"disabled","click"],[1,"text-xs","text-danger","font-medium","mt-1"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,Qo,12,11,"div",2),e.YNc(6,Qn,10,7,"div",2),e.TgZ(7,"div",3)(8,"a",4),e.NdJ("click",function(){return o.backToRedirect()}),e.O4$(),e.TgZ(9,"svg",5),e._UZ(10,"polyline",6),e.qZA(),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_doi_email_moi")," "),e.xp6(3),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&2==o.step),e.xp6(5),e.hij(" ",e.lcZ(12,6,"lang_auto_quay_lai")," "))},dependencies:[x.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,ke.M,De,I.bT],encapsulation:2}),n})(),Rn=(()=>{class n extends w.Q{get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")??""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(t=>{if(1==t.success){let o=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+t?.data?.app;window.location.href=o.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(t){super(),this.userInfoService=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-checking-service"]],features:[e.qOj],decls:4,vars:3,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e._UZ(1,"span",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&t&&(e.xp6(2),e.hij("\xa0 ",e.lcZ(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[I.bT],encapsulation:2}),n})();function Fn(n,s){1&n&&e._UZ(0,"azt-loading-effect")}let No=(()=>{class n extends w.Q{chooseRegisterStudent(){let t=this.commonService.getMyQueryParam("return_url");t&&(t.includes("/vi")||t.includes("/en"))&&(t=t.substring(3)),this.myNavigation(t||"/student/dashboard/0")}chooseRegisterTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{if(1==t.success){let o=this.commonService.getMyQueryParam("return_url");o&&(o.includes("/vi")||o.includes("/en"))&&(o=o.substring(3)),this.myNavigation(o||"/admin/dashboard")}else this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,o){super(),this.userInfoService=t,this.redirectByRoleService=o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.$C),e.Y36(Ae.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-download-answer-sheet"]],features:[e.qOj],decls:30,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"convertCdnLinkOfGitHub"),e.TgZ(8,"h3",7),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9),e.YNc(13,Fn,1,0,"azt-loading-effect",10),e.TgZ(14,"div",11),e.NdJ("click",function(){return o.chooseRegisterStudent()}),e.TgZ(15,"div",12),e.O4$(),e.TgZ(16,"svg",13),e._UZ(17,"path",14)(18,"path",15),e.qZA(),e.kcU(),e.TgZ(19,"p"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()(),e.TgZ(22,"div",16),e.NdJ("click",function(){return o.chooseRegisterTeacher()}),e.TgZ(23,"div",12),e._UZ(24,"img",17),e.ALo(25,"convertCdnLinkOfGitHub"),e.TgZ(26,"p"),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()()()()()(),e._UZ(29,"div",2),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("src",e.lcZ(7,6,"azota_assets/images/logo.svg"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(10,8,"lang_auto_chon_vai_tro")),e.xp6(4),e.Q6J("ngIf",o.statusObj.loading),e.xp6(7),e.Oqu(e.lcZ(21,10,"lang_auto_toi_la_hoc_sinh")),e.xp6(4),e.Q6J("src",e.lcZ(25,12,"azota_assets/images/teacher.png"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(28,14,"lang_auto_toi_la_giao_vien")))},dependencies:[x.O5,se.Q,I.bT,I.Jc],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),n})();var Nt=g(39657);let Ea=(()=>{class n extends w.Q{getData(t){this.subscriptions.add(this.userInfoService.apiUserInfoConfirmPassFromEmailPost({secret:t}).subscribe(r=>{1==r.success?(this.showSuccessSnack("lang_auto_doi_email_thanh_cong"),this.getInfo()):(this.errorStatusObj(r.message??"",!0),this.myNavigation("/auth/login"))}))}getInfo(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoInfoGet().subscribe(t=>{if(1==t.success){let o=t.data;o&&(this.userService.saveUserObj(o),this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole("")),this.successStatusObj()}else this.errorStatusObj(t.message??"")}))}ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmChangeEmail(){let t=this.commonService.getMyQueryParam("secret");t?this.getData(t):this.showErrorSnack("lang_auto_vui_long_truy_cap_link_duoc_gui_den_email_cua_ban")}constructor(t,o,r,u){super(),this.userInfoService=t,this.userService=o,this.redirectByRoleService=r,this.localStorageObject=u}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.$C),e.Y36(Y.K),e.Y36(Ae.E),e.Y36(Nt.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-email"]],features:[e.qOj],decls:28,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],[1,"p-0","mt-2","mb-2"],[1,"card-body"],[1,"card-text"],[1,"flex","mt-3",2,"justify-content","space-between"],["azt-track-service","confirm-change-email-UgUOGI7866","mat-stroked-button","",2,"width","45%",3,"click"],["azt-track-service","confirm-change-email-hppBkbJfeV","mat-stroked-button","",1,"btn-azt-primary",2,"width","45%","margin-left","15px",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.ALo(8,"convertCdnLinkOfGitHub"),e.TgZ(9,"h3",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9)(13,"p",10),e._uU(14),e.ALo(15,"mytranslate"),e.ALo(16,"mytranslate"),e.ALo(17,"mytranslate"),e.ALo(18,"mytranslate"),e.ALo(19,"mytranslate"),e.qZA(),e.TgZ(20,"div",11)(21,"button",12),e.NdJ("click",function(){return o.ignoreRequest()}),e._uU(22),e.ALo(23,"mytranslate"),e.qZA(),e.TgZ(24,"button",13),e.NdJ("click",function(){return o.confirmChangeEmail()}),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()()()()(),e._UZ(27,"div",3),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("src",e.lcZ(8,9,"azota_assets/images/logo.svg"),e.LSH),e.xp6(3),e.hij(" ",e.lcZ(11,11,"lang_auto_xac_nhan_doi_email_moi")," "),e.xp6(4),e.xDo(" ",e.lcZ(15,13,"lang_auto_ban_vua_yeu_cau_thay_doi_email_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.lcZ(16,15,"lang_auto_xac_nhan"),'" ',e.lcZ(17,17,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.lcZ(18,19,"lang_auto_huy"),'" ',e.lcZ(19,21,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.xp6(8),e.hij(" ",e.lcZ(23,23,"lang_cms_common_close_btn")," "),e.xp6(3),e.hij(" ",e.lcZ(26,25,"lang_cms_common_confirm_btn")," "))},dependencies:[rt.lW,I.bT,I.Jc],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),n})();function Dn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.ALo(6,"mytranslate"),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",14)(9,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.ignoreRequest())}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmPassword())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(2),e.xDo(" ",e.lcZ(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.lcZ(4,9,"lang_auto_xac_nhan"),'" ',e.lcZ(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.lcZ(6,13,"lang_auto_huy"),'" ',e.lcZ(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.xp6(8),e.hij(" ",e.lcZ(11,17,"lang_cms_common_close_btn")," "),e.xp6(3),e.hij(" ",e.lcZ(14,19,"lang_cms_common_confirm_btn")," "))}function Ro(n,s){1&n&&(e.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}const zn=function(n){return[n]},Pa=function(){return{user_click:"true"}};function Bn(n,s){1&n&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",24)(5,"div",25)(6,"a",26),e.ALo(7,"localize"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(10,zn,e.lcZ(7,6,"/auth/login")))("queryParams",e.DdM(12,Pa)),e.xp6(2),e.Oqu(e.lcZ(9,8,"lang_auto_dang_nhap_tai_khoan")))}function Fo(n,s){if(1&n&&(e.TgZ(0,"div",22)(1,"div",27),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.lnq(" ",e.lcZ(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",e.lcZ(4,5,t.hasErrorMessage),"",e.lcZ(5,7,"lang_auto__vui_long_thu_lai_sau")," ")}}function Jn(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Bn,10,13,"div",20),e.YNc(2,Fo,6,9,"ng-template",null,21,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.hasErrorMessage)("ngIfElse",t)}}let Ma=(()=>{class n extends w.Q{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var o={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(o).subscribe(r=>{1==r.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=r.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o){super(),this.redirectByRoleService=t,this.smsService=o,this.form=new i.nJ({}),this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ae.E),e.Y36(H.tr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password-email"]],features:[e.qOj],decls:17,vars:7,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7)(8,"span",8),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()(),e.TgZ(11,"div",9)(12,"div"),e.YNc(13,Dn,15,21,"div",10),e.qZA(),e.YNc(14,Ro,6,3,"div",11),e.YNc(15,Jn,4,2,"div",11),e.qZA()()(),e._UZ(16,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(8),e.Oqu(e.lcZ(10,5,"lang_auto_doi_mat_khau_moi")),e.xp6(4),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&2==o.step))},dependencies:[_.rH,x.O5,i._Y,i.JL,rt.lW,i.sg,y.lO,I.bT],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),n})();var bt=g(33182),xt=g(60752),Do=g(47394);let zo=(()=>{class n{get windowRef(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const qa=["verifyCode"];function Ua(n,s){1&n&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function ja(n,s){if(1&n&&(e.TgZ(0,"div",7)(1,"label",32),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function Bo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.resendCode())}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_khong_nhan_duoc_ma_xac_thuc")," "),e.xp6(3),e.Oqu(e.lcZ(5,4,"lang_auto_gui_lai")))}function Qa(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",35),e._uU(2,"\xa0"),e.qZA())}const Yn=function(n){return{"margin-left":n}};let Yo=(()=>{class n extends w.Q{getInitApp(){return this.app}getAuthApp(){return(0,xt.v0)(this.app)}getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}get firebaseApp(){return this.commonService.getMyQueryParam("app_name")??""}get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}skipVerifyPhone(){var t=Math.round((new Date).getTime()/1e3);if(this.browserStorageService.saveSimpleStorage("skip_verify_phone",t.toString()),this.redirectByRoleService.redirectLoginByRole(""),"confirm_phone_register"==this.getConfirmType())this.commonService.myNavigation("/admin/student/manage-class/0");else{let r=this.getMyQueryParam("return_url")??"";this.commonService.myNavigation(r)}}handleConfirmUsage(){const t=this.form.value.phone;let o=this.getConfirmType();if(""!=t)switch(o){case"forgot_password":this.userInfoService.apiUserInfoCheckPhoneExistsGet(t).subscribe(r=>{1==r.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())});break;case"change_phone":this.userInfoService.apiUserInfoCheckPhoneExistsGet(t).subscribe(r=>{1!=r.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_core_duplicated_phone"),this.reRenderCaptcha())});break;default:this.userInfoService.apiUserInfoCheckUpdatePhoneExistsGet(t).subscribe(r=>{1!=r.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())})}else this.showErrorSnack("lang_auto_vui_long_nhap_so_dien_thoai"),this.reRenderCaptcha()}sendLoginCode(t){const o=this.windowRef.recaptchaVerifier;(0,xt.$g)(this.getAuthApp(),t,o).then(r=>{this.windowRef.confirmationResult=r,this.smsSent=!0,this.timeOut=180,this.countDownTime()}).catch(r=>{console.log(r),"auth/quota-exceeded"==r.code?this.userInfoService.apiUserInfoFirebaseOverQuotaGet(this.firebaseApp).subscribe(u=>{1==u.success?this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(m=>{if(1==m.success)if(m?.data?.app!==this.firebaseApp){var f=this.commonService.getMyQueryParam("interval_app");if(f&&f!=m?.data?.app){f=f||(m?.data?.app??"");let b=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+m?.data?.app+"&interval_app="+f;window.location.href=b.toString()}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN")}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN");else this.showErrorSnack("lang_auto_khong_lay_duoc_thong_tin_FirebaseApp")}):this.showErrorSnack("lang_auto_khong_danh_dau_duoc_firebase_het_quoata")}):(this.smsSent=!1,this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(u=>{this.showErrorSnack(u+" | "+r.code)}))})}verify_code(t){this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(t).then(o=>{this.isVerifying=!1;const r=o.user;let u=this.getConfirmType();"forgot_password"===u?this.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+this.firebaseApp+"&token="+encodeURIComponent(r.accessToken)):this.userInfoService.apiUserInfoUpdatePhoneOrPasswordByFirebasePost({firebaseToken:r.accessToken,password:"",appName:this.firebaseApp}).subscribe(f=>{1==f.success?(this.showSuccessSnack("lang_auto_cap_nhat_so_dien_thoai_thanh_cong"),"confirm_phone_register"==u?this.commonService.myNavigation("/admin/student/manage-class/0"):this.redirectByRoleService.redirectLoginByRole("")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(b=>{this.showErrorSnack(b+" | "+f.message)})})}).catch(o=>{console.log(o),this.isVerifying=!1,this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(r=>{this.showErrorSnack(r+" | "+o.code)})})):(this.isVerifying=!1,this.showErrorSnack("lang_auto_ma_xac_thuc_khong_dung_vui_long_kiem_tra_lai"))}resendCode(){this.reRenderCaptcha(),document.getElementById("recaptcha-container")?.click()}countDownTime(){void 0!==this.myCountDown&&clearInterval(this.myCountDown),this.myCountDown=window.setInterval(()=>{this.timeOut>0&&this.timeOut--},1e3)}initForm(){this.form=this.formBuilder.group({phone:["",[i.kI.required,i.kI.minLength(10),i.kI.maxLength(10),i.kI.pattern(/^[0-9]*$/)]]})}handleClickLogout(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.redirectByRoleService.redirectLoginByRole(""):(this.userService.logout(),this.redirectService.redirectSimpleLogin())}reRenderCaptcha(){}handleEnterVerify(t,o){"Enter"==t.key&&this.verify_code(o)}ngOnInit(){this.initForm();let t=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=t&&this.userInfoService.apiUserInfoInfoGet().subscribe(o=>{1==o.success?1==o?.new_user?.isVerifyPhone?"change_phone"!=t&&this.redirectByRoleService.redirectLoginByRole(""):o?.new_user?.phone&&o?.new_user?.phone.length<=10?this.form.setValue({phone:""}):(this.form.setValue({phone:""}),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(r=>{this.showErrorSnack(r+(o.message?" | "+o.message:""))})}),t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}super.ngOnInit()}ngAfterViewInit(){if(this.windowRef=this.window.windowRef,this.windowRef.recaptchaVerifier=new xt.lI("recaptcha-container",{size:"invisible",callback:()=>{this.handleConfirmUsage()}},this.getAuthApp()),this.windowRef.recaptchaVerifier.render().then(t=>{this.windowRef.recaptchaWidgetId=t}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",o=>this.handleEnterVerify(o,t))}}constructor(t,o,r,u,m,f,b,k){super(),this.formBuilder=t,this.window=o,this.redirectByRoleService=r,this.userService=u,this.userInfoService=m,this.redirectService=f,this.browserStorageService=b,this.gaService=k,this.subscriptions=new Do.w0,this.form=new i.nJ({}),this.confirm_type="forgot_password",this.isVerifying=!1,this.smsSent=!1,this.timeOut=180,this.captchaWidgetId="",this.isLoading=!0,this.app=(0,bt.ZF)(E.N[`firebaseConfig_${this.firebaseApp}`],"confirm_account"),this.getAuthApp().useDeviceLanguage()}ngOnDestroy(){if(clearInterval(this.myCountDown),this.verifyCode){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",o=>this.handleEnterVerify(o,t))}super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(zo),e.Y36(Ae.E),e.Y36(Y.K),e.Y36(H.$C),e.Y36(F.V),e.Y36(Mt.z),e.Y36(Ve.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-account"]],viewQuery:function(t,o){if(1&t&&e.Gf(qa,5),2&t){let r;e.iGM(r=e.CRH())&&(o.verifyCode=r.first)}},features:[e._Bn([zo]),e.qOj],decls:56,vars:45,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"card-body","mt-2"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group"],["id","phoneInput","type","text","formControlName","phone","name","phone","autocomplete","off",1,"form-control",3,"placeholder"],["phoneInput",""],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],["id","recaptcha-container",1,"btn","btn-primary","w-full","mt-3",3,"disabled"],[1,"mt-3","mb-2","text-center"],["azt-track-service","confirm_account-_jpaWEGGur",1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],[1,"input-group","mb-3"],["type","string","autocomplete","off",1,"form-control",3,"placeholder"],["verifyCode",""],[1,"input-group-append","ml-1"],["azt-track-service","confirm_account-S4DltugIno","id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-left","mt-3"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c456","","_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["azt-track-service","confirm_account-kCDyjoqLEl",1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"auth-layout")(1,"div",0)(2,"h2",1),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"div",9),e._UZ(14,"input",10,11),e.ALo(16,"mytranslate"),e.qZA(),e.YNc(17,Ua,3,3,"div",12),e.TgZ(18,"button",13),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",14)(22,"a",15),e.NdJ("click",function(){return o.skipVerifyPhone()}),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()()(),e.YNc(25,ja,4,3,"div",16),e.qZA()(),e.TgZ(26,"div",17)(27,"div",8)(28,"div",18),e._uU(29),e.ALo(30,"mytranslate"),e.TgZ(31,"b"),e._uU(32),e.qZA(),e._uU(33),e.ALo(34,"mytranslate"),e.qZA(),e.TgZ(35,"div",19),e._uU(36),e.qZA(),e.YNc(37,Bo,6,6,"div",20),e.TgZ(38,"div",21),e._UZ(39,"input",22,23),e.ALo(41,"mytranslate"),e.TgZ(42,"div",24)(43,"button",25),e.NdJ("click",function(){e.CHM(r);const m=e.MAs(40);return e.KtG(o.verify_code(m.value))}),e.YNc(44,Qa,3,0,"span",26),e._uU(45),e.ALo(46,"mytranslate"),e.qZA()()()()()(),e._UZ(47,"hr"),e.TgZ(48,"div",27)(49,"a",28),e.NdJ("click",function(){return o.handleClickLogout()}),e.O4$(),e.TgZ(50,"svg",29),e._UZ(51,"polyline",30),e.qZA(),e._uU(52),e.ALo(53,"mytranslate"),e.ALo(54,"mytranslate"),e.ALo(55,"mytranslate"),e.qZA()()()()()}if(2&t){const r=e.MAs(40);e.xp6(3),e.hij(" ","change_phone"==o.confirm_type?e.lcZ(4,19,"lang_auto_doi_so_diem_thoai_moi"):e.lcZ(5,21,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(43,Yn,o.smsSent?"-100%":"0")),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(4),e.s9C("placeholder",e.lcZ(16,23,"lang_auto_nhap_so_dien_thoai_moi")),e.xp6(3),e.Q6J("ngIf",(o.form.controls.phone.dirty||o.form.controls.phone.touched)&&o.form.controls.phone.errors),e.xp6(1),e.Q6J("disabled",o.form.errors),e.xp6(1),e.hij(" ",e.lcZ(20,25,"lang_auto_tiep_tuc")," "),e.xp6(4),e.Oqu(e.lcZ(24,27,"lang_auto_bo_qua")),e.xp6(2),e.Q6J("ngIf",o.statusObj.errorMessage),e.xp6(4),e.hij(" ",e.lcZ(30,29,"lang_auto_mot_tin_nhan_chua_ma_xac_thuc_vua_duoc_gui_toi_so_dien_thoai")," "),e.xp6(3),e.Oqu(o.form.value.phone),e.xp6(1),e.hij("",e.lcZ(34,31,"lang_auto__vui_long_nhap_ma_nay_vao_o_duoi_day_roi_an_xac_thuc")," "),e.xp6(3),e.hij("",o.timeOut," s"),e.xp6(1),e.Q6J("ngIf",0==o.timeOut),e.xp6(2),e.s9C("placeholder",e.lcZ(41,33,"lang_auto_ma_xac_thuc")),e.xp6(4),e.Q6J("disabled",""==r.value||o.isVerifying),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(46,35,"lang_auto_xac_thuc")," "),e.xp6(7),e.hij(" ","forgot_password"==o.confirm_type?e.lcZ(53,37,"lang_auto_dang_nhap_tai_khoan"):"change_phone"==o.confirm_type?e.lcZ(54,39,"lang_auto_quay_lai_man_hinh_chinh"):e.lcZ(55,41,"lang_auto_dang_xuat")," ")}},dependencies:[x.O5,x.PC,i._Y,i.Fj,i.JJ,i.JL,rt.lW,i.sg,i.u,ke.M,De,I.bT],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),n})();function Gn(n,s){1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Na(n,s){if(1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.msgError)}}function Vn(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",32),e._UZ(2,"path",33)(3,"circle",34),e.qZA()())}function Ra(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",32),e._UZ(2,"path",35)(3,"path",36)(4,"path",37)(5,"line",38),e.qZA()())}function Kn(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Go(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Wn(n,s){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Kn,3,3,"span",3),e.YNc(2,Go,3,3,"span",3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}function Fa(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",39)(1,"g",40)(2,"g",41),e._UZ(3,"circle",42),e.TgZ(4,"path",43),e._UZ(5,"animateTransform",44),e.qZA()()()())}const et=function(n){return[n]},Da=function(n){return{return_url:n}},Rt=function(){return{user_click:"true"}};function Hn(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"input",6),e.NdJ("input",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkValidateUser(r.form.controls.emailOrPhone.value))}),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,Gn,4,3,"div",7),e.YNc(6,Na,3,1,"div",7),e.qZA(),e.TgZ(7,"div",8),e._UZ(8,"input",9),e.ALo(9,"mytranslate"),e.TgZ(10,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePassword())}),e.YNc(11,Vn,4,0,"span",3),e.YNc(12,Ra,6,0,"span",3),e.qZA(),e.YNc(13,Wn,3,2,"div",7),e.qZA()(),e.TgZ(14,"div",11)(15,"a",12),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",13)(19,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changePassword())}),e.YNc(20,Fa,6,0,"svg",15),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()(),e.TgZ(23,"div",16)(24,"span",17),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()(),e.TgZ(27,"div",18)(28,"button",19),e.ALo(29,"localize"),e.O4$(),e.TgZ(30,"svg",20),e._UZ(31,"path",21)(32,"path",22)(33,"path",23)(34,"path",24)(35,"line",25),e.qZA(),e.kcU(),e.TgZ(36,"span",26),e._uU(37),e.ALo(38,"mytranslate"),e.qZA()()(),e.TgZ(39,"div",27)(40,"a",28),e.ALo(41,"localize"),e.O4$(),e.TgZ(42,"svg",29),e._UZ(43,"polyline",30),e.qZA(),e._uU(44),e.ALo(45,"mytranslate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("placeholder",e.lcZ(4,19,"lang_auto_email_hoac_so_dien_thoai")),e.xp6(2),e.Q6J("ngIf",t.form.controls.emailOrPhone.errors&&(t.form.controls.emailOrPhone.dirty||t.form.controls.emailOrPhone.touched)&&!t.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",t.checkValidateUsername),e.xp6(2),e.s9C("type",t.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(9,21,"lang_auto_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(3),e.hij(" ",e.lcZ(17,23,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(22,25,"lang_auto_tiep_tuc")," "),e.xp6(4),e.hij(" ",e.lcZ(26,27,"lang_auto_hoac")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(37,et,e.lcZ(29,29,"/auth/confirm_forgot_password_qr")))("queryParams",e.VKq(39,Da,t.backLink)),e.xp6(9),e.hij(" ",e.lcZ(38,31,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(41,et,e.lcZ(41,33,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(43,Rt)),e.xp6(4),e.hij(" ",e.lcZ(45,35,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Vo(n,s){if(1&n&&(e.TgZ(0,"div",48)(1,"a",53),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("href","sms:"+t.phone_send+(t.isCheckIos?"&":"?")+"body=MK "+(null==t.response_change_pass?null:t.response_change_pass.otp),e.LSH),e.xp6(1),e.Oqu(e.lcZ(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets"))}}function Ko(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeStepByNext())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_tiep_tuc")," "))}function za(n,s){if(1&n&&(e.TgZ(0,"div",55),e.O4$(),e.TgZ(1,"svg",56)(2,"g",40)(3,"g",41),e._UZ(4,"circle",42),e.TgZ(5,"path",43),e._UZ(6,"animateTransform",44),e.qZA()()()(),e.kcU(),e.TgZ(7,"div",55),e._uU(8),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(8),e.Oqu(t.currentMessage)}}function Ba(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45)(2,"div",26),e._uU(3),e.ALo(4,"mytranslate"),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"div",46)(10,"strong"),e._uU(11),e.qZA(),e._uU(12),e.ALo(13,"mytranslate"),e.TgZ(14,"strong"),e._uU(15),e.qZA()(),e.YNc(16,Vo,4,4,"div",47),e.TgZ(17,"div",48),e._uU(18),e.ALo(19,"mytranslate"),e.qZA(),e.TgZ(20,"div",48),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"div",49),e.YNc(24,Ko,3,3,"button",50),e.YNc(25,za,9,1,"div",51),e.qZA()(),e.TgZ(26,"div",27)(27,"a",52),e.ALo(28,"localize"),e.O4$(),e.TgZ(29,"svg",29),e._UZ(30,"polyline",30),e.qZA(),e._uU(31),e.ALo(32,"mytranslate"),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,14,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),e.xp6(3),e.Oqu(null==t.data_change_pass?null:t.data_change_pass.phone),e.xp6(1),e.hij(" ",e.lcZ(8,16,"lang_auto_va_soan_tin_nhan"),": "),e.xp6(4),e.hij("MK ",null==t.response_change_pass?null:t.response_change_pass.otp,""),e.xp6(1),e.hij(" ",e.lcZ(13,18,"lang_auto_gui")," "),e.xp6(3),e.Oqu(t.phone_send),e.xp6(1),e.Q6J("ngIf",t.isMobileDevice),e.xp6(2),e.hij(' "',e.lcZ(19,20,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),'" '),e.xp6(3),e.hij(" ",e.lcZ(22,22,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "),e.xp6(3),e.Q6J("ngIf",2==t.step_by_step),e.xp6(1),e.Q6J("ngIf",3==t.step_by_step),e.xp6(2),e.Q6J("routerLink",e.VKq(28,et,e.lcZ(28,24,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(30,Rt)),e.xp6(4),e.hij(" ",e.lcZ(32,26,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Ja(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45)(2,"div",57),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",58)(6,"a",59),e.ALo(7,"localize"),e.O4$(),e.TgZ(8,"svg",29),e._UZ(9,"polyline",30),e.qZA(),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(10,et,e.lcZ(7,6,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(12,Rt)),e.xp6(4),e.hij(" ",e.lcZ(11,8,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Wo(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45)(2,"div",55),e.O4$(),e.TgZ(3,"svg",60),e._UZ(4,"path",61)(5,"path",62)(6,"path",63),e.qZA()(),e.kcU(),e.TgZ(7,"div",64),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"div",65),e._uU(11),e.ALo(12,"mytranslate"),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA(),e.TgZ(17,"div",58)(18,"div",66)(19,"a",67),e.ALo(20,"localize"),e.O4$(),e.TgZ(21,"svg",29),e._UZ(22,"polyline",30),e.qZA(),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(8),e.hij(" ",e.lcZ(9,7,"lang_auto_kiem_tra_email_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(12,9,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",e.lcZ(16,11,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,et,e.lcZ(20,13,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(19,Rt)),e.xp6(4),e.hij(" ",e.lcZ(24,15,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}let $n=(()=>{class n extends w.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}randomPhone(t){if(t.includes(",")){let o=t.split(",");return o[this.commonService.getRandomNumber(0,o.length-1)]}return t}togglePassword(){this.showPassword=!this.showPassword}changePassword(){if(this.form.valid){this.initStatusObj();var t=this.commonService.getFormObj(this.form),o={phone:t.emailOrPhone,password:t.password};this.smsService.apiSmsChangePassPost(o).subscribe(r=>{1==r.success?(this.successStatusObj(),t.emailOrPhone.includes("@")?this.step_by_step=5:(this.step_by_step=2,this.response_change_pass=r.data,this.data_change_pass=o)):this.errorStatusObj(r.message??"",!0)})}}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.phone_send=this.randomPhone(t.data?.phone??"")):this.errorStatusObj(t.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(t=>{this.currentMessage=t}),this.step_by_step=3,this.loop_check=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(this.data_change_pass?.phone??"").subscribe(t=>{1==t.success?(this.successStatusObj(),1==t.data?.status&&(this.step_by_step=4,clearInterval(this.loop_check))):(this.errorStatusObj(t.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(o=>{this.currentMessage=o}),clearInterval(this.loop_check))})},1e3)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}switchModeUI(t){let o=document.getElementById("azota-app-html");this.modeUI=t,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?o&&(o.classList.remove("dark"),o.classList.add("light")):o&&(o.classList.remove("light"),o.classList.add("dark"))}ngOnInit(){this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.form=this.formBuilder.group({emailOrPhone:["",[i.kI.required]],password:["",[i.kI.required,i.kI.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),super.ngOnInit()}constructor(t,o,r){super(),this.formBuilder=t,this.smsService=o,this.browserStorageService=r,this.form=new i.nJ({}),this.step_by_step=1,this.currentMessage="",this.phone_send="",this.isOnApp=!1,this.backLink="",this.isCheckIos=!1,this.checkValidateUsername=!1,this.msgError="",this.imgLanguage="",this.modeUI="",this.showPassword=!1}ngOnDestroy(){this.loop_check&&clearInterval(this.loop_check),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(H.tr),e.Y36(Mt.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[e.qOj],decls:10,vars:8,consts:[[1,"azt-forget-password"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[4,"ngIf"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M3 7V5a2 2 0 0 1 2-2h2"],["d","M17 3h2a2 2 0 0 1 2 2v2"],["d","M21 17v2a2 2 0 0 1-2 2h-2"],["d","M7 21H5a2 2 0 0 1-2-2v-2"],["x1","7","y1","12","x2","17","y2","12"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["points","15 18 9 12 15 6"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"index-x","box","p-5","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I",1,"btn-text-primary"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)",1,"w-4","h-4","mx-auto"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-16","h-16","mx-auto","text-success"],["d","M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"],["d","m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"],["d","m16 19 2 2 4-4"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"routerLink","queryParams"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"form",1)(3,"h2",2),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,Hn,46,44,"ng-container",3),e.YNc(7,Ba,33,31,"ng-container",3),e.YNc(8,Ja,12,13,"ng-container",3),e.YNc(9,Wo,25,20,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(2),e.hij(" ",e.lcZ(5,6,"lang_auto_quen_mat_khau")," "),e.xp6(2),e.Q6J("ngIf",1==o.step_by_step),e.xp6(1),e.Q6J("ngIf",2==o.step_by_step||3==o.step_by_step),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&4==o.step_by_step),e.xp6(1),e.Q6J("ngIf",5==o.step_by_step))},dependencies:[_.rH,x.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,ke.M,De,y.lO,I.bT],styles:[".btn-toggle-password[_ngcontent-%COMP%]{position:absolute;top:6px;right:0;border:none;background:transparent;z-index:99}.btn-toggle-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#757575;transition:all .5s}.btn-toggle-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{color:#434242}"]}),n})();function Ya(n,s){1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function Xn(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ga(n,s){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,Xn,3,3,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Dr(n,s){if(1&n&&(e.TgZ(0,"div",14)(1,"label",28),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function zr(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",29),e._uU(2,"\xa0"),e.qZA())}const eo=function(n){return[n]},Br=function(){return{user_click:"true"}};function Jr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.YNc(10,Ga,2,1,"div",20),e.qZA()(),e.YNc(11,Dr,4,3,"div",21),e.TgZ(12,"div",22)(13,"div",15)(14,"div",23)(15,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.form.invalid||r.statusObj.loading||r.changePassword())}),e.YNc(16,zr,3,0,"span",10),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()(),e._UZ(19,"hr"),e.TgZ(20,"div",25)(21,"a",26),e.ALo(22,"localize"),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,9,"lang_auto_mat_khau_moi")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(18,11,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,eo,e.lcZ(22,13,"/auth/login")))("queryParams",e.DdM(19,Br)),e.xp6(2),e.Oqu(e.lcZ(24,15,"lang_auto_dang_nhap_tai_khoan"))}}let Ft=(()=>{class n extends w.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}changePassword(){if(this.form.valid){var t=this.commonService.getFormObj(this.form),o=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(o??"",t.password).subscribe(r=>{1==r.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(r.message??"")}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[i.kI.required,i.kI.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o,r){super(),this.formBuilder=t,this.redirectByRoleService=o,this.userInfoService=r,this.form=new i.nJ({})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(Ae.E),e.Y36(H.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password-admin"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"convertCdnLinkOfGitHub"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,Ya,6,3,"div",10),e.YNc(14,Jr,25,20,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading))},dependencies:[_.rH,x.O5,i._Y,i.Fj,i.JJ,i.JL,rt.lW,st.Hw,i.sg,i.u,ke.M,y.lO,I.bT,I.Jc],encapsulation:2}),n})();var Dt=g(9280),ae=g(49671);const Va=(()=>{class n{constructor(t,o,r,u,m){this._legacyCanvasSize=n.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),r&&"object"==typeof r?this._onDecode=o:(console.warn(r||u||m?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=o),this._onDecodeError=(o="object"==typeof r?r:{}).onDecodeError||("function"==typeof r?r:this._onDecodeError),this._calculateScanRegion=o.calculateScanRegion||("function"==typeof u?u:this._calculateScanRegion),this._preferredCamera=o.preferredCamera||m||this._preferredCamera,this._legacyCanvasSize="number"==typeof r?r:"number"==typeof u?u:this._legacyCanvasSize,this._maxScansPerSecond=o.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let f=!1;if(t.hidden&&(t.hidden=!1,f=!0),document.body.contains(t)||(document.body.appendChild(t),f=!0),r=t.parentElement,o.highlightScanRegion||o.highlightCodeOutline){if(u=!!o.overlay,this.$overlay=o.overlay||document.createElement("div"),(m=this.$overlay.style).position="absolute",m.display="none",m.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!u&&o.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}r.insertBefore(this.$overlay,this.$video.nextSibling)}o.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let b=window.getComputedStyle(t);"none"===b.display&&(t.style.setProperty("display","block","important"),f=!0),"visible"!==b.visibility&&(t.style.setProperty("visibility","visible","important"),f=!0),f&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=n.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,ae.Z)(function*(){try{return!!(yield n.listCameras(!1)).length}catch{return!1}})()}static listCameras(t=!1){return(0,ae.Z)(function*(){if(!navigator.mediaDevices)return[];let r,o=function(){var u=(0,ae.Z)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(m=>"videoinput"===m.kind)});return function(){return u.apply(this,arguments)}}();try{t&&(yield o()).every(u=>!u.label)&&(r=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield o()).map((u,m)=>({id:u.deviceId,label:u.label||(0===m?"Default Camera":`Camera ${m+1}`)}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),n._stopVideoStream(r))}})()}hasFlash(){var t=this;return(0,ae.Z)(function*(){let o;try{if(t.$video.srcObject){if(!(t.$video.srcObject instanceof MediaStream))return!1;o=t.$video.srcObject}else o=(yield t._getCameraStream()).stream;return"torch"in o.getVideoTracks()[0].getSettings()}catch{return!1}finally{o&&o!==t.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),n._stopVideoStream(o))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var t=this;return(0,ae.Z)(function*(){t._flashOn?yield t.turnFlashOff():yield t.turnFlashOn()})()}turnFlashOn(){var t=this;return(0,ae.Z)(function*(){if(!t._flashOn&&!t._destroyed&&(t._flashOn=!0,t._active&&!t._paused))try{if(!(yield t.hasFlash()))throw"No flash available";yield t.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(o){throw t._flashOn=!1,o}})()}turnFlashOff(){var t=this;return(0,ae.Z)(function*(){t._flashOn&&(t._flashOn=!1,yield t._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),n._postWorkerMessage(this._qrEnginePromise,"close")}start(){var t=this;return(0,ae.Z)(function*(){if(t._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!t._active||t._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),t._active=!0,!document.hidden))if(t._paused=!1,t.$video.srcObject)yield t.$video.play();else try{let{stream:o,facingMode:r}=yield t._getCameraStream();!t._active||t._paused?n._stopVideoStream(o):(t._setVideoMirror(r),t.$video.srcObject=o,yield t.$video.play(),t._flashOn&&(t._flashOn=!1,t.turnFlashOn().catch(()=>{})))}catch(o){if(!t._paused)throw t._active=!1,o}})()}stop(){this.pause(),this._active=!1}pause(t=!1){var o=this;return(0,ae.Z)(function*(){if(o._paused=!0,!o._active)return!0;o.$video.pause(),o.$overlay&&(o.$overlay.style.display="none");let r=()=>{o.$video.srcObject instanceof MediaStream&&(n._stopVideoStream(o.$video.srcObject),o.$video.srcObject=null)};return t?(r(),!0):(yield new Promise(u=>setTimeout(u,300)),!!o._paused&&(r(),!0))})()}setCamera(t){var o=this;return(0,ae.Z)(function*(){t!==o._preferredCamera&&(o._preferredCamera=t,yield o._restartVideoStream())})()}static scanImage(t,o,r,u,m=!1,f=!1){return(0,ae.Z)(function*(){let b,k=!1;o&&("scanRegion"in o||"qrEngine"in o||"canvas"in o||"disallowCanvasResizing"in o||"alsoTryWithoutScanRegion"in o||"returnDetailedScanResult"in o)?(b=o.scanRegion,r=o.qrEngine,u=o.canvas,m=o.disallowCanvasResizing||!1,f=o.alsoTryWithoutScanRegion||!1,k=!0):console.warn(o||r||u||m||f?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),o=!!r;try{let q,K,Se;if([r,q]=yield Promise.all([r||n.createQrEngine(),n._loadImage(t)]),[u,K]=n._drawToCanvas(q,b,u,m),r instanceof Worker){let te=r;o||n._postWorkerMessageSync(te,"inversionMode","both"),Se=yield new Promise((we,ze)=>{let Be,Je,Ne,pt=-1;Je=Ce=>{Ce.data.id===pt&&(te.removeEventListener("message",Je),te.removeEventListener("error",Ne),clearTimeout(Be),null!==Ce.data.data?we({data:Ce.data.data,cornerPoints:n._convertPoints(Ce.data.cornerPoints,b)}):ze(n.NO_QR_CODE_FOUND))},Ne=Ce=>{te.removeEventListener("message",Je),te.removeEventListener("error",Ne),clearTimeout(Be),ze("Scanner error: "+(Ce?Ce.message||Ce:"Unknown Error"))},te.addEventListener("message",Je),te.addEventListener("error",Ne),Be=setTimeout(()=>Ne("timeout"),1e4);let _e=K.getImageData(0,0,u.width,u.height);pt=n._postWorkerMessageSync(te,"decode",_e,[_e.data.buffer])})}else Se=yield Promise.race([new Promise((te,we)=>window.setTimeout(()=>we("Scanner error: timeout"),1e4)),(0,ae.Z)(function*(){try{var[te]=yield r.detect(u);if(!te)throw n.NO_QR_CODE_FOUND;return{data:te.rawValue,cornerPoints:n._convertPoints(te.cornerPoints,b)}}catch(we){if(/not implemented|service unavailable/.test(te=we.message||we))return n._disableBarcodeDetector=!0,n.scanImage(t,{scanRegion:b,canvas:u,disallowCanvasResizing:m,alsoTryWithoutScanRegion:f});throw`Scanner error: ${te}`}})()]);return k?Se:Se.data}catch(q){if(!b||!f)throw q;let K=yield n.scanImage(t,{qrEngine:r,canvas:u,disallowCanvasResizing:m});return k?K:K.data}finally{o||n._postWorkerMessage(r,"close")}})()}setGrayscaleWeights(t,o,r,u=!0){n._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:o,blue:r,useIntegerApproximation:u})}setInversionMode(t){n._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static createQrEngine(t){return(0,ae.Z)(function*(){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>g.e(663).then(g.bind(g,23663)).then(r=>r.createWorker()),n._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return t();let o=navigator.userAgentData;return o&&o.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(o.platform)&&(yield o.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:u})=>/arm/i.test(r||"arm")&&13<=parseInt(u||"13")).catch(()=>!0))?t():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let o=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-o)/2),y:Math.round((t.videoHeight-o)/2),width:o,height:o,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,o=t.videoWidth,r=t.videoHeight,u=t.offsetWidth,m=t.offsetHeight,f=t.offsetLeft,b=t.offsetTop,k=window.getComputedStyle(t),q=k.objectFit,K=o/r,Se=u/m;switch(q){case"none":var te=o,we=r;break;case"fill":te=u,we=m;break;default:("cover"===q?K>Se:K<Se)?te=(we=m)*K:we=(te=u)/K,"scale-down"===q&&(te=Math.min(te,o),we=Math.min(we,r))}var[ze,Be]=k.objectPosition.split(" ").map((Ne,pt)=>{const _e=parseFloat(Ne);return Ne.endsWith("%")?(pt?m-we:u-te)*_e/100:_e});Se=this._scanRegion.height||r,q=this._scanRegion.x||0;var Je=this._scanRegion.y||0;(K=this.$overlay.style).width=(k=this._scanRegion.width||o)/o*te+"px",K.height=Se/r*we+"px",K.top=`${b+Be+Je/r*we}px`,r=/scaleX\(-1\)/.test(t.style.transform),K.left=`${f+(r?u-ze-te:ze)+(r?o-q-k:q)/o*te}px`,K.transform=t.style.transform}})}static _convertPoints(t,o){if(!o)return t;let r=o.x||0,u=o.y||0,m=o.width&&o.downScaledWidth?o.width/o.downScaledWidth:1;o=o.height&&o.downScaledHeight?o.height/o.downScaledHeight:1;for(let f of t)f.x=f.x*m+r,f.y=f.y*o+u;return t}_scanFrame(){var t=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,ae.Z)(function*(){if(!(1>=t.$video.readyState)){var o=Date.now()-t._lastScanTimestamp,r=1e3/t._maxScansPerSecond;o<r&&(yield new Promise(m=>setTimeout(m,r-o))),t._lastScanTimestamp=Date.now();try{var u=yield n.scanImage(t.$video,{scanRegion:t._scanRegion,qrEngine:t._qrEnginePromise,canvas:t.$canvas})}catch(m){if(!t._active)return;t._onDecodeError(m)}!n._disableBarcodeDetector||(yield t._qrEnginePromise)instanceof Worker||(t._qrEnginePromise=n.createQrEngine()),u?(t._onDecode?t._onDecode(u):t._legacyOnDecode&&t._legacyOnDecode(u.data),t.$codeOutlineHighlight&&(clearTimeout(t._codeOutlineHighlightRemovalTimeout),t._codeOutlineHighlightRemovalTimeout=void 0,t.$codeOutlineHighlight.setAttribute("viewBox",`${t._scanRegion.x||0} ${t._scanRegion.y||0} ${t._scanRegion.width||t.$video.videoWidth} ${t._scanRegion.height||t.$video.videoHeight}`),t.$codeOutlineHighlight.firstElementChild.setAttribute("points",u.cornerPoints.map(({x:m,y:f})=>`${m},${f}`).join(" ")),t.$codeOutlineHighlight.style.display="")):t.$codeOutlineHighlight&&!t._codeOutlineHighlightRemovalTimeout&&(t._codeOutlineHighlightRemovalTimeout=setTimeout(()=>t.$codeOutlineHighlight.style.display="none",100))}t._scanFrame()}))}_onDecodeError(t){t!==n.NO_QR_CODE_FOUND&&console.log(t)}_getCameraStream(){var t=this;return(0,ae.Z)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let o=/^(environment|user)$/.test(t._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],u=r.map(m=>Object.assign({},m,{[o]:{exact:t._preferredCamera}}));for(let m of[...u,...r])try{let f=yield navigator.mediaDevices.getUserMedia({video:m,audio:!1});return{stream:f,facingMode:t._getFacingMode(f)||(m.facingMode?t._preferredCamera:"environment"===t._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var t=this;return(0,ae.Z)(function*(){let o=t._paused;(yield t.pause(!0))&&!o&&t._active&&(yield t.start())})()}static _stopVideoStream(t){for(let o of t.getTracks())o.stop(),t.removeTrack(o)}_setVideoMirror(t){this.$video.style.transform="scaleX("+("user"===t?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,o,r,u=!1){r=r||document.createElement("canvas");let m=o&&o.x?o.x:0,f=o&&o.y?o.y:0,b=o&&o.width?o.width:t.videoWidth||t.width,k=o&&o.height?o.height:t.videoHeight||t.height;return u||(u=o&&o.downScaledWidth?o.downScaledWidth:b,o=o&&o.downScaledHeight?o.downScaledHeight:k,r.width!==u&&(r.width=u),r.height!==o&&(r.height=o)),(o=r.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,o.drawImage(t,m,f,b,k,0,0,r.width,r.height),[r,o]}static _loadImage(t){return(0,ae.Z)(function*(){if(t instanceof Image)return yield n._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(!(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t))throw"Unsupported image type.";{let o=new Image;o.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return yield n._awaitImageLoad(o),o}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(o.src)}}})()}static _awaitImageLoad(t){return(0,ae.Z)(function*(){t.complete&&0!==t.naturalWidth||(yield new Promise((o,r)=>{let u=m=>{t.removeEventListener("load",u),t.removeEventListener("error",u),m instanceof ErrorEvent?r("Image load error"):o()};t.addEventListener("load",u),t.addEventListener("error",u)}))})()}static _postWorkerMessage(t,o,r,u){return(0,ae.Z)(function*(){return n._postWorkerMessageSync(yield t,o,r,u)})()}static _postWorkerMessageSync(t,o,r,u){if(!(t instanceof Worker))return-1;let m=n._workerMessageId++;return t.postMessage({id:m,type:o,data:r},u),m}}return n.DEFAULT_CANVAS_SIZE=400,n.NO_QR_CODE_FOUND="No QR code found",n._disableBarcodeDetector=!1,n._workerMessageId=0,n})();var to=g(65619),de=g(34890),Ho=g(87384),Ze=g(24913);function Ka(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"zxing-scanner",7),e.NdJ("deviceChange",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.currentDevice=r)})("scanSuccess",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.onCodeResult(r))})("permissionResponse",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.onHasPermission(r))})("camerasFound",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.onCamerasFound(r))})("torchCompatible",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.onTorchCompatible(r))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("torch",t.torchEnabled)("device",t.currentDevice)("tryHarder",t.tryHarder)("formats",t.formatsEnabled)}}function $o(n,s){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("( ",t.contentResult," )")}}let Xo=(()=>{class n extends w.Q{constructor(t){super(),this.commonService=t,this.outContentScan=new e.vpe,this.outNotCamAllow=new e.vpe,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new to.X(!1),this.tryHarder=!1,this.formatsEnabled=[Dt.BarcodeFormat.CODE_128,Dt.BarcodeFormat.DATA_MATRIX,Dt.BarcodeFormat.EAN_13,Dt.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(t){this.availableDevices=t,this.hasDevices=!(!t||!t.length)}onCodeResult(t){this.qrResultString=t,de.K.isEncode(t)?this.switchChangeContent(de.K.decode(t)):this.switchChangeContent(null)}onDeviceSelectChange(t){const o=this.availableDevices.find(r=>r.deviceId===t);this.currentDevice=o||void 0}onHasPermission(t){this.hasPermission=t}onTorchCompatible(t){this.torchAvailable$.next(t||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(t){let u=t.target.files;if(u?.length){var m=u[0];if(!m)return;this.scanProcessSelectFile(t,m,0)}else this.switchChangeContent(null)}scanProcessSelectFile(t,o,r){Va.scanImage(o,{returnDetailedScanResult:!0}).then(u=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(u)),t.target.value="";var m=u.data;this.thatLog("onFileSelected: 1 "+m),de.K.isEncode(m)?this.switchChangeContent(de.K.decode(m)):this.switchChangeContent(null)}).catch(u=>{r>=2?(t.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(u)),this.switchChangeContent(null)):this.scanProcessSelectFile(t,o,r++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(t){this.contentResult=t,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+t),this.outContentScan.emit(this.contentResult)}thatLog(t){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+t)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ho.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[e.qOj],decls:11,vars:5,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.YNc(1,Ka,1,4,"zxing-scanner",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,$o,2,1,"span",3),e.TgZ(4,"input",4,5),e.NdJ("change",function(m){return o.onFileSelected(m)}),e.qZA(),e.TgZ(6,"a",6),e.NdJ("click",function(){e.CHM(r);const m=e.MAs(5);return e.KtG(m.click())}),e.TgZ(7,"mat-icon"),e._uU(8,"upload"),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("ngIf",o.isShowScanner),e.xp6(2),e.Q6J("ngIf",o.isShowLog),e.xp6(6),e.hij(" ",e.lcZ(10,3,"lang_auto_tai_len_ma_co_san"),""))},dependencies:[x.O5,st.Hw,Ze.S,I.bT],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();const Wa=["aztScanQrcode"];function Ha(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",38)(3,"circle",39),e.qZA()())}function $a(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",40)(3,"path",41)(4,"path",42)(5,"line",43),e.qZA()())}function no(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Xa(n,s){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,no,3,3,"div",29),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function oo(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",45)(1,"g",46)(2,"g",47),e._UZ(3,"circle",48),e.TgZ(4,"path",49),e._UZ(5,"animateTransform",50),e.qZA()()()())}function er(n,s){1&n&&(e.TgZ(0,"div",51)(1,"span",52),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ***",e.lcZ(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai")," "))}function tr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"button",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.reloadProcessForgot())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_thu_lai")," "))}function nr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e._UZ(2,"input",24),e.ALo(3,"mytranslate"),e.TgZ(4,"button",25)(5,"span",26)(6,"mat-icon"),e._uU(7,"qr_code"),e.qZA()()()(),e.TgZ(8,"div",23),e._UZ(9,"input",27),e.ALo(10,"mytranslate"),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePassword())}),e.YNc(12,Ha,4,0,"span",29),e.YNc(13,$a,6,0,"span",29),e.qZA(),e.YNc(14,Xa,2,1,"div",30),e.qZA(),e.TgZ(15,"div",31)(16,"div",32)(17,"button",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changePassword())}),e.YNc(18,oo,6,0,"svg",34),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()(),e.YNc(21,er,4,3,"div",35),e.YNc(22,tr,4,3,"div",36),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,12,"lang_auto_ma_xac_thuc")),e.uIk("disabled",!0),e.xp6(7),e.s9C("type",t.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(10,14,"lang_auto_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),e.xp6(3),e.Q6J("disabled",t.statusObj.errorMessage||t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(20,16,"lang_auto_tiep_tuc")," "),e.xp6(2),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage)}}const or=function(n){return{hidden:n}},ir=function(n){return[n]},ar=function(){return{user_click:"true"}};let ei=(()=>{class n extends w.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(t){null!==t?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:t}).subscribe(r=>{1==r.success&&1==r?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(t),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var t=this.commonService.getFormObj(this.form);this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:t.hash,password:t.password}).subscribe(r=>{0!=r.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",this.form=this.formBuilder.group({hash:["",[i.kI.required]],password:["",[i.kI.required,i.kI.minLength(6)]]}),super.ngOnInit()}constructor(t,o,r){super(),this.localStorageObject=t,this.formBuilder=o,this.qrCodeForgotPasswordService=r,this.form=new i.nJ({}),this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Nt.y),e.Y36(i.QS),e.Y36(H.qY))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],viewQuery:function(t,o){if(1&t&&e.Gf(Wa,5),2&t){let r;e.iGM(r=e.CRH())&&(o.elementZztScanQrcode=r.first)}},features:[e.qOj],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5  text-center xl:text-left",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"div",13)(20,"div",14),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"azt-scan-qrcode",15,16),e.NdJ("outContentScan",function(u){return o.outContentScan(u)}),e.qZA()(),e.YNc(25,nr,23,18,"div",17),e.qZA(),e._UZ(26,"hr"),e.TgZ(27,"div",18)(28,"div",19)(29,"a",20),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()(),e.TgZ(32,"div")(33,"a",21),e.ALo(34,"localize"),e._uU(35),e.ALo(36,"mytranslate"),e.qZA()()()()(),e._UZ(37,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("ngClass",o.stepByStep+2==1?"active":o.stepByStep+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.stepByStep+2==2?"active":o.stepByStep+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.stepByStep+2==3?"active":o.stepByStep+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),e.xp6(3),e.Q6J("ngClass",e.VKq(22,or,o.sussScanNextConf)),e.xp6(2),e.hij(" ",e.lcZ(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),e.xp6(4),e.Q6J("ngIf",o.sussScanNextConf),e.xp6(5),e.Oqu(e.lcZ(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),e.xp6(3),e.Q6J("routerLink",e.VKq(24,ir,e.lcZ(34,18,o.backLink?o.backLink:"/auth/login")))("queryParams",e.DdM(26,ar)),e.xp6(2),e.hij(" ",e.lcZ(36,20,o.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan"),""))},dependencies:[_.rH,x.mk,x.O5,i._Y,i.Fj,i.JJ,i.JL,st.Hw,i.sg,i.u,Xo,ke.M,y.lO,I.bT],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.hidden[_ngcontent-%COMP%]{display:none!important}']}),n})();var rr=g(44589);function sr(n,s){if(1&n&&(e.TgZ(0,"div",3),e.O4$(),e.TgZ(1,"svg",4),e._UZ(2,"line",5)(3,"line",6)(4,"circle",7),e.qZA(),e._uU(5),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",t.stringDuration," ")}}let zt=(()=>{class n extends w.Q{constructor(){super(...arguments),this.content="",this.width=0,this.contentNew="",this.height=0,this.expired=0,this.expiredAction=new e.vpe,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.loopDuration=setInterval(()=>{var t=Math.floor(Date.now()/1e3),r=this.expired-(t-this.startDuration);if(r<0)this.clearLoopDuration(),this.qrcode.clear(),this.expiredAction.emit();else{var u=Math.floor(r/60),m=r-60*u;this.stringDuration=(u<10?"0"+u:""+u)+" : "+(m<10?"0"+m:""+m)}},1e3)}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=de.K.encode(this.content)}onChangeURL(t){this.qrCodeDownloadLink=t}downloadQrcode(t){t||(t="azota-qr");var o=document.createElement("a");document.body.appendChild(o),o.setAttribute("href",this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity),o.setAttribute("download",t),o.click()}getTimeSaveQrcode(){var t=new Date,o=t.getMonth()+1,r=t.getDate();return[t.getFullYear(),(o>9?"":"0")+o,(r>9?"":"0")+r].join("_")}}return n.\u0275fac=function(){let s;return function(o){return(s||(s=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[e.qOj],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/Azota-For-QrCode-01.png",3,"qrdata","width","errorCorrectionLevel","qrCodeURL"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2","lucide"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,sr,6,1,"div",1),e.TgZ(2,"qrcode",2),e.NdJ("qrCodeURL",function(u){return o.onChangeURL(u)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isDuration),e.xp6(1),e.Q6J("qrdata",o.contentNew)("width",o.width)("errorCorrectionLevel","M"))},dependencies:[x.O5,rr.V],encapsulation:2}),n})();const cr=["elementCreateQr"];function io(n,s){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"azt-create-qr-image",12,13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("content",t.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function ti(n,s){if(1&n&&(e.TgZ(0,"div",14),e.O4$(),e.TgZ(1,"svg",15),e._UZ(2,"path",16)(3,"path",17)(4,"path",18)(5,"line",19),e.qZA(),e.kcU(),e.TgZ(6,"div",20),e._uU(7),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.hij(" ",t.noticeContentString," ")}}function ao(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.downloadQrCode())}),e.O4$(),e.TgZ(2,"svg",23),e._UZ(3,"path",24)(4,"polyline",25)(5,"line",26),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}2&n&&(e.xp6(6),e.hij(" ",e.lcZ(7,1,"lang_auto_tai_xuong_ma")," "))}function lr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialog())}),e.O4$(),e.TgZ(2,"svg",23),e._UZ(3,"path",28)(4,"line",29)(5,"line",30)(6,"circle",31)(7,"path",32),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()}2&n&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const ni=function(n){return[n]};function ur(n,s){1&n&&(e.TgZ(0,"a",33),e.ALo(1,"localize"),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"polyline",35),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n&&(e.Q6J("routerLink",e.VKq(6,ni,e.lcZ(1,2,"/admin/dashboard"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}function ro(n,s){1&n&&(e.TgZ(0,"a",36),e.ALo(1,"localize"),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"polyline",35),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n&&(e.Q6J("routerLink",e.VKq(6,ni,e.lcZ(1,2,"/student/dashboard/0"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}let dr=(()=>{class n extends w.Q{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?0!=t?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(o=>{this.noticeContentString=o}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(o=>{this.noticeContentString=o}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?this.contentQrcodeHash=t.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.dialog.open(so,{restoreFocus:!1}).afterClosed().subscribe(o=>{!0===o&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-forgot")}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(t,10),this.checkQrThisMe(),super.ngOnInit()}constructor(t,o,r){super(),this.dialog=t,this.activeRoute=o,this.qrCodeForgotPasswordService=r,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(le.uw),e.Y36(_.gz),e.Y36(H.qY))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gzip-tool"]],viewQuery:function(t,o){if(1&t&&e.Gf(cr,5),2&t){let r;e.iGM(r=e.CRH())&&(o.elementCreateQr=r.first)}},features:[e.qOj],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mx-auto"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"],["x1","16","y1","5","x2","22","y2","5"],["x1","19","y1","2","x2","19","y2","8"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2)(6,"div",3),e.YNc(7,io,3,4,"div",4),e.YNc(8,ti,8,1,"div",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,ao,8,3,"div",7),e.YNc(11,lr,10,3,"div",7),e.qZA()(),e.TgZ(12,"div",8),e.YNc(13,ur,6,8,"a",9),e.YNc(14,ro,6,8,"a",10),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,7,"lang_auto_qrcode_quen_mat_khau")," "),e.xp6(4),e.Q6J("ngIf",o.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!o.contentQrcodeHash&&o.noticeContentString),e.xp6(2),e.Q6J("ngIf",o.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!o.contentQrcodeHash),e.xp6(2),e.Q6J("ngIf",0==o.role),e.xp6(1),e.Q6J("ngIf",1==o.role))},dependencies:[_.rH,x.O5,zt,De,y.lO,I.bT]}),n})(),so=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["dialog-conf-content-qrcode-dialog"]],decls:41,vars:28,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","mr-2","text-pending"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16),e.qZA(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(19,"div",17)(20,"p",18),e._uU(21),e.ALo(22,"mytranslate"),e.ALo(23,"mytranslate"),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"p",19),e._uU(29),e.ALo(30,"mytranslate"),e._UZ(31,"br"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()(),e.TgZ(34,"div",20)(35,"button",21),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e.TgZ(38,"button",22),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(17),e.hij(" ",e.lcZ(18,10,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),e.xp6(4),e.lnq(" ",e.lcZ(22,12,"lang_auto_bam"),' "',e.lcZ(23,14,"lang_auto_xac_nhan"),'" ',e.lcZ(24,16,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),e.xp6(5),e.hij(" ",e.lcZ(27,18,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),e.xp6(3),e.hij(" ",e.lcZ(30,20,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(33,22,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),e.xp6(4),e.hij(" ",e.lcZ(37,24,"lang_auto_huy")," "),e.xp6(2),e.Q6J("mat-dialog-close",!0),e.xp6(1),e.hij(" ",e.lcZ(40,26,"lang_auto_xac_nhan")," "))},dependencies:[le.ZT,I.bT],encapsulation:2}),n})(),_r=(()=>{class n extends w.Q{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return n.\u0275fac=function(){let s;return function(o){return(s||(s=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"p"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"div",13)(23,"a",14),e.NdJ("click",function(){return o.redirectToHome()}),e._uU(24),e.ALo(25,"mytranslate"),e.qZA(),e.TgZ(26,"a",15),e.NdJ("click",function(){return o.redirectToCreateQrCode()}),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()()()(),e._UZ(29,"div",3),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("ngClass",o.step_by_step+2==1?"active":o.step_by_step+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.step_by_step+2==2?"active":o.step_by_step+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.step_by_step+2==3?"active":o.step_by_step+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),e.xp6(4),e.Oqu(e.lcZ(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),e.xp6(4),e.Oqu(e.lcZ(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),e.xp6(3),e.Oqu(e.lcZ(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[x.mk,I.bT],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),n})(),Bt=(()=>{class n extends w.Q{ngOnInit(){super.ngOnInit();var t=this.commonService.getMyParam(this.activeRoute,"code")?.toString(),o=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString();"teacher"==o?window.location.replace("https://aztappteacher.page.link/"+t):window.location.replace("https://azt.page.link/"+t)}constructor(t){super(),this.activeRoute=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-go-to-mobile"]],features:[e.qOj],decls:9,vars:3,consts:[[1,"centerBoth"],[1,"text-center"],["version","1.1","id","jobing-j-drawit","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 109 92.9",0,"xml","space","preserve",1,"w-12","mx-auto",2,"enable-background","new 0 0 109 92.9"],["d","M90.8,52c3.5,6.2,7.1,11.7,9.8,17.7c4.4,9.7-2.9,20.7-13.8,20.9c-11.8,0.2-23.7,0.2-35.5,0 c-11-0.1-17.6-12.2-12-21.7c0.4-0.8,1.8-1.4,2.7-1.4c9.9-0.1,19.7-0.1,29.6-0.1c9.8,0,15.9-4.6,18.7-14C90.4,53.2,90.5,52.9,90.8,52 z",1,"azt-svg-loading","jobing-j"],["d","M39.6,90.3c-6.8,0-13.8,0.8-20.5-0.2c-9.7-1.4-15-12.8-10.3-21.3c5.9-10.9,12.1-21.6,18.5-32.2 c5.5-9,18.6-8.7,24.2,0.2c0.7,1.1,0.8,1.9,0.1,3.1C46.7,48.3,42,57,36.8,65.3c-5.3,8.4-3.8,18.8,2.5,24.6 C39.5,89.9,39.5,90.2,39.6,90.3z",1,"azt-svg-loading","jobing-j"],["d","M32.5,27.3c3.3-5.7,6.1-11,9.4-16c5.9-9.1,19.4-9.2,25.1,0c6.5,10.4,12.6,21,18.3,31.7 c4.8,9-1.5,19.9-11.5,20.7c-1.6,0.1-2.6-0.2-3.5-1.8c-4.8-8.6-9.8-17.1-14.7-25.6c-4.7-8.3-12.5-11.6-21.7-9.2 C33.6,27.1,33.3,27.1,32.5,27.3z",1,"azt-svg-loading","jobing-j"],[1,"p-0","mt-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.O4$(),e.TgZ(2,"svg",2),e._UZ(3,"path",3)(4,"path",4)(5,"path",5),e.qZA(),e.kcU(),e.TgZ(6,"h3",6),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(7),e.hij("",e.lcZ(8,1,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[I.bT],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]}),n})();var co=g(81374),lo=g(78645),Jt=g(22096),Yt=g(65592),oi=g(2459),uo=g(63019),Gt=g(43093),Me=g(94664),yt=g(37398),_o=g(67081),ii=g(84674);function ai(n,s){return(0,ii.m)(s)?(0,Me.w)(()=>n,s):(0,Me.w)(()=>n)}var wt=g(85137),gr=g(32181),ct=g(54503),ci=g(36122),Kt=g(84537),Wt=g(59058),Hr=g(87879);const li=new Map,fr={activated:!1,tokenObservers:[]},vr={initialized:!1,enabled:!1};function pe(n){return li.get(n)||Object.assign({},fr)}function At(){return vr}const po="https://content-firebaseappcheck.googleapis.com/v1",yr="exchangeDebugToken",di={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ar{constructor(s,t,o,r,u){if(this.operation=s,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=r,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=r,r>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(s){var t=this;return(0,ae.Z)(function*(){t.stop();try{t.pending=new Wt.BH,yield function mo(n){return new Promise(s=>{setTimeout(s,n)})}(t.getNextRun(s)),t.pending.resolve(),yield t.pending.promise,t.pending=new Wt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(s){if(s)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ve=new Wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ct(n){if(!pe(n).activated)throw ve.create("use-before-activation",{appName:n.name})}function fo(n,s){return _i.apply(this,arguments)}function _i(){return(_i=(0,ae.Z)(function*({url:n,body:s},t){const o={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const K=yield r.getHeartbeatsHeader();K&&(o["X-Firebase-Client"]=K)}const u={method:"POST",body:JSON.stringify(s),headers:o};let m,f;try{m=yield fetch(n,u)}catch(K){throw ve.create("fetch-network-error",{originalErrorMessage:K?.message})}if(200!==m.status)throw ve.create("fetch-status-error",{httpStatus:m.status});try{f=yield m.json()}catch(K){throw ve.create("fetch-parse-error",{originalErrorMessage:K?.message})}const b=f.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ve.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const k=1e3*Number(b[1]),q=Date.now();return{token:f.token,expireTimeMillis:q+k,issuedAtTimeMillis:q}})).apply(this,arguments)}function gi(n,s){const{projectId:t,appId:o,apiKey:r}=n.options;return{url:`${po}/projects/${t}/apps/${o}:${yr}?key=${r}`,body:{debug_token:s}}}const _t="firebase-app-check-database",pi=1,kt="firebase-app-check-store";let je=null;function vo(){return(vo=(0,ae.Z)(function*(n,s){const o=(yield function hi(){return je||(je=new Promise((n,s)=>{try{const t=indexedDB.open(_t,pi);t.onsuccess=o=>{n(o.target.result)},t.onerror=o=>{var r;s(ve.create("storage-open",{originalErrorMessage:null===(r=o.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(kt,{keyPath:"compositeKey"})}}catch(t){s(ve.create("storage-open",{originalErrorMessage:t?.message}))}}),je)}()).transaction(kt,"readwrite"),u=o.objectStore(kt).put({compositeKey:n,value:s});return new Promise((m,f)=>{u.onsuccess=b=>{m()},o.onerror=b=>{var k;f(ve.create("storage-set",{originalErrorMessage:null===(k=b.target.error)||void 0===k?void 0:k.message}))}})})).apply(this,arguments)}const l=new Hr.Yd("@firebase/app-check");function h(n,s){return(0,Wt.hl)()?function Xr(n,s){return function vi(n,s){return vo.apply(this,arguments)}(function c(n){return`${n.options.appId}-${n.name}`}(n),s)}(n,s).catch(t=>{l.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function A(){return At().enabled}function S(){return N.apply(this,arguments)}function N(){return(N=(0,ae.Z)(function*(){const n=At();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ee={error:"UNKNOWN_ERROR"};function ye(n){return Wt.US.encodeString(JSON.stringify(n),!1)}function nt(n){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,ae.Z)(function*(n,s=!1){const t=n.app;Ct(t);const o=pe(t);let u,r=o.token;if(r&&!$t(r)&&(o.token=void 0,r=void 0),!r){const b=yield o.cachedTokenPromise;b&&($t(b)?r=b:yield h(t,void 0))}if(!s&&r&&$t(r))return{token:r.token};let f,m=!1;if(A()){o.exchangeTokenPromise||(o.exchangeTokenPromise=fo(gi(t,yield S()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),m=!0);const b=yield o.exchangeTokenPromise;return yield h(t,b),o.token=b,{token:b.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),m=!0),r=yield pe(t).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?l.warn(b.message):l.error(b),u=b}return r?u?f=$t(r)?{token:r.token,internalError:u}:os(u):(f={token:r.token},o.token=r,yield h(t,r)):f=os(u),m&&function ns(n,s){const t=pe(n).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=s.error?o.error(s.error):o.next(s)}catch{}}(t,f),f})).apply(this,arguments)}function gt(n){return Le.apply(this,arguments)}function Le(){return(Le=(0,ae.Z)(function*(n){const s=n.app;Ct(s);const{provider:t}=pe(s);if(A()){const o=yield S(),{token:r}=yield fo(gi(s,o),n.heartbeatServiceProvider);return{token:r}}{const{token:o}=yield t.getToken();return{token:o}}})).apply(this,arguments)}function Ht(n,s){const t=pe(n),o=t.tokenObservers.filter(r=>r.next!==s);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=o}function ts(n){const{app:s}=n,t=pe(s);let o=t.tokenRefresher;o||(o=function Ts(n){const{app:s}=n;return new Ar((0,ae.Z)(function*(){let o;if(o=pe(s).token?yield nt(n,!0):yield nt(n),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const t=pe(s);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},di.RETRIAL_MIN_WAIT,di.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=o),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function $t(n){return n.expireTimeMillis-Date.now()>0}function os(n){return{token:ye(Ee),error:n}}class ks{constructor(s,t){this.app=s,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:s}=pe(this.app);for(const t of s)Ht(this.app,t.next);return Promise.resolve()}}const ds="app-check-internal";!function Rs(){(0,ci._registerComponent)(new Kt.wA("app-check",n=>function Zs(n,s){return new ks(n,s)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,s,t)=>{n.getProvider(ds).initialize()})),(0,ci._registerComponent)(new Kt.wA(ds,n=>function Ss(n){return{getToken:s=>nt(n,s),getLimitedUseToken:()=>gt(n),addTokenListener:s=>function Qe(n,s,t,o){const{app:r}=n,u=pe(r);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:o,type:s}],u.token&&$t(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),ts(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ts(n))}(n,"INTERNAL",s),removeTokenListener:s=>Ht(n.app,s)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ci.registerVersion)("@firebase/app-check","0.8.0")}();class gs{constructor(){return(0,ct.vb)("app-check")}}typeof window<"u"&&window,g(17142);const Ys=new e.OlP("angularfire2.auth.use-emulator"),Gs=new e.OlP("angularfire2.auth.settings"),Vs=new e.OlP("angularfire2.auth.tenant-id"),Ks=new e.OlP("angularfire2.auth.langugage-code"),Ws=new e.OlP("angularfire2.auth.use-device-language"),Hs=new e.OlP("angularfire.auth.persistence");let xi=(()=>{class n{constructor(t,o,r,u,m,f,b,k,q,K,Se,te){const we=new lo.x,ze=(0,Jt.of)(void 0).pipe((0,Gt.Q)(m.outsideAngular),(0,Me.w)(()=>u.runOutsideAngular(()=>g.e(365).then(g.bind(g,26365)))),(0,yt.U)(()=>(0,J.on)(t,u,o)),(0,yt.U)(Be=>((n,s,t,o,r,u,m,f)=>(0,J.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=s.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),o&&(b.tenantId=o),b.languageCode=r,u&&b.useDeviceLanguage(),m)for(const[k,q]of Object.entries(m))b.settings[k]=q;return f&&b.setPersistence(f),b},[t,o,r,u,m,f]))(Be,u,f,k,q,K,b,Se)),(0,_o.d)({bufferSize:1,refCount:!1}));if((0,x.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Jt.of)(null);else{ze.pipe((0,co.P)()).subscribe();const Je=ze.pipe((0,Me.w)(_e=>_e.getRedirectResult().then(Ce=>Ce,()=>null)),ct.iC,(0,_o.d)({bufferSize:1,refCount:!1})),Ne=ze.pipe((0,Me.w)(_e=>new Yt.y(Ce=>({unsubscribe:u.runOutsideAngular(()=>_e.onAuthStateChanged(St=>Ce.next(St),St=>Ce.error(St),()=>Ce.complete()))})))),pt=ze.pipe((0,Me.w)(_e=>new Yt.y(Ce=>({unsubscribe:u.runOutsideAngular(()=>_e.onIdTokenChanged(St=>Ce.next(St),St=>Ce.error(St),()=>Ce.complete()))}))));this.authState=Je.pipe(ai(Ne),(0,wt.R)(m.outsideAngular),(0,Gt.Q)(m.insideAngular)),this.user=Je.pipe(ai(pt),(0,wt.R)(m.outsideAngular),(0,Gt.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(_e=>_e?(0,oi.D)(_e.getIdToken()):(0,Jt.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(_e=>_e?(0,oi.D)(_e.getIdTokenResult()):(0,Jt.of)(null))),this.credential=(0,uo.T)(Je,we,this.authState.pipe((0,gr.h)(_e=>!_e))).pipe((0,yt.U)(_e=>_e?.user?_e:null),(0,wt.R)(m.outsideAngular),(0,Gt.Q)(m.insideAngular))}return(0,J.pX)(this,ze,u,{spy:{apply:(Be,Je,Ne)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Ne.then(pt=>we.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(J.Dh),e.LFG(J.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(ct.HU),e.LFG(Ys,8),e.LFG(Gs,8),e.LFG(Vs,8),e.LFG(Ks,8),e.LFG(Ws,8),e.LFG(Hs,8),e.LFG(gs,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xs=(()=>{class n extends w.Q{constructor(t,o,r){super(),this.fireAuth=t,this.authService=o,this.redirectByRoleService=r,this.fireAuth.authState.pipe((0,co.P)()).subscribe(u=>{u?this.signInWithTokenGoogle(u):this.googleSignIn()})}signInWithTokenGoogle(t){const o=this.commonService.getMyQueryParam("type");t.getIdToken().then(r=>{let u={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:r??"",language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(u).subscribe(m=>{if(1==m.success){let b=this.commonService.getMyQueryParam("return_url")??"";if(""===b){let k=this.commonService.getMyQueryParam("backto")??"";var f=k.includes("return_url=")?k.split("return_url=")[1]:"";b=decodeURIComponent(f)}1==m.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${b}`):"0"==o?this.redirectByRoleService.redirectLoginForStudent(b):this.redirectByRoleService.redirectLoginByRole(b)}else{this.errorStatusObj(m.message??"",!0);const b=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(b)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new xt.hJ).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const o=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(o)})}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(xi),e.Y36(H.e8),e.Y36(Ae.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["login-by-openapi"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"azt-loading-ui",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("type","azota-logo"),e.xp6(2),e.hij(" ",e.lcZ(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[Et.J,I.bT],encapsulation:2}),n})(),ec=(()=>{class n extends w.Q{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(t){var o=this.userService.getUserObjFromJwtToken(t);null!=o?(this.userService.saveUserObj(o),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${this.returnUrl}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var t=this.commonService.getMyQueryParam("zaccess_token")??"",o=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=E.N.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+this.returnUrl+"&is_login=1"),!o&&t?this.loginWithAccessToken(t):o?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${this.returnUrl}&user_click=true`):this.loginZalo()}constructor(t,o,r){super(),this.redirectByRoleService=t,this.userService=o,this.gaService=r,this.returnUrl="",this.zaloLoginUrl=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ae.E),e.Y36(Y.K),e.Y36(Ve.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login-by-zalo"]],features:[e.qOj],decls:3,vars:0,consts:[[1,"azt-login-form"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0),e._UZ(2,"azt-loading-effect"),e.qZA()())},dependencies:[se.Q,De],encapsulation:2}),n})();const tc=["elementCreateQr"],nc=["aztScanQrcode"];function oc(n,s){1&n&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function ic(n,s){1&n&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function ac(n,s){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"span",27),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.AsE("\xa0",e.lcZ(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",t.nameSessionConfirm,"")}}function rc(n,s){1&n&&(e.TgZ(0,"div",26),e._UZ(1,"span",27),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0",e.lcZ(3,1,"lang_auto_dang_cho_quet_ma_qrcode"),""))}function sc(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),e.xp6(3),e.AsE("",e.lcZ(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm,"")}}function cc(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",27),e._uU(2,"\xa0 "),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function lc(n,s){if(1&n&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function uc(n,s){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function dc(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function _c(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function gc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confContentPendingLogin(1))}),e.YNc(2,dc,3,0,"span",31),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confContentPendingLogin(2))}),e.YNc(6,_c,3,0,"span",31),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,6,"lang_auto_chap_nhan")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(8,8,"lang_auto_tu_choi")," ")}}function pc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.backScanActionWithIsLogin())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_quay_lai")))}function mc(n,s){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e.YNc(3,sc,6,7,"span",31),e.qZA(),e.YNc(4,cc,6,3,"div",31),e.YNc(5,lc,2,1,"div",32),e.YNc(6,uc,2,1,"div",33),e.YNc(7,gc,9,10,"div",34),e.YNc(8,pc,4,3,"div",31),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.nameSessionConfirm),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss||!t.isConfirmBtn),e.xp6(1),e.Q6J("ngIf",t.isLogin&&!1===t.isLoadingBtn&&!0===t.isConfirmBtn)}}function hc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createRequestLoginHashCodeAction())}),e.TgZ(1,"div",46)(2,"div")(3,"mat-icon"),e._uU(4,"sync"),e.qZA()(),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,1,"lang_auto_tao_moi_ma")))}function fc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"azt-create-qr-image",47,48),e.NdJ("expiredAction",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.expiredQrcodeAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("content",t.contentCreateQrcode)("width",300)("height",300)("expired",t.durationQrcodeExpire)}}function vc(n,s){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,hc,8,3,"div",43),e.YNc(2,fc,2,4,"azt-create-qr-image",44),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.isLogin&&!t.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",t.contentCreateQrcode)}}function bc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.downloadQrCode())}),e.TgZ(1,"mat-icon"),e._uU(2,"download"),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_tai_xuong_ma"),""))}function xc(n,s){1&n&&(e.TgZ(0,"div",50)(1,"span",51),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_hoac")," "))}function yc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.switchModeView())}),e.TgZ(2,"span",53)(3,"mat-icon",54),e._uU(4,"center_focus_strong"),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"lang_auto_quet_ma_qr_co_san"),""))}function wc(n,s){if(1&n&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function Ac(n,s){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function Cc(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function Tc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",55),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confContentLogin())}),e.YNc(2,Cc,3,0,"span",31),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",56),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.reopenScanCamInit())}),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(7,7,"lang_auto_thu_lai"))}}function kc(n,s){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"br"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.YNc(8,wc,2,1,"div",32),e.YNc(9,Ac,2,1,"div",33),e.YNc(10,Tc,8,9,"div",34),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),e.xp6(3),e.Oqu(e.lcZ(7,7,"lang_auto_voi_ma_qr_da_phat_hien")),e.xp6(2),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss)}}function Zc(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",27),e._uU(2,"\xa0 "),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function Sc(n,s){if(1&n&&e._UZ(0,"div",60),2&n){const t=e.oxw(2);e.Q6J("innerHTML",t.textResultErr,e.oJD)}}function Ic(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function Oc(n,s){if(1&n&&(e.TgZ(0,"button",61),e.YNc(1,Ic,3,0,"span",31),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("disabled",!t.textResultSuss),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",t.textResultSuss," ")}}function Lc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e._UZ(6,"br"),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,Zc,6,3,"div",31),e.YNc(10,Sc,1,1,"div",57),e.TgZ(11,"div",38),e.YNc(12,Oc,3,3,"button",58),e.TgZ(13,"button",59),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reopenScanCamInit())}),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,8,"lang_auto_dang_nhap_tai_khoan")),e.xp6(3),e.AsE("",e.lcZ(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm,""),e.xp6(2),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(2),e.Q6J("ngIf",!t.textResultSuss&&t.isLoadingBtn),e.xp6(1),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(15,12,"lang_auto_thu_lai"))}}const Or=function(n){return{hidden:n}},Ec=function(n){return[n]};let Pc=(()=>{class n extends w.Q{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.subscriptions.add(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.contentCreateQrcode=t?.data?.qrCode??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(t){null!==t?(this.scanQrContent=t,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(r=>{this.isLoadingBtn=!1,1==r.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=r?.data?.qrCode??"",this.nameSessionConfirm=r?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(u=>{this.textResultErr=u}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(r=>{this.textResultErr=r}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(o=>{1==o.success&&(1==o.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):o.data&&2===o.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(r=>{this.textResultErr=r}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(t=>{1==t.success&&t.data&&""!==t.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(t){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:t}).subscribe(r=>{1==r.success?this.textResultSuss=1==t?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(u=>{this.textResultErr=u}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(t=>{1==t.success&&(this.contentCreateQrcode=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(o=>{1===o.success&&404!=o?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(o=>{this.isLoadingBtn=!1,1===o.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(r=>{this.textResultSuss=r}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(r=>{this.textResultErr=r})})}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(t,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/dashboard/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o,r,u,m,f,b){super(),this.redirectByRoleService=t,this.userService=o,this.localStorageObject=r,this.activeRoute=u,this.qrCodeLoginService=m,this.redirectService=f,this.gaService=b,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ae.E),e.Y36(Y.K),e.Y36(Nt.y),e.Y36(_.gz),e.Y36(H.AF),e.Y36(F.V),e.Y36(Ve.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&(e.Gf(tc,5),e.Gf(nc,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.elementCreateQr=r.first),e.iGM(r=e.CRH())&&(o.elementZztScanQrcode=r.first)}},features:[e.qOj],decls:40,vars:37,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-center"],[1,"mb-3","text-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"disabled","click"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center",3,"click"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"disabled","click"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"disabled","click"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2),e.YNc(6,oc,3,3,"div",3),e.YNc(7,ic,3,3,"div",3),e.YNc(8,ac,4,4,"div",4),e.YNc(9,rc,4,3,"div",4),e.qZA(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),e.YNc(14,mc,9,6,"div",9),e.YNc(15,vc,3,2,"div",10),e.TgZ(16,"div",11),e.YNc(17,bc,5,3,"a",12),e.qZA(),e.YNc(18,xc,4,3,"div",13),e.YNc(19,yc,7,3,"div",14),e.qZA(),e.TgZ(20,"div",15)(21,"div",16),e._uU(22),e.ALo(23,"mytranslate"),e.TgZ(24,"a",17),e._uU(25),e.ALo(26,"mytranslate"),e.qZA(),e._uU(27," )"),e.qZA(),e.TgZ(28,"div",18)(29,"azt-scan-qrcode",19,20),e.NdJ("outContentScan",function(u){return o.outContentScan(u)}),e.qZA()(),e.YNc(31,kc,11,9,"div",9),e.YNc(32,Lc,16,14,"div",9),e.qZA()()()(),e.TgZ(33,"div",21)(34,"a",22),e.ALo(35,"localize"),e.O4$(),e.TgZ(36,"svg",23),e._UZ(37,"polyline",24),e.qZA(),e._uU(38),e.ALo(39,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,19,"lang_auto_dang_nhap_voi_ma_qr_code")," "),e.xp6(3),e.Q6J("ngIf",!o.isLogin),e.xp6(1),e.Q6J("ngIf",o.isLogin),e.xp6(1),e.Q6J("ngIf",!o.isLogin&&o.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",o.isLogin&&o.contentCreateQrcode&&!o.scanQrContentConfirm),e.xp6(4),e.Q6J("ngClass",e.VKq(29,Or,"create"!==o.modeShowInit)),e.xp6(1),e.Q6J("ngIf",o.scanQrContentConfirm&&o.isLogin),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(2),e.Q6J("ngIf",o.contentCreateQrcode&&!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngClass",e.VKq(31,Or,"scan"!==o.modeShowInit)),e.xp6(2),e.hij("",e.lcZ(23,21,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),e.xp6(3),e.Oqu(e.lcZ(26,23,"lang_auto_huong_dan")),e.xp6(3),e.Q6J("ngClass",e.VKq(33,Or,!1!==o.sussScanNextConf)),e.xp6(3),e.Q6J("ngIf",!0===o.sussScanNextConf&&o.isLogin),e.xp6(1),e.Q6J("ngIf",!0===o.sussScanNextConf&&!o.isLogin),e.xp6(2),e.Q6J("routerLink",e.VKq(35,Ec,e.lcZ(35,25,o.backToLink))),e.xp6(4),e.hij(" ",e.lcZ(39,27,"lang_auto_quay_lai")," "))},dependencies:[_.rH,x.mk,x.O5,st.Hw,zt,Xo,De,y.lO,I.bT],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();var ps=g(87377),ms=g(940),hs=g(8415);let fs=(()=>{class n{constructor(){}isCommonInAppBrowser(){const t=navigator.userAgent?.toLowerCase(),o=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let r=0;r<o.length;r++)if(-1!==t.indexOf(o[r]))return!0;return!1}getMobileOperatingSystem(){let t=navigator.userAgent||navigator.vendor||window.opera,o="Android";return/android/i.test(t)&&(o="Android"),/iPad|iPhone|iPod/.test(t)&&!window.MSStream&&(o="iOS"),o}getCommonInAppBrowser(){const t=navigator.userAgent;let o="";return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1?o="Facebook":t.indexOf("Zalo")>-1?o="Zalo":t.indexOf("Twitter")>-1?o="Twitter":t.indexOf("Instagram")>-1?o="Instagram":t.indexOf("Line")>-1?o="Line":t.indexOf("MicroMessenger")>-1?o="WeChat":t.indexOf("QQ")>-1?o="QQ":t.indexOf("KAKAOTALK")>-1&&(o="KakaoTalk"),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mc(n,s){1&n&&(e.TgZ(0,"div",54)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function qc(n,s){if(1&n&&(e.TgZ(0,"div",54)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.msgError)}}function Uc(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",55),e._UZ(2,"path",56)(3,"circle",57),e.qZA()())}function jc(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",55),e._UZ(2,"path",58)(3,"path",59)(4,"path",60)(5,"line",61),e.qZA()())}function Qc(n,s){1&n&&(e.TgZ(0,"div",62)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Nc(n,s){if(1&n&&(e.TgZ(0,"div",63),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.messageError)," ")}}function Rc(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",64)(1,"g",65)(2,"g",66),e._UZ(3,"circle",67),e.TgZ(4,"path",68),e._UZ(5,"animateTransform",69),e.qZA()()()())}const vs=function(n){return[n]},Fc=function(n){return{return_url:n,user_click:"true"}},Dc=function(n){return{return_url:n}};function zc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"form",2)(2,"h2",3),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"input",6),e.NdJ("keydown.enter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.login())})("input",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkValidateUser(r.form.controls.phone.value))}),e.ALo(8,"mytranslate"),e.qZA(),e.YNc(9,Mc,4,3,"div",7),e.YNc(10,qc,3,1,"div",7),e.qZA(),e.TgZ(11,"div",5)(12,"div",8)(13,"input",9),e.NdJ("keydown.enter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.login())}),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePassword())}),e.YNc(16,Uc,4,0,"span",11),e.YNc(17,jc,6,0,"span",11),e.qZA()(),e.YNc(18,Qc,4,3,"div",12),e.qZA()(),e.YNc(19,Nc,3,3,"div",13),e.TgZ(20,"div",14)(21,"a",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.forgotPassword())}),e._uU(22),e.ALo(23,"mytranslate"),e.qZA()(),e.TgZ(24,"div",16)(25,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.login())}),e.YNc(26,Rc,6,0,"svg",18),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()(),e.TgZ(29,"div",19)(30,"span"),e._uU(31),e.ALo(32,"mytranslate"),e.qZA(),e.TgZ(33,"a",20),e.ALo(34,"navigationLocalize"),e._uU(35),e.ALo(36,"mytranslate"),e.qZA()(),e.TgZ(37,"div",21)(38,"span",22),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()(),e.TgZ(41,"div",23)(42,"button",24),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.ALo(43,"navigationLocalize"),e.O4$(),e.TgZ(44,"svg",25)(45,"style"),e._uU(46," .st0 { fill: #fdfefe } .st1 { fill: #0180c7 } .st2 { fill: #0172b1 } .st3 { fill: none; stroke: #0180c7; stroke-width: 2; stroke-miterlimit: 10 } "),e.qZA(),e.TgZ(47,"title"),e._uU(48,"logo-zalo-vector"),e.qZA(),e._UZ(49,"path",26)(50,"path",27)(51,"path",28)(52,"path",29)(53,"path",30)(54,"path",31)(55,"path",32),e.qZA(),e.kcU(),e.TgZ(56,"span",33),e._uU(57,"Zalo"),e.qZA()(),e.TgZ(58,"button",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.googleSignIn())})("keydown.enter",function(r){return r.preventDefault()}),e.O4$(),e.TgZ(59,"svg",35),e._UZ(60,"path",36)(61,"path",37)(62,"path",38)(63,"path",39),e.qZA(),e.kcU(),e.TgZ(64,"span",33),e._uU(65,"Google"),e.qZA()(),e.TgZ(66,"button",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loginByQrCode())})("keydown.enter",function(r){return r.preventDefault()}),e.O4$(),e.TgZ(67,"svg",41),e._UZ(68,"rect",42)(69,"rect",43)(70,"rect",44)(71,"path",45)(72,"path",46)(73,"path",47)(74,"path",48)(75,"path",49)(76,"path",50)(77,"path",51)(78,"path",52)(79,"path",53),e.qZA(),e.kcU(),e.TgZ(80,"span",33),e._uU(81,"Qrcode"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.hij(" ",e.lcZ(4,22,"lang_auto_dang_nhap")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(8,24,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)&&!t.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",t.checkValidateUsername),e.xp6(3),e.s9C("placeholder",e.lcZ(14,26,"lang_auto_mat_khau")),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",""!=t.messageError),e.xp6(3),e.Oqu(e.lcZ(23,28,"lang_auto_quen_mat_khau")),e.xp6(3),e.Q6J("disabled",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(28,30,"lang_auto_dang_nhap")," "),e.xp6(4),e.Oqu(e.lcZ(32,32,"lang_auto_ban_chua_co_tai_khoan")),e.xp6(2),e.Q6J("routerLink",e.VKq(42,vs,e.lcZ(34,34,"/auth/register")))("queryParams",e.VKq(44,Fc,t.returnUrl)),e.xp6(2),e.hij(" ",e.lcZ(36,36,"lang_auto_tao_mot_tai_khoan_moi")," "),e.xp6(4),e.hij(" ",e.lcZ(40,38,"lang_auto_hoac")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(46,vs,e.lcZ(43,40,"/auth/login-by-zalo")))("queryParams",e.VKq(48,Dc,t.returnUrl))}}function Bc(n,s){1&n&&(e.TgZ(0,"div",1),e._UZ(1,"azt-loading-effect"),e.qZA())}let Jc=(()=>{class n extends w.Q{executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{t(o)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}login(){this.form.valid?(this.initStatusObj(),this.executeImportantAction().then(t=>{var o=this.commonService.getFormObj(this.form);this.subscriptions.add(this.authService.apiAuthLoginWebPost({phone:o.phone,password:o.password,tokenCaptcha:t}).subscribe(u=>{1==u.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=u.message??"",this.errorStatusObj(u.message??""))}))})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(t=>{this.subscriptions.add(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:t}).subscribe(r=>{1==r.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(r.message??"")}))})}loginWithAccessToken(t){var o=this.userService.getUserObjFromJwtToken(t);null!=o?(this.userService.saveUserObj(o),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1)}googleSignIn(){const t=this.browserUserAgentService.isCommonInAppBrowser();let o=this.browserUserAgentService.getCommonInAppBrowser(),r=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),u="zalo";"facebook"===o.toLowerCase()&&(u="fb");let m=this.cdnService.convertCdnLinkOfGitHub(`azota_assets/images/open_browser_to_in_app/${r}/${r}_${u}_1.png`),f=this.cdnService.convertCdnLinkOfGitHub(`azota_assets/images/open_browser_to_in_app/${r}/${r}_${u}_2.png`);if(t)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(b=>{let k=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),q=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.dialog.open(ps._,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${b+" "+o}. ${k}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${q} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${m}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${q} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${f}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const b=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(b)}&click_login=1`)}}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var t=this.commonService.getMyQueryParam("not_register"),o=this.commonService.getMyQueryParam("user_click");if(this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),!t&&this.mobileAccessTkn)this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn);else{this.initStatusObj(),this.form=this.formBuilder.group({phone:["",[i.kI.required,Ge._.noWhiteSpace]],password:["",i.kI.required]});var r=!1;t?(r=!0,this.commonService.myNavigation("/auth/register")):this.userService.isLogin()&&!this.userService.isAnonymousRoleOfCurrentUser()?(r=!0,this.redirectByRoleService.redirectLoginByRole(this.returnUrl)):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(r=!0,this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous()),r||(!o&&this.userService.isAnonymousRoleOfCurrentUser()?this.myNavigation("/student/dashboard/0"):(this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),this.loginByToken=!1,this.stopStatusObj(),super.ngOnInit()))}}constructor(t,o,r,u,m,f,b,k,q,K){super(),this.formBuilder=t,this.userService=o,this.localStorageObject=r,this.authService=u,this.redirectByRoleService=m,this.recaptchaV3Service=f,this.cdnService=b,this.browserUserAgentService=k,this.dialog=q,this.gaService=K,this.form=new i.nJ({}),this.mobileAccessTkn="",this.returnUrl="",this.loginByToken=!0,this.msgError="",this.messageError="",this.checkValidateUsername=!1,this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(Y.K),e.Y36(Nt.y),e.Y36(H.e8),e.Y36(Ae.E),e.Y36(ms.YC),e.Y36(hs.U),e.Y36(fs),e.Y36(le.uw),e.Y36(Ve.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],features:[e.qOj],decls:3,vars:2,consts:[["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","phone","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-Ed1OLmiD9X",1,"btn","btn-outline-secondary","mr-1",2,"width","calc(100% / 3 - 0.25rem)",3,"routerLink","queryParams","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","id","Layer_1","viewBox","0 0 460.1 436.6",1,"lucide","w-4","h-4","mr-2"],["d","M82.6 380.9c-1.8-.8-3.1-1.7-1-3.5 1.3-1 2.7-1.9 4.1-2.8 13.1-8.5 25.4-17.8 33.5-31.5 6.8-11.4 5.7-18.1-2.8-26.5C69 269.2 48.2 212.5 58.6 145.5 64.5 107.7 81.8 75 107 46.6c15.2-17.2 33.3-31.1 53.1-42.7 1.2-.7 2.9-.9 3.1-2.7-.4-1-1.1-.7-1.7-.7-33.7 0-67.4-.7-101 .2C28.3 1.7.5 26.6.6 62.3c.2 104.3 0 208.6 0 313 0 32.4 24.7 59.5 57 60.7 27.3 1.1 54.6.2 82 .1 2 .1 4 .2 6 .2H290c36 0 72 .2 108 0 33.4 0 60.5-27 60.5-60.3v-.6-58.5c0-1.4.5-2.9-.4-4.4-1.8.1-2.5 1.6-3.5 2.6-19.4 19.5-42.3 35.2-67.4 46.3-61.5 27.1-124.1 29-187.6 7.2-5.5-2-11.5-2.2-17.2-.8-8.4 2.1-16.7 4.6-25 7.1-24.4 7.6-49.3 11-74.8 6zm72.5-168.5c1.7-2.2 2.6-3.5 3.6-4.8 13.1-16.6 26.2-33.2 39.3-49.9 3.8-4.8 7.6-9.7 10-15.5 2.8-6.6-.2-12.8-7-15.2-3-.9-6.2-1.3-9.4-1.1-17.8-.1-35.7-.1-53.5 0-2.5 0-5 .3-7.4.9-5.6 1.4-9 7.1-7.6 12.8 1 3.8 4 6.8 7.8 7.7 2.4.6 4.9.9 7.4.8 10.8.1 21.7 0 32.5.1 1.2 0 2.7-.8 3.6 1-.9 1.2-1.8 2.4-2.7 3.5-15.5 19.6-30.9 39.3-46.4 58.9-3.8 4.9-5.8 10.3-3 16.3s8.5 7.1 14.3 7.5c4.6.3 9.3.1 14 .1 16.2 0 32.3.1 48.5-.1 8.6-.1 13.2-5.3 12.3-13.3-.7-6.3-5-9.6-13-9.7-14.1-.1-28.2 0-43.3 0zm116-52.6c-12.5-10.9-26.3-11.6-39.8-3.6-16.4 9.6-22.4 25.3-20.4 43.5 1.9 17 9.3 30.9 27.1 36.6 11.1 3.6 21.4 2.3 30.5-5.1 2.4-1.9 3.1-1.5 4.8.6 3.3 4.2 9 5.8 14 3.9 5-1.5 8.3-6.1 8.3-11.3.1-20 .2-40 0-60-.1-8-7.6-13.1-15.4-11.5-4.3.9-6.7 3.8-9.1 6.9zm69.3 37.1c-.4 25 20.3 43.9 46.3 41.3 23.9-2.4 39.4-20.3 38.6-45.6-.8-25-19.4-42.1-44.9-41.3-23.9.7-40.8 19.9-40 45.6zm-8.8-19.9c0-15.7.1-31.3 0-47 0-8-5.1-13-12.7-12.9-7.4.1-12.3 5.1-12.4 12.8-.1 4.7 0 9.3 0 14v79.5c0 6.2 3.8 11.6 8.8 12.9 6.9 1.9 14-2.2 15.8-9.1.3-1.2.5-2.4.4-3.7.2-15.5.1-31 .1-46.5z",1,"st0"],["d","M139.5 436.2c-27.3 0-54.7.9-82-.1-32.3-1.3-57-28.4-57-60.7 0-104.3.2-208.6 0-313C.5 26.7 28.4 1.8 60.5.9c33.6-.9 67.3-.2 101-.2.6 0 1.4-.3 1.7.7-.2 1.8-2 2-3.1 2.7-19.8 11.6-37.9 25.5-53.1 42.7-25.1 28.4-42.5 61-48.4 98.9-10.4 66.9 10.5 123.7 57.8 171.1 8.4 8.5 9.5 15.1 2.8 26.5-8.1 13.7-20.4 23-33.5 31.5-1.4.8-2.8 1.8-4.2 2.7-2.1 1.8-.8 2.7 1 3.5.4.9.9 1.7 1.5 2.5 11.5 10.2 22.4 21.1 33.7 31.5 5.3 4.9 10.6 10 15.7 15.1 2.1 1.9 5.6 2.5 6.1 6.1z",1,"st1"],["d","M139.5 436.2c-.5-3.5-4-4.1-6.1-6.2-5.1-5.2-10.4-10.2-15.7-15.1-11.3-10.4-22.2-21.3-33.7-31.5-.6-.8-1.1-1.6-1.5-2.5 25.5 5 50.4 1.6 74.9-5.9 8.3-2.5 16.6-5 25-7.1 5.7-1.5 11.7-1.2 17.2.8 63.4 21.8 126 19.8 187.6-7.2 25.1-11.1 48-26.7 67.4-46.2 1-1 1.7-2.5 3.5-2.6.9 1.4.4 2.9.4 4.4v58.5c.2 33.4-26.6 60.6-60 60.9h-.5c-36 .2-72 0-108 0H145.5c-2-.2-4-.3-6-.3z",1,"st2"],["d","M155.1 212.4c15.1 0 29.3-.1 43.4 0 7.9.1 12.2 3.4 13 9.7.9 7.9-3.7 13.2-12.3 13.3-16.2.2-32.3.1-48.5.1-4.7 0-9.3.2-14-.1-5.8-.3-11.5-1.5-14.3-7.5s-.8-11.4 3-16.3c15.4-19.6 30.9-39.3 46.4-58.9.9-1.2 1.8-2.4 2.7-3.5-1-1.7-2.4-.9-3.6-1-10.8-.1-21.7 0-32.5-.1-2.5 0-5-.3-7.4-.8-5.7-1.3-9.2-7-7.9-12.6.9-3.8 3.9-6.9 7.7-7.8 2.4-.6 4.9-.9 7.4-.9 17.8-.1 35.7-.1 53.5 0 3.2-.1 6.3.3 9.4 1.1 6.8 2.3 9.7 8.6 7 15.2-2.4 5.7-6.2 10.6-10 15.5-13.1 16.7-26.2 33.3-39.3 49.8-1.1 1.3-2.1 2.6-3.7 4.8z",1,"st1"],["d","M271.1 159.8c2.4-3.1 4.9-6 9-6.8 7.9-1.6 15.3 3.5 15.4 11.5.3 20 .2 40 0 60 0 5.2-3.4 9.8-8.3 11.3-5 1.9-10.7.4-14-3.9-1.7-2.1-2.4-2.5-4.8-.6-9.1 7.4-19.4 8.7-30.5 5.1-17.8-5.8-25.1-19.7-27.1-36.6-2.1-18.3 4-33.9 20.4-43.5 13.6-8.1 27.4-7.4 39.9 3.5zm-35.4 36.5c.2 4.4 1.6 8.6 4.2 12.1 5.4 7.2 15.7 8.7 23 3.3 1.2-.9 2.3-2 3.3-3.3 5.6-7.6 5.6-20.1 0-27.7-2.8-3.9-7.2-6.2-11.9-6.3-11-.7-18.7 7.8-18.6 21.9zM340.4 196.9c-.8-25.7 16.1-44.9 40.1-45.6 25.5-.8 44.1 16.3 44.9 41.3.8 25.3-14.7 43.2-38.6 45.6-26.1 2.6-46.8-16.3-46.4-41.3zm25.1-2.4c-.2 5 1.3 9.9 4.3 14 5.5 7.2 15.8 8.6 23 3 1.1-.8 2-1.8 2.9-2.8 5.8-7.6 5.8-20.4.1-28-2.8-3.8-7.2-6.2-11.9-6.3-10.8-.6-18.4 7.6-18.4 20.1zM331.6 177c0 15.5.1 31 0 46.5.1 7.1-5.5 13-12.6 13.2-1.2 0-2.5-.1-3.7-.4-5-1.3-8.8-6.6-8.8-12.9v-79.5c0-4.7-.1-9.3 0-14 .1-7.7 5-12.7 12.4-12.7 7.6-.1 12.7 4.9 12.7 12.9.1 15.6 0 31.3 0 46.9z",1,"st1"],["d","M235.7 196.3c-.1-14.1 7.6-22.6 18.5-22 4.7.2 9.1 2.5 11.9 6.4 5.6 7.5 5.6 20.1 0 27.7-5.4 7.2-15.7 8.7-23 3.3-1.2-.9-2.3-2-3.3-3.3-2.5-3.5-3.9-7.7-4.1-12.1zM365.5 194.5c0-12.4 7.6-20.7 18.4-20.1 4.7.1 9.1 2.5 11.9 6.3 5.7 7.6 5.7 20.5-.1 28-5.6 7.1-16 8.3-23.1 2.7-1.1-.8-2-1.8-2.8-2.9-3-4.1-4.4-9-4.3-14z",1,"st0"],["d","M66 1h328.1c35.9 0 65 29.1 65 65v303c0 35.9-29.1 65-65 65H66c-35.9 0-65-29.1-65-65V66C1 30.1 30.1 1 66 1z",1,"st3"],[1,"text-md"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout"),e.YNc(1,zc,82,50,"div",0),e.YNc(2,Bc,2,0,"div",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.loginByToken),e.xp6(1),e.Q6J("ngIf",o.loginByToken))},dependencies:[_.rH,x.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,se.Q,ke.M,De,I.MR,I.bT],encapsulation:2}),n})(),Yc=(()=>{class n extends w.Q{ngOnInit(){super.ngOnInit(),this.fireAuth.signOut(),this.userService.logout();var t=this.commonService.getMyQueryParam("return_url")||null;t?this.redirectService.redirectSimpleLoginWithReturnUrl(t):this.redirectService.redirectSimpleLogin()}constructor(t,o,r){super(),this.userService=t,this.fireAuth=o,this.redirectService=r,this.fireAuth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.K),e.Y36(xi),e.Y36(F.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],features:[e.qOj],decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})(),Gc=(()=>{class n extends w.Q{ngOnInit(){super.ngOnInit()}constructor(t){super(),this.commonService=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ho.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["auth-master-page"]],features:[e.qOj],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[_.lC],encapsulation:2}),n})(),Vc=(()=>{class n extends w.Q{constructor(t,o,r,u){super(),this.activeRoute=t,this.fireAuth=o,this.authService=r,this.redirectByRoleService=u,this.checkLoadingLogin=!1,this.fireAuth.authState.pipe((0,co.P)()).subscribe(m=>{m?this.signInWithTokenGoogle(m):this.googleSignIn()})}signInWithTokenGoogle(t){this.checkLoadingLogin=!0;let o=this.commonService.getMyParam(this.activeRoute,"type"),r=parseInt(o??"0",10);t.getIdToken().then(u=>{let m={isRegisterForm:1,isRegisterForTeacher:r,firebaseToken:u,language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(m).subscribe(f=>{if(1==f.success){let k=this.commonService.getMyQueryParam("return_url")??"";if(""===k){let q=this.commonService.getMyQueryParam("backto")??"";var b=q.includes("return_url=")?q.split("return_url=")[1]:"";k=decodeURIComponent(b)}0==Number(o)?this.redirectByRoleService.redirectLoginForStudent(k):this.redirectByRoleService.redirectLoginByRole(k),this.successStatusObj(),this.checkLoadingLogin=!1}else{this.errorStatusObj(f.message??"",!0);const k=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(k)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new xt.hJ).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const o=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(xi),e.Y36(H.e8),e.Y36(Ae.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["register-by-openapi"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"azt-loading-ui",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("type","azota-logo"),e.xp6(2),e.hij(" ",e.lcZ(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[Et.J,I.bT],encapsulation:2}),n})();function Kc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"div",47),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeRegisterType(0))}),e.O4$(),e.TgZ(3,"svg",48),e._UZ(4,"path",9)(5,"path",10),e.qZA(),e.kcU(),e.TgZ(6,"p",49),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()(),e.TgZ(9,"div",46)(10,"div",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeRegisterType(1))}),e.O4$(),e.TgZ(11,"svg",51)(12,"g",52),e._UZ(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56)(17,"path",57)(18,"path",58)(19,"path",59)(20,"path",60)(21,"path",61),e.qZA()(),e.kcU(),e.TgZ(22,"p",49),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()()}2&n&&(e.xp6(7),e.Oqu(e.lcZ(8,2,"lang_auto_toi_la_hoc_sinh")),e.xp6(16),e.Oqu(e.lcZ(24,4,"lang_auto_toi_la_giao_vien")))}function Wc(n,s){1&n&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Hc(n,s){1&n&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function $c(n,s){if(1&n&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.msgError)}}function Xc(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",63),e._UZ(2,"path",64)(3,"circle",65),e.qZA()())}function el(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",63),e._UZ(2,"path",66)(3,"path",67)(4,"path",68)(5,"line",69),e.qZA()())}function tl(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function nl(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function ol(n,s){if(1&n&&(e.TgZ(0,"div",62),e.YNc(1,tl,3,3,"span",24),e.YNc(2,nl,3,3,"span",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}const Lr=function(n){return[n]},bs=function(n,s){return{return_url:n,from:"register",user_click:"true",type:s}};function il(n,s){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"a",74),e.ALo(4,"localize"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,5,t.statusObj.errorMessage)," Click "),e.xp6(2),e.Q6J("routerLink",e.VKq(13,Lr,e.lcZ(4,7,"/auth/login")))("queryParams",e.WLB(15,bs,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(6,9,"lang_auto_vao_day")," "),e.xp6(2),e.hij(" ",e.lcZ(8,11,"lang_auto_de_dang_nhap")," ")}}function al(n,s){if(1&n&&(e.TgZ(0,"label",75),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.statusObj.errorMessage)," ")}}function rl(n,s){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,il,9,18,"div",71),e.YNc(2,al,3,3,"ng-template",null,72,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",t)}}function sl(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",76),e._uU(2,"\xa0"),e.qZA())}function cl(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"a",77),e.ALo(2,"localize"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(7,Lr,e.lcZ(2,3,"/auth/login")))("queryParams",e.WLB(9,bs,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," ")}}const ll=function(n){return{return_url:n,from:"register",user_click:"true"}};function ul(n,s){if(1&n&&(e.TgZ(0,"a",78),e.ALo(1,"localize"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.VKq(7,Lr,e.lcZ(1,3,"/auth/login")))("queryParams",e.VKq(9,ll,t.returnUrl)),e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_auto_dang_nhap"))}}const xs=function(n){return{active:n}};let ys=(()=>{class n extends w.Q{executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{t(o)})})}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url")??"";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}changeRegisterType(t){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${t}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==t?(this.isTeacher=!1,this.isStudent=!0,this.checkValidateUsername=!1):(this.isTeacher=!0,this.isStudent=!1,this.checkValidateUsername=!1)}loginZalo(){window.location.href=this.zaloLoginUrl}registerForTeacher(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(t=>{var o=this.commonService.getFormObj(this.form),r={fullName:o.fullName,password:o.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};this.validateEmail(o.username)?r.email=o.username:r.phone=o.username,this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRegisterPost(r).subscribe(u=>{1==u.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(u.message??""),this.isDuplicateEmailOrPhone=u.data?.isDuplicateEmailOrPhone??0)}))})}registerForStudent(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(t=>{var o=this.commonService.getFormObj(this.form);this.initStatusObj();var r={fullName:o.fullName,password:o.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};this.validateEmail(o.username)?r.email=o.username:r.phone=o.username,this.subscriptions.add(this.authService.apiAuthRegisterForStudentPost(r).subscribe(u=>{1==u.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(u.message??""),this.isDuplicateEmailOrPhone=u.data?.isDuplicateEmailOrPhone??0)}))})}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}googleSignIn(){const t=this.browserUserAgentService.isCommonInAppBrowser();let o=this.browserUserAgentService.getCommonInAppBrowser(),r=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),u="zalo";"facebook"===o.toLowerCase()&&(u="fb");let m=this.cdnService.convertCdnLinkOfGitHub(`azota_assets/images/open_browser_to_in_app/${r}/${r}_${u}_1.png`),f=this.cdnService.convertCdnLinkOfGitHub(`azota_assets/images/open_browser_to_in_app/${r}/${r}_${u}_2.png`);if(t)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(b=>{let k=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),q=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.dialog.open(ps._,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${b+" "+o}. ${k}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${q} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${m}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${q} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${f}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const b=this.commonService.getMyParam(this.activeRoute,"type"),k=`/auth/register/${b}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${b}`,`?backto=${encodeURIComponent(k)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLogin()&&!this.userService.isAnonymousRoleOfCurrentUser())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=E.N.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1");let r=this.commonService.getMyQueryParam("user_click");var t=this.commonService.getMyParam(this.activeRoute,"type");if(null!=t){var o=parseInt(t?.toString(),10);this.changeRegisterType(0==o?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),this.form=this.formBuilder.group({fullName:["",[i.kI.required,Ge._.noWhiteSpace]],username:["",[i.kI.required,Ge._.noWhiteSpace]],password:["",[i.kI.required,i.kI.minLength(6)]]}),!r&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/dashboard/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}}constructor(t,o,r,u,m,f,b,k,q,K){super(),this.redirectByRoleService=t,this.formBuilder=o,this.activeRoute=r,this.userService=u,this.recaptchaV3Service=m,this.cdnService=f,this.dialog=b,this.authService=k,this.browserUserAgentService=q,this.gaService=K,this.form=new i.nJ({}),this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.checkValidateUsername=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ae.E),e.Y36(i.QS),e.Y36(_.gz),e.Y36(Y.K),e.Y36(ms.YC),e.Y36(hs.U),e.Y36(le.uw),e.Y36(H.e8),e.Y36(fs),e.Y36(Ve.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],features:[e.qOj],decls:81,vars:66,consts:[[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-32","h-32",2,"stroke-width","1"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.0","viewBox","0 0 2600.000000 2600.000000","preserveAspectRatio","xMidYMid meet",1,"lucide","w-32","h-32"],["transform","translate(0.000000,2600.000000) scale(0.100000,-0.100000)","fill","currentColor","stroke","currentColor"],["d","M5087 20663 c-4 -3 -7 -145 -7 -315 l0 -308 5525 0 5525 0 0 315 0 315 -5518 0 c-3035 0 -5522 -3 -5525 -7z"],["d","M5507 19763 c-4 -3 -7 -1365 -7 -3025 l0 -3018 4196 0 c3353 0 4194 3 4188 13 -23 37 -372 551 -447 657 -100 140 -196 327 -227 440 -27 102 -38 229 -29 327 31 315 280 593 589 659 102 22 269 14 365 -16 194 -62 387 -198 546 -387 40 -48 164 -185 273 -303 110 -118 202 -219 206 -223 4 -4 129 183 279 418 l271 425 0 2020 0 2020 -5098 0 c-2804 0 -5102 -3 -5105 -7z m9243 -1328 l0 -235 -4140 0 -4140 0 0 235 0 235 4140 0 4140 0 0 -235z m-3080 -1130 l0 -235 -2600 0 -2600 0 0 235 0 235 2600 0 2600 0 0 -235z m0 -1125 l0 -230 -2600 0 -2600 0 0 230 0 230 2600 0 2600 0 0 -230z m-2480 -1130 l0 -230 -1360 0 -1360 0 0 230 0 230 1360 0 1360 0 0 -230z"],["d","M17409 19294 c-249 -45 -459 -156 -636 -336 -149 -153 -242 -316 -301 -528 -24 -87 -26 -111 -26 -285 0 -174 2 -198 27 -288 142 -527 593 -877 1130 -877 187 0 344 35 502 110 530 255 786 850 609 1412 -110 347 -390 630 -740 747 -176 59 -393 77 -565 45z"],["d","M17370 16650 c-246 -34 -488 -116 -645 -218 -138 -89 -120 -65 -820 -1165 -362 -567 -663 -1037 -669 -1044 -8 -9 -107 92 -408 415 -218 236 -414 450 -435 477 -82 103 -209 212 -300 257 -80 40 -92 43 -167 43 -105 0 -171 -30 -248 -114 -64 -69 -88 -132 -88 -231 0 -129 56 -262 190 -450 45 -63 300 -439 568 -835 522 -773 526 -778 671 -866 98 -59 158 -74 301 -74 122 0 127 1 193 33 42 21 90 56 130 96 39 40 199 257 437 596 l375 534 3 -573 2 -573 -125 -1196 c-69 -658 -125 -1208 -125 -1221 0 -20 3 -23 28 -17 15 3 90 9 167 12 117 5 161 3 264 -15 209 -36 426 -122 574 -227 26 -19 51 -34 55 -34 5 0 71 287 147 638 76 350 142 656 148 680 5 24 10 42 12 40 2 -2 222 -1013 489 -2248 267 -1235 492 -2274 501 -2310 28 -117 123 -228 233 -271 79 -32 195 -32 275 0 120 47 226 182 244 312 6 41 -61 717 -294 2944 l-302 2890 2 582 2 583 625 -1018 c343 -559 644 -1038 667 -1063 80 -86 213 -137 325 -125 129 13 249 101 304 221 37 80 45 207 19 286 -10 30 -483 919 -1051 1976 -1154 2146 -1044 1960 -1225 2075 -127 80 -301 144 -499 184 -98 19 -445 28 -550 14z"],["d","M5087 13443 c-4 -3 -7 -145 -7 -315 l0 -308 4711 0 4710 0 -212 315 -213 315 -4491 0 c-2471 0 -4495 -3 -4498 -7z"],["d","M7306 10119 c-148 -22 -312 -85 -437 -169 -82 -55 -213 -187 -268 -268 -63 -94 -118 -215 -148 -327 -23 -88 -26 -118 -26 -255 0 -167 12 -234 69 -377 88 -224 279 -429 501 -539 l84 -41 -78 -28 c-312 -110 -580 -343 -731 -634 -96 -184 -139 -342 -149 -543 l-6 -128 1332 0 1333 0 -7 98 c-22 331 -117 577 -316 819 -137 166 -371 325 -582 394 l-66 21 97 49 c281 141 480 400 544 709 16 78 19 121 15 240 -6 178 -26 261 -102 415 -121 248 -331 432 -592 518 -163 54 -313 68 -467 46z"],["d","M11775 10115 c-209 -40 -384 -128 -532 -269 -221 -209 -336 -496 -320 -795 14 -253 110 -473 286 -655 91 -94 177 -157 289 -212 l83 -41 -78 -28 c-312 -110 -584 -346 -732 -635 -95 -186 -138 -342 -148 -542 l-6 -128 1332 0 1331 0 -6 98 c-22 371 -142 643 -393 893 -158 158 -319 259 -505 319 l-69 23 73 33 c256 119 455 346 544 619 34 105 46 187 46 311 0 474 -316 872 -790 996 -102 26 -299 33 -405 13z"],["d","M16275 10114 c-228 -41 -418 -144 -579 -315 -277 -295 -352 -718 -193 -1098 88 -213 276 -409 495 -517 l83 -41 -78 -28 c-507 -179 -857 -646 -880 -1172 l-6 -133 1328 0 1328 0 -6 138 c-15 337 -150 629 -405 873 -145 140 -318 246 -485 299 l-67 22 92 46 c304 153 504 428 558 764 17 105 8 300 -18 400 -52 195 -146 352 -295 494 -110 105 -216 171 -351 219 -173 62 -353 79 -521 49z"],["d","M5002 5933 l3 -408 6940 0 6940 0 3 408 2 407 -6945 0 -6945 0 2 -407z"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],["role","status",1,"spinner-border","spinner-border-sm"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(t,o){if(1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Kc,25,6,"div",1),e.TgZ(5,"div",2)(6,"form",3)(7,"div",4)(8,"ul",5)(9,"li",6)(10,"button",7),e.NdJ("click",function(){return o.changeRegisterType(0)}),e.O4$(),e.TgZ(11,"svg",8),e._UZ(12,"path",9)(13,"path",10),e.qZA(),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(16,"li",11)(17,"button",12),e.NdJ("click",function(){return o.changeRegisterType(1)}),e.O4$(),e.TgZ(18,"svg",8),e._UZ(19,"path",13)(20,"circle",14),e.qZA(),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()()(),e.kcU(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e._UZ(26,"input",18),e.ALo(27,"mytranslate"),e.YNc(28,Wc,4,3,"div",19),e.qZA(),e.TgZ(29,"div",17)(30,"input",20),e.NdJ("input",function(){return o.checkValidateUser(o.form.controls.username.value)}),e.ALo(31,"mytranslate"),e.qZA(),e.YNc(32,Hc,4,3,"div",19),e.YNc(33,$c,3,1,"div",19),e.qZA(),e.TgZ(34,"div",17)(35,"div",21),e._UZ(36,"input",22),e.ALo(37,"mytranslate"),e.TgZ(38,"button",23),e.NdJ("click",function(){return o.togglePassword()}),e.YNc(39,Xc,4,0,"span",24),e.YNc(40,el,6,0,"span",24),e.qZA()(),e.YNc(41,ol,3,2,"div",19),e.qZA()()()(),e.YNc(42,rl,4,2,"div",25),e.TgZ(43,"div",26)(44,"p",27),e._uU(45),e.ALo(46,"mytranslate"),e.ALo(47,"mytranslate"),e.ALo(48,"mytranslate"),e.TgZ(49,"a",28),e._uU(50),e.ALo(51,"mytranslate"),e.qZA(),e._uU(52),e.ALo(53,"mytranslate"),e.TgZ(54,"a",29),e._uU(55),e.ALo(56,"mytranslate"),e.qZA()()(),e.TgZ(57,"div",30)(58,"button",31),e.NdJ("click",function(){return 1==o.isStudent?o.registerForStudent():o.registerForTeacher()}),e.YNc(59,sl,3,0,"span",24),e._uU(60),e.ALo(61,"mytranslate"),e.qZA()(),e.TgZ(62,"div",32),e._uU(63),e.ALo(64,"mytranslate"),e.YNc(65,cl,5,12,"ng-container",33),e.YNc(66,ul,4,11,"ng-template",null,34,e.W1O),e.qZA(),e.TgZ(68,"div",35)(69,"span",36),e._uU(70),e.ALo(71,"mytranslate"),e.qZA()(),e.TgZ(72,"div",37)(73,"button",38),e.NdJ("click",function(){return o.googleSignIn()}),e.O4$(),e.TgZ(74,"svg",39),e._UZ(75,"path",40)(76,"path",41)(77,"path",42)(78,"path",43),e.qZA(),e.kcU(),e.TgZ(79,"span",44),e._uU(80,"Google"),e.qZA()()()()()()),2&t){const r=e.MAs(67);e.xp6(2),e.hij(" ",e.lcZ(3,32,"lang_auto_dang_ky")," "),e.xp6(2),e.Q6J("ngIf",1==o.isShowOption),e.xp6(1),e.Q6J("hidden",o.isShowOption),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("ngClass",e.VKq(62,xs,o.isStudent)),e.xp6(4),e.hij(" ",e.lcZ(15,34,"lang_auto_hoc_sinh")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(64,xs,o.isTeacher)),e.xp6(4),e.hij(" ",e.lcZ(22,36,"lang_auto_giao_vien")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(27,38,"lang_auto_ho_ten")),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors&&(o.form.controls.fullName.dirty||o.form.controls.fullName.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(31,40,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",o.form.controls.username.errors&&(o.form.controls.username.dirty||o.form.controls.username.touched)&&!o.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",o.checkValidateUsername),e.xp6(3),e.s9C("placeholder",e.lcZ(37,42,"lang_auto_mat_khau")),e.Q6J("type",o.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",o.showPassword),e.xp6(1),e.Q6J("ngIf",!o.showPassword),e.xp6(1),e.Q6J("ngIf",o.form.controls.password.errors&&(o.form.controls.password.dirty||o.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",o.statusObj.errorMessage),e.xp6(3),e.lnq(" ",e.lcZ(46,44,"lang_auto_bang_cach_an_vao_nut"),' "',e.lcZ(47,46,"lang_auto_dang_ky"),'" ',e.lcZ(48,48,"lang_auto__toi_dong_y_voi")," "),e.xp6(5),e.hij(" ",e.lcZ(51,50,"lang_auto_dieu_khoan_su_dung")," "),e.xp6(2),e.hij(" ",e.lcZ(53,52,"lang_auto_va")," "),e.xp6(3),e.hij(" ",e.lcZ(56,54,"lang_auto_chinh_sach_bao_mat_cua_azota"),""),e.xp6(3),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(61,56,"lang_auto_dang_ky")," "),e.xp6(3),e.hij(" ",e.lcZ(64,58,"lang_auto_ban_da_co_tai_khoan")," "),e.xp6(2),e.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",r),e.xp6(5),e.Oqu(e.lcZ(71,60,"lang_auto_hoac"))}},dependencies:[_.rH,x.mk,x.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,ke.M,De,y.lO,I.bT],encapsulation:2}),n})();var dl=g(90059);function _l(n,s){1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function gl(n,s){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.msgError)}}function pl(n,s){1&n&&(e.TgZ(0,"span",13),e._UZ(1,"azt-loading-ui",14),e.qZA()),2&n&&(e.xp6(1),e.Q6J("type","oval"))}function hl(n,s){1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function fl(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function vl(n,s){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,fl,3,3,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function bl(n,s){if(1&n&&(e.TgZ(0,"div",14)(1,"label",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function xl(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",30),e._uU(2,"\xa0"),e.qZA())}const yl=function(n){return[n]},wl=function(){return{user_click:"true"}};function Al(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.TgZ(10,"div",16),e._UZ(11,"input",20),e.ALo(12,"mytranslate"),e.TgZ(13,"div",18)(14,"span",19)(15,"mat-icon"),e._uU(16,"lock"),e.qZA()()()(),e.YNc(17,vl,2,1,"div",21),e.qZA()(),e.YNc(18,bl,4,3,"div",22),e.TgZ(19,"div",23)(20,"div",15)(21,"div",24)(22,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.form.invalid||r.statusObj.loading||r.changePassword())}),e.YNc(23,xl,3,0,"span",10),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()()()(),e._UZ(26,"hr"),e.TgZ(27,"div",26)(28,"a",27),e.ALo(29,"localize"),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,10,"lang_auto_mat_khau_moi")),e.xp6(7),e.s9C("placeholder",e.lcZ(12,12,"lang_auto_xac_nhan_mat_khau")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(25,14,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(20,yl,e.lcZ(29,16,"/auth/login")))("queryParams",e.DdM(22,wl)),e.xp6(2),e.Oqu(e.lcZ(31,18,"lang_auto_dang_nhap_tai_khoan"))}}const Cl=[{path:"",component:Gc,children:[{path:"login",component:Jc},{path:"login-scan/:role",component:Pc},{path:"login-by-zalo",component:ec},{path:"register",component:ys},{path:"register/:type",component:ys},{path:"choose-role",component:No},{path:"required-phone-or-email",component:(()=>{class n extends w.Q{addEmailOrPhone(){if(this.form.valid){let t,o;this.initStatusObj(),this.validateEmail(this.form.controls.phone.value)?o=this.form.controls.phone.value:t=this.form.controls.phone.value,this.subscriptions.add(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(t,o).subscribe(r=>{if(1==r.success){let u=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(u),this.successStatusObj()}else this.errorStatusObj(r.message??"",!0)}))}}backToRedirect(){let t=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(t)}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}ngOnInit(){this.form=this.formBuilder.group({phone:new i.p4("",[i.kI.required,Ge._.noWhiteSpace])}),this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o,r){super(),this.formBuilder=t,this.userZaloService=o,this.zaloService=r,this.form=new i.nJ({}),this.msgError="",this.checkValidateUsername=!1,this.zaloService.checkLoginZalo()||this.backToRedirect()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(H.wS),e.Y36(dl.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-required-phone-or-email"]],features:[e.qOj],decls:22,vars:17,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"w-4","h-4","mr-2"],[3,"type"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),e.NdJ("input",function(){return o.checkValidateUser(o.form.controls.phone.value)}),e.ALo(8,"mytranslate"),e.qZA(),e.YNc(9,_l,4,3,"div",5),e.YNc(10,gl,3,1,"div",5),e.qZA(),e.TgZ(11,"div",6)(12,"button",7),e.NdJ("click",function(){return o.addEmailOrPhone()}),e.YNc(13,pl,2,1,"span",8),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()(),e.TgZ(16,"div",6)(17,"a",9),e.NdJ("click",function(){return o.backToRedirect()}),e.O4$(),e.TgZ(18,"svg",10),e._UZ(19,"polyline",11),e.qZA(),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,9,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(2),e.s9C("placeholder",e.lcZ(8,11,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)&&!o.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",o.checkValidateUsername),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(15,13,"lang_auto_tiep_tuc")," "),e.xp6(6),e.hij(" ",e.lcZ(21,15,"lang_auto_quay_lai")," "))},dependencies:[x.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,ke.M,Et.J,De,I.bT],encapsulation:2}),n})()},{path:"logout",component:Yc},{path:"confirm_forgot_password",component:$n},{path:"confirm-forgot-password-email",component:Ma},{path:"forgot_password_success",component:_r},{path:"confirm_forgot_password_qr",component:ei},{path:"confirm_forgot_password_old",component:Ft},{path:"confirm_account",component:Yo},{path:"checking_service",component:Rn},{path:"set_new_password",component:(()=>{class n extends w.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}changePassword(){if(this.form.valid)if(this.form.value.password!=this.form.value.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var t=this.commonService.getFormObj(this.form),o=this.commonService.getMyQueryParam("token"),r=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:o??"",newPassword:t.password,appName:r??""}).subscribe(m=>{1==m.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(m.message??"")}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[i.kI.required,i.kI.minLength(6)]],confirm_password:""}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o,r){super(),this.formBuilder=t,this.redirectByRoleService=o,this.userInfoService=r,this.form=new i.nJ({})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(Ae.E),e.Y36(H.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","off",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["type","password","formControlName","confirm_password","autocomplete","off",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"convertCdnLinkOfGitHub"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,hl,6,3,"div",10),e.YNc(14,Al,32,23,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading))},dependencies:[_.rH,x.O5,i._Y,i.Fj,i.JJ,i.JL,rt.lW,st.Hw,i.sg,i.u,ke.M,y.lO,I.bT,I.Jc],encapsulation:2}),n})()},{path:"create-qr-forgot-pass/:role",component:dr},{path:"change-email",component:Nn},{path:"confirm-change-email",component:Ea},{path:"account-setting/:roleType/:modeType",component:Sa},{path:"go-to-mobile/:code",component:Bt},{path:"go-to-mobile/:code/:fromApp",component:Bt},{path:"login-by-openapi",component:Xs},{path:"register-by-openapi/:type",component:Vc}]}];let Tl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(Cl),_.Bz,y.fQ]}),n})(),kl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz,x.ez,i.u5,P.Z_,oe.j,i.UX,Tl,M.W,D.d,U.Z,W.QG,B.kb,J.hO.initializeApp(E.N.firebaseConfig_app1,"auth"),z.qyJ.pick(z.ciZ),R.l1]}),n})()},23780:(Ie,re,g)=>{g.d(re,{L:()=>H});var x=g(39621),J=g(20553),i=g(65879),_=g(32261),P=g(92638),z=g(31518),R=g(9853),W=g(63934),B=g(75187),M=g(96814),U=g(92596),oe=g(66580),E=g(40509),D=g(12800),y=g(42040),T=g(38704),w=g(11964);function e(G,I){if(1&G&&(i.TgZ(0,"div",8),i.GkF(1,9),i.TgZ(2,"div",10),i.GkF(3,9),i.TgZ(4,"div",11)(5,"div",12),i.GkF(6,9),i.qZA(),i.TgZ(7,"div",13),i.GkF(8,9),i.qZA()()()()),2&G){i.oxw(2);const $=i.MAs(8),ge=i.MAs(6),fe=i.MAs(4),Re=i.MAs(2);i.xp6(1),i.Q6J("ngTemplateOutlet",$),i.xp6(2),i.Q6J("ngTemplateOutlet",ge),i.xp6(3),i.Q6J("ngTemplateOutlet",fe),i.xp6(2),i.Q6J("ngTemplateOutlet",Re)}}function Y(G,I){if(1&G&&(i.TgZ(0,"div",8)(1,"div",10)(2,"div",11)(3,"div",13),i.GkF(4,9),i.qZA()()()()),2&G){i.oxw(2);const $=i.MAs(2);i.xp6(4),i.Q6J("ngTemplateOutlet",$)}}function F(G,I){if(1&G&&(i.TgZ(0,"div",5),i.YNc(1,e,9,4,"div",6),i.YNc(2,Y,5,1,"div",6),i.TgZ(3,"div",7),i._UZ(4,"header-setting-color"),i.qZA()()),2&G){const $=i.oxw();i.xp6(1),i.Q6J("ngIf",!$.isMobileWebView),i.xp6(1),i.Q6J("ngIf",$.isMobileWebView)}}function ne(G,I){1&G&&i.Hsn(0)}function se(G,I){if(1&G){const $=i.EpF();i.TgZ(0,"button",20),i.NdJ("click",function(){i.CHM($);const fe=i.oxw(2);return i.KtG(fe.goBack())}),i.O4$(),i.TgZ(1,"svg",21),i._UZ(2,"polyline",22),i.qZA(),i.kcU(),i.TgZ(3,"span",23),i._uU(4),i.ALo(5,"mytranslate"),i.qZA()()}2&G&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"lang_auto_quay_lai")))}function he(G,I){if(1&G&&(i.TgZ(0,"div",14),i.YNc(1,se,6,3,"button",15),i.qZA(),i.TgZ(2,"div",16),i._UZ(3,"azt-switch-language"),i.qZA(),i.TgZ(4,"div",16),i._UZ(5,"header-notice-box",17),i.qZA(),i.TgZ(6,"div",18),i._UZ(7,"header-account-menu",19),i.qZA()),2&G){const $=i.oxw();i.xp6(1),i.Q6J("ngIf",""!=$.headerBackToLink),i.xp6(4),i.Q6J("role",1),i.xp6(2),i.Q6J("isTeacherDashboard",!1)}}const X=function(G){return[G]},j=function(){return["/student/dashboard/0","/de-thi","/test/","/auth/account-setting/","/notify","/student/add-teacher","/on-luyen"]},ce=function(){return["/student/dashboard/1","/bai-tap"]};function ee(G,I){1&G&&(i.TgZ(0,"nav",24)(1,"a",25),i.ALo(2,"navigationLocalize"),i._UZ(3,"img",26),i.ALo(4,"convertCdnLinkOfGitHub"),i.qZA(),i._UZ(5,"div",27),i.TgZ(6,"ul")(7,"li")(8,"a",28),i.ALo(9,"navigationLocalize"),i.TgZ(10,"div",29),i.ALo(11,"mytranslate"),i.O4$(),i.TgZ(12,"svg",30),i._UZ(13,"path",31)(14,"polyline",32)(15,"path",33),i.qZA()(),i.kcU(),i.TgZ(16,"div",34),i._uU(17),i.ALo(18,"mytranslate"),i.qZA()()(),i.TgZ(19,"li")(20,"a",35),i.ALo(21,"navigationLocalize"),i.TgZ(22,"div",29),i.ALo(23,"mytranslate"),i.O4$(),i.TgZ(24,"svg",30),i._UZ(25,"path",31)(26,"polyline",32)(27,"line",36)(28,"line",37)(29,"line",38),i.qZA()(),i.kcU(),i.TgZ(30,"div",34),i._uU(31),i.ALo(32,"mytranslate"),i.qZA()()()()()),2&G&&(i.xp6(1),i.Q6J("routerLink",i.VKq(28,X,i.lcZ(2,12,"/student/dashboard/0"))),i.xp6(2),i.Q6J("src",i.lcZ(4,14,"azota_assets/images/logo-white.svg"),i.LSH),i.xp6(5),i.Q6J("routerLink",i.VKq(30,X,i.lcZ(9,16,"/student/dashboard/0")))("changeActiveRouter",i.DdM(32,j)),i.xp6(2),i.s9C("matTooltip",i.lcZ(11,18,"lang_auto_de_thi")),i.Q6J("matTooltipPosition","right"),i.xp6(7),i.hij(" ",i.lcZ(18,20,"lang_auto_de_thi")," "),i.xp6(3),i.Q6J("routerLink",i.VKq(33,X,i.lcZ(21,22,"/student/dashboard/1")))("changeActiveRouter",i.DdM(35,ce)),i.xp6(2),i.s9C("matTooltip",i.lcZ(23,24,"lang_auto_bai_tap")),i.Q6J("matTooltipPosition","right"),i.xp6(9),i.hij(" ",i.lcZ(32,26,"lang_auto_bai_tap")," "))}const me=function(){return["/student/dashboard/0","/de-thi","/test/answer-test","/auth/account-setting/","/on-luyen/"]};function Te(G,I){if(1&G){const $=i.EpF();i.TgZ(0,"div",39)(1,"div",40)(2,"a",41),i.ALo(3,"navigationLocalize"),i._UZ(4,"img",26),i.ALo(5,"convertCdnLinkOfGitHub"),i.qZA(),i.TgZ(6,"a",42),i.NdJ("click",function(){i.CHM($);const fe=i.oxw();return i.KtG(fe.openMenuMobile())}),i.O4$(),i.TgZ(7,"svg",43),i._UZ(8,"line",44)(9,"line",45)(10,"line",46),i.qZA()()(),i.kcU(),i.TgZ(11,"div",47)(12,"a",48),i.NdJ("click",function(){i.CHM($);const fe=i.oxw();return i.KtG(fe.closeMenuMobile())}),i.O4$(),i.TgZ(13,"svg",43),i._UZ(14,"circle",49)(15,"line",50)(16,"line",51),i.qZA()(),i.kcU(),i.TgZ(17,"ul",52)(18,"li")(19,"a",53),i.NdJ("click",function(){i.CHM($);const fe=i.oxw();return i.KtG(fe.closeMenuMobile())}),i.ALo(20,"navigationLocalize"),i.TgZ(21,"div",54),i.O4$(),i.TgZ(22,"svg",30),i._UZ(23,"path",31)(24,"polyline",32)(25,"path",33),i.qZA()(),i.kcU(),i.TgZ(26,"div",55),i._uU(27),i.ALo(28,"mytranslate"),i.qZA()()(),i.TgZ(29,"li")(30,"a",56),i.NdJ("click",function(){i.CHM($);const fe=i.oxw();return i.KtG(fe.closeMenuMobile())}),i.ALo(31,"navigationLocalize"),i.TgZ(32,"div",54),i.O4$(),i.TgZ(33,"svg",30),i._UZ(34,"path",31)(35,"polyline",32)(36,"line",36)(37,"line",37)(38,"line",38),i.qZA()(),i.kcU(),i.TgZ(39,"div",55),i._uU(40),i.ALo(41,"mytranslate"),i.qZA()()()()()()}2&G&&(i.xp6(2),i.Q6J("routerLink",i.VKq(20,X,i.lcZ(3,8,"/student/dashboard/0"))),i.xp6(2),i.Q6J("src",i.lcZ(5,10,"azota_assets/images/logo-white.svg"),i.LSH),i.xp6(15),i.Q6J("routerLink",i.VKq(22,X,i.lcZ(20,12,"/student/dashboard/0")))("changeActiveRouter",i.DdM(24,me)),i.xp6(8),i.hij(" ",i.lcZ(28,14,"lang_auto_de_thi")," "),i.xp6(3),i.Q6J("routerLink",i.VKq(25,X,i.lcZ(31,16,"/student/dashboard/1")))("changeActiveRouter",i.DdM(27,ce)),i.xp6(10),i.hij(" ",i.lcZ(41,18,"lang_auto_bai_tap")," "))}const le=["*"];let H=(()=>{class G extends x.Q{onScroll($){let ge=document.getElementById("christmas-line");ge&&(ge.style.position=window.pageYOffset>10?"absolute":"fixed")}toggleDrawer(){this.drawer.toggle(),this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.drawer.isOpened()}))}goBack(){this.commonService.myNavigationBySpecialQueryString(this.headerBackToLink)}openMenuMobile(){document.getElementById("toggle-menu")?.classList.add("mobile-menu--active")}closeMenuMobile(){document.getElementById("toggle-menu")?.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),window.scrollTo(0,0),this.isLogin=this.userService.isLogin()}constructor($,ge,fe,Re,mt){super(),this.processNoticeService=$,this.drawer=ge,this.browserStorageService=fe,this.mobileWebviewService=Re,this.userService=mt,this.headerBackToLink="",this.headerTitle="",this.isLogin=!1,this.willShowAIBox=!J.N.production||J.N.isProdAzotaVn,this.subscriptions.add(this.mobileWebviewService.getWebviewBackToListenerSubscriber().subscribe(()=>{this.headerBackToLink&&this.goBack()}))}}return G.\u0275fac=function($){return new($||G)(i.Y36(_.e),i.Y36(P.h),i.Y36(z.z),i.Y36(R.F),i.Y36(W.K))},G.\u0275cmp=i.Xpm({type:G,selectors:[["student-layout"]],hostBindings:function($,ge){1&$&&i.NdJ("scroll",function(Re){return ge.onScroll(Re)},!1,i.Jf7)},inputs:{headerBackToLink:"headerBackToLink",headerTitle:"headerTitle"},features:[i.qOj],ngContentSelectors:le,decls:9,vars:1,consts:[["id","azt-layout","class","azt-layout",4,"ngIf"],["BodyContentTpl",""],["TopbarTpl",""],["DesktopMenuTpl",""],["mobileMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden","md:block"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar"],[1,"azt-content"],[1,"mr-auto"],["azt-track-service","student-layout-62Iv9eNFqL","class","btn btn-transparent",3,"click",4,"ngIf"],[1,"dropdown","mr-2","sm:mr-4"],[3,"role"],[1,"dropdown","w-8","h-8"],[3,"isTeacherDashboard"],["azt-track-service","student-layout-62Iv9eNFqL",1,"btn","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"side-nav","side-nav--simple"],["azt-track-service","student-layout-un9eQGSmiX",1,"flex","items-center","pl-5","pt-4","relative",3,"routerLink"],["alt","Azota",1,"w-6",3,"src"],[1,"side-nav__devider","my-6"],["azt-track-service","student-layout-B8HCRZRRkc",1,"side-menu",3,"routerLink","changeActiveRouter"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","m9 15 2 2 4-4"],[1,"side-menu__title"],["azt-track-service","student-layout-IlivR6FSj2",1,"side-menu",3,"routerLink","changeActiveRouter"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],["azt-track-service","student-layout-mV8VG2juD5",1,"flex","mr-auto",3,"routerLink"],["azt-track-service","student-layout-vJI1vNSRRy",1,"mobile-menu-toggler",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","text-white","transform","-rotate-90"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"scrollable"],["azt-track-service","student-layout-_36C4dUavQE",1,"mobile-menu-toggler",3,"click"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"scrollable__content","py-2"],["azt-track-service","student-layout-ULLWHHZRD7-",1,"menu",3,"routerLink","changeActiveRouter","click"],[1,"menu__icon"],[1,"menu__title"],["azt-track-service","student-layout-39njUH9XdjK",1,"menu",3,"routerLink","changeActiveRouter","click"]],template:function($,ge){1&$&&(i.F$t(),i.YNc(0,F,5,2,"div",0),i.YNc(1,ne,1,0,"ng-template",null,1,i.W1O),i.YNc(3,he,8,3,"ng-template",null,2,i.W1O),i.YNc(5,ee,33,36,"ng-template",null,3,i.W1O),i.YNc(7,Te,42,28,"ng-template",null,4,i.W1O)),2&$&&i.Q6J("ngIf",ge.isLogin)},dependencies:[B.rH,M.O5,M.tP,U.gM,oe.x,E.f,D.H,y.y,T.q,w.MR,w.bT,w.Jc],encapsulation:2}),G})()},87377:(Ie,re,g)=>{g.d(re,{_:()=>z});var x=g(19347),J=g(39621),i=g(65879),_=g(30251),P=g(11964);let z=(()=>{class R extends J.Q{btnCloseDialog(){this.dialogRef.close()}constructor(B,M){super(),this.dialogRef=B,this.data=M}}return R.\u0275fac=function(B){return new(B||R)(i.Y36(x.so,8),i.Y36(x.WI,8))},R.\u0275cmp=i.Xpm({type:R,selectors:[["azt-dialog-warning"]],features:[i.qOj],decls:17,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","p-3","pb-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"]],template:function(B,M){1&B&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),i.O4$(),i.TgZ(4,"svg",4),i._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),i.qZA(),i._uU(8),i.ALo(9,"mytranslate"),i.qZA(),i.kcU(),i.TgZ(10,"div",8)(11,"azt-mat-dialog-content",9),i._UZ(12,"div",10),i.qZA()()()(),i.TgZ(13,"div",11)(14,"button",12),i.NdJ("click",function(){return M.btnCloseDialog()}),i._uU(15),i.ALo(16,"mytranslate"),i.qZA()()()),2&B&&(i.xp6(8),i.hij(" ",i.lcZ(9,4,"lang_auto_canh_bao")," "),i.xp6(3),i.Q6J("defaultHeight",60),i.xp6(1),i.Q6J("innerHtml",M.data.content,i.oJD),i.xp6(3),i.hij(" ",i.lcZ(16,6,"lang_auto_dong")," "))},dependencies:[_.O,P.bT],encapsulation:2}),R})()},86294:(Ie,re,g)=>{g.d(re,{o:()=>oe});var x=g(37398),J=g(39621),i=g(65879),_=g(32839),P=g(87384),z=g(69862),R=g(96814),W=g(11964);function B(E,D){if(1&E){const y=i.EpF();i.ynx(0),i.TgZ(1,"a",2),i.NdJ("click",function(){i.CHM(y);const w=i.oxw();return i.KtG(w.shareFileToFlutter())}),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"mytranslate"),i.qZA(),i.Hsn(5),i.qZA(),i.BQk()}if(2&E){const y=i.oxw();i.xp6(1),i.Akn(y.style),i.Tol(y.classStyle),i.s9C("target",y.target),i.xp6(2),i.Oqu(i.lcZ(4,7,y.fileDescription))}}function M(E,D){if(1&E&&(i.TgZ(0,"a",3)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.Hsn(4,1),i.qZA()),2&E){const y=i.oxw();i.Akn(y.style),i.Tol(y.classStyle),i.s9C("href",y.dataUrl,i.LSH),i.s9C("target",y.target),i.s9C("download",y.fileName),i.xp6(2),i.Oqu(i.lcZ(3,9,y.fileDescription))}}const U=["*","*"];let oe=(()=>{class E extends J.Q{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,x.U)(y=>y))}shareFileToFlutter(){this.downloadFile().subscribe(y=>{this.shareFileFlutterService.shareFileWithBlob(y,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(y,T,w){super(),this.shareFileFlutterService=y,this.commonService=T,this.http=w,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return E.\u0275fac=function(y){return new(y||E)(i.Y36(_.g),i.Y36(P.v),i.Y36(z.eN))},E.\u0275cmp=i.Xpm({type:E,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[i.qOj],ngContentSelectors:U,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(y,T){if(1&y&&(i.F$t(U),i.YNc(0,B,6,9,"ng-container",0),i.YNc(1,M,5,11,"ng-template",null,1,i.W1O)),2&y){const w=i.MAs(2);i.Q6J("ngIf",T.isMobileWebView)("ngIfElse",w)}},dependencies:[R.O5,W.bT],encapsulation:2}),E})()},44883:(Ie,re,g)=>{g.d(re,{Z:()=>P});var x=g(65879),J=g(87384),i=g(31518),_=g(74736);let P=(()=>{class z{getCurrentAbTestingIndex(){var W=this.browserStorageService.getSimpleStorage(this.actionTextKey);return null==W&&(W=this.commonService.getRandomNumber(0,this.maxActionTextLength-1).toString(),this.browserStorageService.saveSimpleStorage(this.actionTextKey,W)),Number(W)}sendLogShareQuestion(W){let B={action:W+" "+this.getCurrentAbTestingIndex()};this.testMarketQuestionService.apiTestMarketQuestionsLogsPost(B).subscribe(M=>{})}constructor(W,B,M){this.commonService=W,this.browserStorageService=B,this.testMarketQuestionService=M,this.actionTextKey="azt_ab_testing_key",this.maxActionTextLength=2}}return z.\u0275fac=function(W){return new(W||z)(x.LFG(J.v),x.LFG(i.z),x.LFG(_.Q_))},z.\u0275prov=x.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},90059:(Ie,re,g)=>{g.d(re,{Y:()=>_});var x=g(65879),J=g(63934),i=g(87384);let _=(()=>{class P{constructor(R,W){this.userService=R,this.commonService=W}checkLoginZalo(){if(!this.userService.isLogin())return!1;const R=this.userService.getUserObj();return!(!R.zaloId||R.phone&&10==R.phone.length||R.email&&-1!==R.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}}return P.\u0275fac=function(R){return new(R||P)(x.LFG(J.K),x.LFG(i.v))},P.\u0275prov=x.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},90159:(Ie,re,g)=>{g.d(re,{LT:()=>W,P6:()=>R});var x=g(65619),J=g(63019),i=g(37398),_=g(65879),P=g(74736);class z{constructor(M,U,oe,E,D=1,y=!1,T=!1,w,e){this.id=M,this.pr=U,this.type=oe,this.item=E,this.level=D,this.expandable=y,this.isLoading=T,this.prNode=w,this.isLeaf=e}}let R=(()=>{class B{constructor(U){this.testMarketQuestionService=U,this.dataMap=new Map,this.levelId=0,this.subjectId=0}initialData(U,oe){return this.levelId=U,this.subjectId=oe,new Promise(E=>{this.apiLeechData(void 0).then(D=>{E(D.map(y=>new z(y.id,y.pr,y.type,y.name,0,"cate"===y.type,!1,void 0,y.isLeaf)))})})}isExpandable(U){return this.dataMap.has(U)}apiLeechData(U){return new Promise(oe=>{const E=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,U).subscribe(D=>{1===D.success&&D.data&&(D.data.objs||[]).forEach(T=>{E.push({pr:U??0,id:T.id??0,name:T.name?`${T.name}`:"",type:"cate",isLeaf:T.isLeaf??!1})}),oe(E)})})}}return B.\u0275fac=function(U){return new(U||B)(_.LFG(P.Q_))},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();class W{get data(){return this.dataChange.value}set data(M){this._treeControl.dataNodes=M,this.dataChange.next(M)}constructor(M,U){this._treeControl=M,this._database=U,this.dataChange=new x.X([])}connect(M){return this._treeControl.expansionModel.changed.subscribe(U=>{(U.added||U.removed)&&this.handleTreeControl(U)}),(0,J.T)(M.viewChange,this.dataChange).pipe((0,i.U)(()=>this.data))}getNode(M){let U=this.data.filter(oe=>oe.id==M);return U&&U.length>0?U[0]:null}disconnect(M){}handleTreeControl(M){M.added&&M.added.forEach(U=>this.toggleNode(U,!0)),M.removed&&M.removed.slice().reverse().forEach(U=>this.toggleNode(U,!1))}toggleNode(M,U){if("cate"===M.type){const oe=this.data.indexOf(M);if(U)M.isLoading=!0,this._database.apiLeechData(M.id).then(E=>{const D=E.map(y=>new z(y.id,y.pr,y.type,y.name,M.level+1,"cate"===y.type,!1,M,y.isLeaf));this.data.splice(oe+1,0,...D),this.dataChange.next(this.data),M.isLoading=!1});else{let E=0;for(let D=oe+1;D<this.data.length&&this.data[D].level>M.level;D++,E++);this.data.splice(oe+1,E),this.dataChange.next(this.data)}}}}},23106:(Ie,re,g)=>{g.d(re,{Z:()=>y});var x=g(59058),J=g(84537),i=g(36122),_=g(87879);class P{constructor(w,e){this._delegate=w,this.firebase=e,(0,i._addComponent)(w,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=w.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this._delegate.automaticDataCollectionEnabled=w}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(w=>{this._delegate.checkDestroyed(),w()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(w,e=i._DEFAULT_ENTRY_NAME){var Y;this._delegate.checkDestroyed();const F=this._delegate.container.getProvider(w);return!F.isInitialized()&&"EXPLICIT"===(null===(Y=F.getComponent())||void 0===Y?void 0:Y.instantiationMode)&&F.initialize(),F.getImmediate({identifier:e})}_removeServiceInstance(w,e=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(w).clearInstance(e)}_addComponent(w){(0,i._addComponent)(this._delegate,w)}_addOrOverwriteComponent(w){(0,i._addOrOverwriteComponent)(this._delegate,w)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const R=new x.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),M=function B(){const T=function W(T){const w={},e={__esModule:!0,initializeApp:function ne(j,ce={}){const ee=i.initializeApp(j,ce);if((0,x.r3)(w,ee.name))return w[ee.name];const me=new T(ee,e);return w[ee.name]=me,me},app:F,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function he(j){const ce=j.name,ee=ce.replace("-compat","");if(i._registerComponent(j)&&"PUBLIC"===j.type){const me=(Te=F())=>{if("function"!=typeof Te[ee])throw R.create("invalid-app-argument",{appName:ce});return Te[ee]()};void 0!==j.serviceProps&&(0,x.ZB)(me,j.serviceProps),e[ee]=me,T.prototype[ee]=function(...Te){return this._getService.bind(this,ce).apply(this,j.multipleInstances?Te:[])}}return"PUBLIC"===j.type?e[ee]:null},removeApp:function Y(j){delete w[j]},useAsService:function X(j,ce){return"serverAuth"===ce?null:ce},modularAPIs:i}};function F(j){if(!(0,x.r3)(w,j=j||i._DEFAULT_ENTRY_NAME))throw R.create("no-app",{appName:j});return w[j]}return e.default=e,Object.defineProperty(e,"apps",{get:function se(){return Object.keys(w).map(j=>w[j])}}),F.App=T,e}(P);return T.INTERNAL=Object.assign(Object.assign({},T.INTERNAL),{createFirebaseNamespace:B,extendNamespace:function w(e){(0,x.ZB)(T,e)},createSubscribe:x.ne,ErrorFactory:x.LL,deepExtend:x.ZB}),T}(),U=new _.Yd("@firebase/app-compat");if((0,x.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const T=self.firebase.SDK_VERSION;T&&T.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const y=M;!function D(T){(0,i.registerVersion)("@firebase/app-compat","0.2.13",T)}()},17142:(Ie,re,g)=>{g.d(re,{Z:()=>x.Z});var x=g(23106);x.Z.registerVersion("firebase","9.23.0","app-compat")}}]);