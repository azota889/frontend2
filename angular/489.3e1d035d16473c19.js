"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[489],{71572:(xt,it,d)=>{d.d(it,{o:()=>rt});var z=d(55330),r=d(94650),$=d(28255),Q=d(10266),st=d(1033);let rt=(()=>{class V extends z.Q{constructor(){super(...arguments),this.id="",this.linkUrl="",this.fileName=""}bindUrlToQrCode(){let E=document.getElementById("qrcode_making"+this.id);E&&(E.textContent="");try{this.qrcode=this.commonService.createObjectQrcode(this.linkUrl,128,128,"url",!1,"qrcode_making"+this.id)}catch{console.log("Create qrcode error")}}downloadQrCode(){try{var E=this.qrcode._oDrawing.dataURL,N=document.createElement("a");document.body.appendChild(N),N.setAttribute("href",E),N.setAttribute("download",""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg"),N.click()}catch{console.log("Download qrcode error")}}}return V.\u0275fac=function(){let ot;return function(N){return(ot||(ot=r.n5z(V)))(N||V)}}(),V.\u0275cmp=r.Xpm({type:V,selectors:[["azt-download-qr-code"]],inputs:{id:"id",linkUrl:"linkUrl",fileName:"fileName"},features:[r.qOj],decls:27,vars:8,consts:[["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["showQrCode","matMenu"],["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"click"],[2,"background","#fff","padding","5px"],[1,"upload-qr-box-item-content-qr",3,"id"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"]],template:function(E,N){if(1&E&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return N.bindUrlToQrCode()}),r.ALo(1,"mytranslate"),r.O4$(),r.TgZ(2,"svg",1),r._UZ(3,"rect",2)(4,"rect",3)(5,"rect",4)(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13),r.qZA()(),r.kcU(),r.TgZ(15,"mat-menu",null,14)(17,"div",15),r.NdJ("click",function(y){return y.stopPropagation()}),r.TgZ(18,"div",16),r._UZ(19,"div",17),r.qZA(),r.TgZ(20,"a",18),r.NdJ("click",function(){return N.downloadQrCode()}),r.O4$(),r.TgZ(21,"svg",19),r._UZ(22,"path",20)(23,"polyline",21)(24,"line",22),r.qZA(),r._uU(25),r.ALo(26,"mytranslate"),r.qZA()()()),2&E){const K=r.MAs(16);r.s9C("matTooltip",r.lcZ(1,4,"lang_auto_quet_hoac_tai_ma_qr_code")),r.Q6J("matMenuTriggerFor",K),r.xp6(19),r.MGl("id","qrcode_making",N.id,""),r.xp6(6),r.hij(" ",r.lcZ(26,6,"lang_auto_tai_ve_may")," ")}},dependencies:[$.VK,$.p6,Q.gM,st.bT],encapsulation:2}),V})()},91350:(xt,it,d)=>{d.d(it,{Q:()=>K});var z=d(55330),r=d(94650),$=d(36895),Q=d(73162),st=d(1033);function rt(y,R){if(1&y&&(r.O4$(),r.kcU(),r._UZ(0,"mat-progress-bar",10)),2&y){const M=r.oxw();r.Q6J("value",M.progress_value)}}function V(y,R){if(1&y&&(r.O4$(),r.kcU(),r.TgZ(0,"div",11),r._uU(1),r.qZA()),2&y){const M=r.oxw();r.xp6(1),r.Oqu(M.getMsg())}}function ot(y,R){if(1&y){const M=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"div",12),r._uU(1),r.ALo(2,"mytranslate"),r.TgZ(3,"a",13),r.NdJ("click",function(){r.CHM(M);const B=r.oxw();return r.KtG(B.isShowErrorsBox=!B.isShowErrorsBox)}),r._uU(4),r.ALo(5,"mytranslate"),r.ALo(6,"mytranslate"),r.qZA()()}if(2&y){const M=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,2,"lang_auto_da_xay_ra_loi_trong_qua_trinh_trao_doi_du_lieu_")," "),r.xp6(3),r.hij(" ",M.isShowErrorsBox?r.lcZ(5,4,"lang_auto_an_chi_tiet"):r.lcZ(6,6,"lang_auto_xem_chi_tiet")," ")}}function E(y,R){if(1&y&&(r.O4$(),r.kcU(),r.TgZ(0,"div",12),r._uU(1),r.qZA()),2&y){const M=r.oxw();r.xp6(1),r.hij(" ",M.LogErrorsRequest," ")}}function N(y,R){if(1&y&&(r.O4$(),r.kcU(),r.TgZ(0,"div",14),r._uU(1),r.ALo(2,"mytranslate"),r.qZA()),2&y){const M=r.oxw();r.xp6(1),r.Oqu(M.customText?M.customText:r.lcZ(2,1,"lang_auto_dang_tai_du_lieu")+"...")}}let K=(()=>{class y extends z.Q{constructor(){super(...arguments),this.progress_value=-1,this.LogErrorsRequest=!1,this.customText="",this.isShowErrorsBox=!1}getMsg(){var M,q;let B="";return 100==this.progress_value||0==this.progress_value?(B=null!==(M=this.commonService.myTranslateInstant("lang_auto_dang_xu_ly"))&&void 0!==M?M:"",`${B} ...`):(B=null!==(q=this.commonService.myTranslateInstant("lang_auto_dang_tai_tep_tin_len_he_thong"))&&void 0!==q?q:"",`${B}... ${this.progress_value} %`)}}return y.\u0275fac=function(){let R;return function(q){return(R||(R=r.n5z(y)))(q||y)}}(),y.\u0275cmp=r.Xpm({type:y,selectors:[["azt-loading-effect"]],inputs:{progress_value:"progress_value",LogErrorsRequest:"LogErrorsRequest",customText:"customText"},features:[r.qOj],decls:12,vars:5,consts:[[1,"box-loading","h-full"],[1,"text-center","py-4"],["version","1.1","id","jobing-j-drawit","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 109 92.9",0,"xml","space","preserve",1,"w-12","mx-auto",2,"enable-background","new 0 0 109 92.9"],["d","M90.8,52c3.5,6.2,7.1,11.7,9.8,17.7c4.4,9.7-2.9,20.7-13.8,20.9c-11.8,0.2-23.7,0.2-35.5,0 c-11-0.1-17.6-12.2-12-21.7c0.4-0.8,1.8-1.4,2.7-1.4c9.9-0.1,19.7-0.1,29.6-0.1c9.8,0,15.9-4.6,18.7-14C90.4,53.2,90.5,52.9,90.8,52 z",1,"azt-svg-loading","jobing-j"],["d","M39.6,90.3c-6.8,0-13.8,0.8-20.5-0.2c-9.7-1.4-15-12.8-10.3-21.3c5.9-10.9,12.1-21.6,18.5-32.2 c5.5-9,18.6-8.7,24.2,0.2c0.7,1.1,0.8,1.9,0.1,3.1C46.7,48.3,42,57,36.8,65.3c-5.3,8.4-3.8,18.8,2.5,24.6 C39.5,89.9,39.5,90.2,39.6,90.3z",1,"azt-svg-loading","jobing-j"],["d","M32.5,27.3c3.3-5.7,6.1-11,9.4-16c5.9-9.1,19.4-9.2,25.1,0c6.5,10.4,12.6,21,18.3,31.7 c4.8,9-1.5,19.9-11.5,20.7c-1.6,0.1-2.6-0.2-3.5-1.8c-4.8-8.6-9.8-17.1-14.7-25.6c-4.7-8.3-12.5-11.6-21.7-9.2 C33.6,27.1,33.3,27.1,32.5,27.3z",1,"azt-svg-loading","jobing-j"],["style","margin-bottom: 30px; border-radius: 5px","mode","buffer",3,"value",4,"ngIf"],["class","note text-center font-weight-bold",4,"ngIf","ngIfElse"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["notLoading",""],["mode","buffer",2,"margin-bottom","30px","border-radius","5px",3,"value"],[1,"note","text-center","font-weight-bold"],["role","alert",1,"alert","alert-danger","mt-3"],["azt-track-service","loading-effect-5TYv52U-wgq","href","javscript:void(0)",3,"click"],[1,"note","text-center","font-medium"]],template:function(M,q){if(1&M&&(r.TgZ(0,"div",0)(1,"div",1),r.O4$(),r.TgZ(2,"svg",2),r._UZ(3,"path",3)(4,"path",4)(5,"path",5),r.qZA()(),r.YNc(6,rt,1,1,"mat-progress-bar",6),r.YNc(7,V,2,1,"div",7),r.YNc(8,ot,7,8,"div",8),r.YNc(9,E,2,1,"div",8),r.YNc(10,N,3,3,"ng-template",null,9,r.W1O),r.qZA()),2&M){const B=r.MAs(11);r.xp6(6),r.Q6J("ngIf",-1!=q.progress_value),r.xp6(1),r.Q6J("ngIf",-1!=q.progress_value)("ngIfElse",B),r.xp6(1),r.Q6J("ngIf",!1!==q.LogErrorsRequest),r.xp6(1),r.Q6J("ngIf",q.isShowErrorsBox)}},dependencies:[$.O5,Q.pW,st.bT],encapsulation:2}),y})()},20489:(xt,it,d)=>{d.r(it),d.d(it,{HomeworkFrontModule:()=>ko});var z=d(36895),r=d(24006),$=d(76619),Q=d(34793),st=d(39102),rt=d(93194),V=d(1737),ot=d(63728),E=d(59650),N=d(47470),K=d(75658),y=d(86705),R=d(8785),M=d(34641),q=d(51178),B=d(45668),nt=d(55330),t=d(94650);let Mt=(()=>{class o extends nt.Q{}return o.\u0275fac=function(){let a;return function(n){return(a||(a=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","homework-frontend-layout"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[Q.lC],encapsulation:2}),o})();var at=d(70655),kt=d(80529),Zt=d(39841),jt=d(30502),At=d(58410),J=d(51442),Ot=d(4307),P=d(1033);let Ht=(()=>{class o extends nt.Q{constructor(e,n,i,s){super(),this.router=e,this.redirectService=n,this.dialogRef=i,this.data=s}btnCloseDialog(){this.dialogRef.close()}goToLogin(){var e,n;let i=`${this.router.url}`;i=-1!==i.indexOf("?")?i.slice(0,i.indexOf("?")):i,this.btnCloseDialog(),this.redirectService.redirectToLoginBackLinkWithFromRegister(`${i}%3FstudentId%3D${null===(n=null===(e=this.data)||void 0===e?void 0:e.studentObj)||void 0===n?void 0:n.id}`)}get noteUserInfo(){var e,n,i,s,l,_;let c=`${this.commonService.myTranslateInstant("lang_auto_hoc_sinh")} <b>${null===(e=this.data.studentObj)||void 0===e?void 0:e.fullName}</b> ${this.commonService.myTranslateInstant("lang_auto_da_duoc_chon_boi_tai_khoan")} `;return null!==(n=this.data.studentObj)&&void 0!==n&&n.userEmail?c+=`${this.commonService.myTranslateInstant("lang_auto_da_duoc_chon_boi_email")} <b>${null===(i=this.data.studentObj)||void 0===i?void 0:i.userEmail}</b>`:null!==(s=this.data.studentObj)&&void 0!==s&&s.last4DigitPhone?c+=`${this.commonService.myTranslateInstant("lang_auto_voi_sdt_co_duoi")} - xxx xxx <b>${null===(l=this.data.studentObj)||void 0===l?void 0:l.last4DigitPhone}</b>`:c+=`${this.commonService.myTranslateInstant("lang_auto_voi_ten_zalo")} - <b>${null===(_=this.data.studentObj)||void 0===_?void 0:_.zaloName}</b>`,c+=` ${this.commonService.myTranslateInstant("lang_auto__dang_nhap_de_tiep_tuc")}`,c}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Q.F0),t.Y36(Ot.V),t.Y36($.so,8),t.Y36($.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-require-login"]],features:[t.qOj],decls:20,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400",3,"innerHTML"],[1,"p-3","text-right"],["azt-track-service","require-login-hxjup4A1RzX",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","require-login-6uxsepMgXlJ",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",8),t._UZ(11,"p",9),t.ALo(12,"safeAdminHtmlContent"),t.qZA()()(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return n.btnCloseDialog()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return n.goToLogin()}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,4,"lang_auto_hoc_sinh_nay_da_duoc_chon"),"! "),t.xp6(3),t.Q6J("innerHTML",t.lcZ(12,6,n.noteUserInfo),t.oJD),t.xp6(4),t.hij(" ",t.lcZ(16,8,"lang_auto_dong")," "),t.xp6(3),t.hij(" ",t.lcZ(19,10,"lang_auto_xac_nhan")," "))},dependencies:[P.bT,P.LW]}),o})();function It(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3",6),t.O4$(),t.TgZ(4,"svg",7),t._UZ(5,"polygon",8)(6,"line",9)(7,"line",10),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",11)(11,"button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.redirectToRegister())}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",13)(15,"p",14),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",15)(19,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.redirectToLogin())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()()}2&o&&(t.xp6(8),t.hij(" ",t.lcZ(9,4,"lang_homework_homework_frontend_submit_homework_register_account_submit")," "),t.xp6(4),t.hij(" ",t.lcZ(13,6,"lang_buttom_register")," "),t.xp6(4),t.hij(" ",t.lcZ(17,8,"lang_homework_homework_frontend_submit_homework_have_account"),"? "),t.xp6(4),t.hij(" ",t.lcZ(21,10,"lang_buttom_login")," "))}function Ft(o,a){1&o&&(t.O4$(),t.TgZ(0,"svg",23)(1,"g",24)(2,"g",25),t._UZ(3,"circle",26),t.TgZ(4,"path",27),t._UZ(5,"animateTransform",28),t.qZA()()()())}function Lt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",17)(2,"p",18),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p",19),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"div",20)(9,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.confirmQuit())}),t.YNc(10,Ft,6,0,"svg",22),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,4,"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_buttom_register")),t.xp6(4),t.Q6J("ngIf",!0===e.isLoading),t.xp6(1),t.hij(" ",t.lcZ(12,8,"lang_buttom_confirm")," ")}}function Pt(o,a){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,It,22,12,"div",2),t.YNc(2,Lt,13,10,"div",2),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.viewType),t.xp6(1),t.Q6J("ngIf",1==e.viewType)}}let Dt=(()=>{class o extends nt.Q{constructor(e,n,i,s){super(),this.router=e,this.redirectService=n,this.dialogRef=i,this.data=s,this.isLoading=!1,this.viewType=0}confirmQuit(){this.dialogRef.close(!0)}checkType(e){"redirect_register"==e?this.viewType=0:"submit_name"==e&&(this.viewType=1)}redirectToRegister(){this.redirectService.redirectRegisterForStudent(),this.dialogRef.close()}redirectToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`),this.dialogRef.close()}ngOnInit(){this.data&&this.checkType(this.data.type),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Q.F0),t.Y36(Ot.V),t.Y36($.so,8),t.Y36($.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-message-dialog"]],features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],["class","school-info box p-5","style","min-width: 400px",4,"ngIf"],[1,"school-info","box","p-5",2,"min-width","400px"],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mx-auto","mt-2"],["azt-track-service","message-dialog-mbvZs1BXU4",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"mx-auto"],["azt-track-service","message-dialog-VmueIbouAH",1,"btn","w-24","btn-primary",3,"click"],[1,"text-center"],[1,"mb-1","font-md"],[1,"mb-0","font-md","text-primary"],[1,"flex","float-right","mt-3"],["azt-track-service","message-dialog-YNMh3yP3xz",1,"btn","w-40","btn-primary",2,"margin-left","15px",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)","class","w-5 h-5 mr-3",4,"ngIf"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)",1,"w-5","h-5","mr-3"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,n){1&e&&t.YNc(0,Pt,3,2,"div",0),2&e&&t.Q6J("ngIf",null==n.data?null:n.data.isShow)},dependencies:[z.O5,P.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),o})();var Ut=d(76056),Nt=d(58326),Jt=d(65834),X=d(49326),Qt=d(45511),lt=d(1218),zt=d(88386),qt=d(35191),Et=d(68272),Yt=d(10266),$t=d(81903),dt=d(37104),Rt=d(71572),Bt=d(30004),ct=d(15043),yt=d(97392);function Vt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.viewDetailHistory(null==i?null:i.id))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xem_chi_tiet")))}function Wt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",17)(1,"a",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.onShowFile(s,-1))}),t.TgZ(2,"mat-icon",19),t._uU(3,"attach_file"),t.qZA(),t.TgZ(4,"span",20),t._uU(5),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function Gt(o,a){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,Wt,6,2,"div",16),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.fileParse)}}function Kt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",17)(1,"a",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(5);return t.KtG(l.onShowFile(s,-1))}),t.TgZ(2,"mat-icon",19),t._uU(3,"attach_file"),t.qZA(),t.TgZ(4,"span",20),t._uU(5),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function Xt(o,a){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,Kt,6,2,"div",16),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.fileParse)}}function te(o,a){if(1&o&&(t.TgZ(0,"p",8),t._UZ(1,"azt-check-mark",30),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.point)}}function ee(o,a){if(1&o&&(t.TgZ(0,"div",24)(1,"div",25),t.YNc(2,te,2,1,"p",26),t.qZA(),t.TgZ(3,"div",27)(4,"span",28),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"div",29),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf",!e.hideMark),t.xp6(3),t.Oqu(t.lcZ(6,3,"lang_homework_homework_frontend_utils_comment")),t.xp6(2),t.Q6J("innerHTML",e.note,t.oJD)}}function oe(o,a){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,Xt,2,1,"div",12),t.YNc(2,ee,8,5,"div",22),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.fileParse&&e.fileParse.length>0),t.xp6(1),t.Q6J("ngIf",null!=e&&null!=e.confirmedAt)}}function ne(o,a){if(1&o&&(t.TgZ(0,"div",6)(1,"div",7)(2,"span",8),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA(),t.YNc(6,Vt,3,3,"a",9),t.qZA(),t.TgZ(7,"div",7)(8,"span",10),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",11),t._uU(12),t.qZA()()(),t.YNc(13,Gt,2,1,"div",12),t.YNc(14,oe,3,2,"div",13),t.qZA()),2&o){const e=a.$implicit;t.xp6(3),t.AsE("",t.lcZ(4,7,"lang_auto_nop_luc"),": ",t.lcZ(5,9,e.createdAt),""),t.xp6(3),t.Q6J("ngIf",e.result),t.xp6(3),t.hij("",t.lcZ(10,11,"lang_homework_homework_frontend_utils_request_submit"),": "),t.xp6(3),t.Oqu(e.resendNote),t.xp6(1),t.Q6J("ngIf",!e.result&&e.files),t.xp6(1),t.Q6J("ngIf",e.result)}}function ie(o,a){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()(),t.YNc(6,ne,15,13,"div",5),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,2,"lang_homework_homework_frontend_utils_history_submit")),t.xp6(2),t.Q6J("ngForOf",e.dataAnswerHistory)}}let se=(()=>{class o extends nt.Q{constructor(e){super(),this.cdnService=e,this.previewFileEmit=new t.vpe,this.isShowPreviewFile=!1,this.answerFile=null}viewDetailHistory(e){var n,i;this.commonService.myNavigation("/homework/switch-view-homework/"+(null===(n=this.dataHomeworkObj)||void 0===n?void 0:n.id)+"/"+(null===(i=this.dataHomeworkObj)||void 0===i?void 0:i.hashId)+"/"+e)}onFileClose(){this.isShowPreviewFile=!1}onShowFile(e,n){this.isShowPreviewFile=!0;let i=Object.assign(Object.assign({},e),{index:n});this.previewFileEmit.emit(i)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ct.U))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-answer-history"]],inputs:{dataAnswerHistory:"dataAnswerHistory",dataHomeworkObj:"dataHomeworkObj"},outputs:{previewFileEmit:"previewFileEmit"},features:[t.qOj],decls:1,vars:1,consts:[["class","card-box mt-3",4,"ngIf"],[1,"card-box","mt-3"],[1,"row","top-row"],[1,"col-12","text-center"],[1,"h5","text-white"],["class","ml-0 mr-0 mt-4 attach-container p-2",4,"ngFor","ngForOf"],[1,"ml-0","mr-0","mt-4","attach-container","p-2"],[1,"flex-title","mt-2","pl-3","pr-3"],[1,"mb-0"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click",4,"ngIf"],[1,"mb-0",2,"font-weight","400"],[1,"text-danger","text-bold"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","mt-2",4,"ngIf"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],["azt-track-service","answer-history--J0jh8HNJVI","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"mt-2"],["class","row justify-content-between mt-2","style","margin: 16px!important;",4,"ngIf"],["azt-track-service","answer-history-F80xamrrLdV","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-sm-3","col-md-3","col-lg-3","_col-left_result","text-center"],["class","mb-0",4,"ngIf"],[1,"col-sm-8","col-md-8","col-lg-8","_col-right_result"],[1,"h5","title"],[1,"content-homework","pt-3",3,"innerHTML"],[3,"mark"]],template:function(e,n){1&e&&t.YNc(0,ie,7,4,"div",0),2&e&&t.Q6J("ngIf",n.dataAnswerHistory&&n.dataAnswerHistory.length>0)},dependencies:[z.sg,z.O5,yt.Hw,dt.B,P.bT,P.tO],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}"]}),o})();function re(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_frontend_come_back_at")+t.lcZ(3,3,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate))}}function ae(o,a){if(1&o&&(t.TgZ(0,"div")(1,"div",5)(2,"div",6),t.O4$(),t.TgZ(3,"svg",7),t._UZ(4,"path",8)(5,"path",9)(6,"path",10)(7,"path",11)(8,"path",12)(9,"path",13)(10,"path",14),t.qZA(),t.kcU(),t.TgZ(11,"div",15),t._uU(12),t.ALo(13,"mytranslate"),t.YNc(14,re,4,5,"span",2),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(12),t.hij(" ",t.lcZ(13,2,e.statusObj.errorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_not_start_homework_obj"==e.statusObj.errorMessage&&(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate))}}function le(o,a){if(1&o&&(t.TgZ(0,"div",20)(1,"div",21)(2,"h3",22),t._uU(3),t.qZA(),t.TgZ(4,"div",23),t._UZ(5,"azt-download-qr-code",24),t.qZA()(),t.TgZ(6,"div",25)(7,"span",21),t.O4$(),t.TgZ(8,"svg",26),t._UZ(9,"path",27)(10,"path",28)(11,"path",29)(12,"path",30)(13,"rect",31)(14,"rect",32),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.kcU(),t.TgZ(17,"span",33)(18,"span"),t._uU(19),t.qZA()()()()()),2&o){const e=t.oxw(2);t.xp6(3),t.hij(" ",null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name," "),t.xp6(2),t.Q6J("fileName","azota_submit_homework_qrcode_"+e.homeworkHashId)("linkUrl",e.copyLinkToClipboard()),t.xp6(10),t.hij(" ",t.lcZ(16,5,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),t.xp6(4),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)}}function ce(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",16),t.YNc(1,le,20,7,"div",17),t.TgZ(2,"div",18)(3,"app-select-student",19),t.NdJ("selectChild",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.closeChooseStudent(i))})("approvedByName",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.approvedToClass(i))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==e.obj?null:e.obj.homeworkObj)&&(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)&&""!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)),t.xp6(2),t.Q6J("homeworkFlow",!0)("data",e.chooseChildData)("showAddStudent",null==e.chooseChildData.classObj?null:e.chooseChildData.classObj.showAddStudent)}}function de(o,a){1&o&&(t.TgZ(0,"div",36)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_core_over_time_deadline")))}function _e(o,a){if(1&o&&(t.TgZ(0,"div",25)(1,"span",21),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"path",63)(4,"circle",64),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.kcU(),t.TgZ(7,"span",42),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_ten_hoc_sinh")+":"," "),t.xp6(3),t.hij(" ",e.currentChild.fullName," ")}}function me(o,a){if(1&o&&(t.TgZ(0,"div",65)(1,"span",21),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"rect",66)(4,"line",67)(5,"line",68)(6,"line",69)(7,"path",70)(8,"path",71)(9,"path",72)(10,"path",73)(11,"path",74)(12,"path",75),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.kcU(),t.TgZ(15,"span",42),t._uU(16),t.ALo(17,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(13),t.hij(" ",t.lcZ(14,2,"lang_auto_bat_dau_nop")+":"," "),t.xp6(3),t.hij(" ",t.lcZ(17,4,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate)," ")}}function ue(o,a){if(1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline))}}function he(o,a){1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_homework_frontend_submit_homework_not_time")))}function ge(o,a){if(1&o&&t._UZ(0,"img",84),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.url,t.LSH)}}function pe(o,a){if(1&o&&(t._UZ(0,"img",84),t.ALo(1,"convertCdnLinkOfGitHub")),2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.Q6J("src",t.lcZ(1,1,n.getFileIcon(e)),t.LSH)}}function ve(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",76)(1,"div",77)(2,"a",78),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.onShowFile(s,-1))}),t.TgZ(3,"div",79),t.YNc(4,ge,1,1,"img",80),t.YNc(5,pe,2,3,"img",80),t.qZA(),t.TgZ(6,"div",81)(7,"p",82),t._uU(8),t.qZA(),t.TgZ(9,"div",83),t._uU(10),t.qZA()()()()()}if(2&o){const e=a.$implicit,n=t.oxw(3);let i,s;t.xp6(4),t.Q6J("ngIf",null==e.mimes?null:e.mimes.includes("image")),t.xp6(1),t.Q6J("ngIf",!(null!=e.mimes&&e.mimes.includes("image"))),t.xp6(2),t.Q6J("matTooltip",null!==(i=e.name)&&void 0!==i?i:""),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Oqu(n.getFileType(null!==(s=e.mimes)&&void 0!==s?s:""))}}function fe(o,a){1&o&&(t.TgZ(0,"div",102)(1,"div",103)(2,"div",104)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function we(o,a){1&o&&(t.TgZ(0,"div",105)(1,"h5",106),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_loading_wait_it"),"!"))}function be(o,a){if(1&o&&(t.TgZ(0,"div",109)(1,"h5",110),t._uU(2),t.qZA(),t.TgZ(3,"div",111),t._UZ(4,"progress",112),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.s9C("value",e.uploadProgress)}}function xe(o,a){if(1&o&&(t.TgZ(0,"div",107),t.YNc(1,be,5,2,"div",108),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function ke(o,a){1&o&&(t.TgZ(0,"div",105)(1,"h5",113),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_submit_success"),"!"))}function je(o,a){if(1&o&&(t.ynx(0),t._UZ(1,"video",128),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.url+"#t=5",t.LSH)}}function Oe(o,a){if(1&o&&(t._UZ(0,"img",129),t.ALo(1,"mycdn")),2&o){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb),t.LSH)}}function ye(o,a){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",130),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw(6);return t.KtG(s.removeImg(i.url))}),t.O4$(),t.TgZ(1,"svg",131),t._UZ(2,"line",132)(3,"line",133),t.qZA()()}}function Ce(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",116)(1,"div",117),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(6);return t.KtG(l.onShowFile(s,-1))}),t.YNc(2,je,2,1,"ng-container",60),t.ALo(3,"isVideo"),t.YNc(4,Oe,2,3,"ng-template",null,118,t.W1O),t.qZA(),t.TgZ(6,"div",119)(7,"button",120),t.NdJ("click",function(){const s=t.CHM(e).index,l=t.oxw(6);return t.KtG(l.switchAttributeArray(l.answerFileList,s,s-1))}),t.O4$(),t.TgZ(8,"svg",121),t._UZ(9,"polyline",122),t.qZA()(),t.kcU(),t.TgZ(10,"input",123,124),t.NdJ("keyup.enter",function(){const s=t.CHM(e).index,l=t.MAs(11),_=t.oxw(6);return t.KtG(_.switchAttributeArrayInput(s,l.value))})("change",function(){const s=t.CHM(e).index,l=t.MAs(11),_=t.oxw(6);return t.KtG(_.switchAttributeArrayInput(s,l.value))}),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",125),t.NdJ("click",function(){const s=t.CHM(e).index,l=t.oxw(6);return t.KtG(l.switchAttributeArray(l.answerFileList,s,s+1))}),t.O4$(),t.TgZ(14,"svg",121),t._UZ(15,"polyline",126),t.qZA()()(),t.YNc(16,ye,4,0,"div",127),t.qZA()}if(2&o){const e=a.$implicit,n=a.index,i=t.MAs(5),s=t.oxw(6);let l;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,7,null!==(l=e.mimes)&&void 0!==l?l:""))("ngIfElse",i),t.xp6(8),t.s9C("id","input_page_"+n),t.s9C("max",null==s.answerFileList?null:s.answerFileList.length),t.s9C("value",n+1),t.s9C("placeholder",t.lcZ(12,9,"lang_auto_trang_so")),t.xp6(6),t.Q6J("ngIf",!(null!=s.obj&&s.obj.isMarked&&s.isShowGreenCheckbox(e.url)))}}function Se(o,a){if(1&o&&(t.TgZ(0,"div",114),t.YNc(1,Ce,17,11,"div",115),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function Te(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,fe,6,3,"div",89),t.YNc(2,we,4,3,"div",90),t.YNc(3,xe,2,1,"div",91),t.YNc(4,ke,4,3,"div",90),t.YNc(5,Se,2,1,"div",92),t.TgZ(6,"div",93),t.O4$(),t.TgZ(7,"svg",47),t._UZ(8,"path",94)(9,"polyline",95)(10,"line",96),t.qZA(),t.kcU(),t.TgZ(11,"span",97),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"input",98,99),t.NdJ("change",function(i){t.CHM(e);const s=t.oxw(4);return t.KtG(s.selectFile(i))}),t.qZA()(),t.TgZ(16,"div",100)(17,"span",101),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isMarked),t.xp6(1),t.Q6J("ngIf",e.statusObjData.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",(null==e.answerFileList?null:e.answerFileList.length)&&(null==e.rawAnswerFileList?null:e.rawAnswerFileList.length)&&e.isSubmit),t.xp6(1),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length),t.xp6(7),t.Oqu(t.lcZ(13,7,"lang_auto_upload_file")),t.xp6(6),t.Oqu(t.lcZ(19,9,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function Me(o,a){1&o&&(t.TgZ(0,"div",102)(1,"div",103)(2,"div",104)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function Ze(o,a){if(1&o&&(t.ynx(0),t._UZ(1,"video",128),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.url+"#t=5",t.LSH)}}function Ae(o,a){if(1&o&&(t._UZ(0,"img",139),t.ALo(1,"mycdn")),2&o){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb),t.LSH)}}function He(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",116)(1,"div",135),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(6);return t.KtG(l.onShowFile(s,-1))}),t.YNc(2,Ze,2,1,"ng-container",60),t.ALo(3,"isVideo"),t.YNc(4,Ae,2,3,"ng-template",null,136,t.W1O),t.qZA(),t.TgZ(6,"div",119)(7,"button",137),t.O4$(),t.TgZ(8,"svg",121),t._UZ(9,"polyline",122),t.qZA()(),t.kcU(),t._UZ(10,"input",138,124),t.ALo(12,"mytranslate"),t.TgZ(13,"button",137),t.O4$(),t.TgZ(14,"svg",121),t._UZ(15,"polyline",126),t.qZA()()()()}if(2&o){const e=a.$implicit,n=a.index,i=t.MAs(5),s=t.oxw(6);let l;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,6,null!==(l=e.mimes)&&void 0!==l?l:""))("ngIfElse",i),t.xp6(8),t.s9C("id","input_page_"+n),t.s9C("max",null==s.answerFileList?null:s.answerFileList.length),t.s9C("value",n+1),t.s9C("placeholder",t.lcZ(12,8,"lang_auto_trang_so"))}}function Ie(o,a){if(1&o&&(t.TgZ(0,"div",114),t.YNc(1,He,16,10,"div",115),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function Fe(o,a){1&o&&(t.TgZ(0,"div",140)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_end_time_submit")))}function Le(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Me,6,3,"div",89),t.YNc(2,Ie,2,1,"div",92),t.YNc(3,Fe,4,3,"div",134),t.BQk()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isMarked),t.xp6(1),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length),t.xp6(1),t.Q6J("ngIf",(null==e.obj?null:e.obj.isOverTime)&&!(null!=e.obj&&e.obj.isMarked))}}function Pe(o,a){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",142),t._uU(2,"\xa0"),t.qZA())}function De(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.submitHomework())}),t.YNc(1,Pe,3,0,"span",2),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw(4);t.Q6J("disabled",e.statusObjData.loading||!(null!=e.answerFileList&&e.answerFileList.length)||(null==e.obj?null:e.obj.isMarked)||e.isNotChangeData),t.xp6(1),t.Q6J("ngIf",!0===e.statusObjData.loading),t.xp6(1),t.hij("",null!=e.obj&&e.obj.isMarked?t.lcZ(3,3,"lang_homework_homework_frontend_submit_homework_submited"):t.lcZ(4,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function Ue(o,a){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",142),t._uU(2,"\xa0"),t.qZA())}function Ne(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",143),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.submitHomework())}),t.YNc(1,Ue,3,0,"span",2),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw(4);t.Q6J("disabled",e.statusObjData.loading||!(null!=e.answerFileList&&e.answerFileList.length)||(null==e.obj?null:e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",!0===e.statusObjData.loading),t.xp6(1),t.hij("",null!=e.obj&&e.obj.isMarked?t.lcZ(3,3,"lang_homework_homework_frontend_submit_homework_submited"):t.lcZ(4,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function Je(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",85),t.YNc(2,Te,20,11,"ng-container",2),t.YNc(3,Le,4,3,"ng-container",2),t.qZA(),t.TgZ(4,"div",86),t.YNc(5,De,5,7,"button",87),t.YNc(6,Ne,5,7,"button",88),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!(null!=e.obj&&e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isOverTime),t.xp6(2),t.Q6J("ngIf",!(null!=e.obj&&e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isOverTime)}}function Qe(o,a){if(1&o&&(t.ynx(0),t._UZ(1,"video",128),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.url+"#t=5",t.LSH)}}function ze(o,a){if(1&o&&(t._UZ(0,"img",139),t.ALo(1,"mycdn")),2&o){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb),t.LSH)}}function qe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",116)(1,"div",151),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(5);return t.KtG(l.onShowFile(s,-1))}),t.YNc(2,Qe,2,1,"ng-container",60),t.ALo(3,"isVideo"),t.YNc(4,ze,2,3,"ng-template",null,152,t.W1O),t.qZA(),t.TgZ(6,"div",119)(7,"button",137),t.O4$(),t.TgZ(8,"svg",121),t._UZ(9,"polyline",122),t.qZA()(),t.kcU(),t._UZ(10,"input",138,124),t.ALo(12,"mytranslate"),t.TgZ(13,"button",137),t.O4$(),t.TgZ(14,"svg",121),t._UZ(15,"polyline",126),t.qZA()()()()}if(2&o){const e=a.$implicit,n=a.index,i=t.MAs(5),s=t.oxw(5);let l;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,6,null!==(l=e.mimes)&&void 0!==l?l:""))("ngIfElse",i),t.xp6(8),t.s9C("id","input_page_"+n),t.s9C("max",null==s.answerFileList?null:s.answerFileList.length),t.s9C("value",n+1),t.s9C("placeholder",t.lcZ(12,8,"lang_auto_trang_so"))}}function Ee(o,a){if(1&o&&(t.TgZ(0,"div",150),t.YNc(1,qe,16,10,"div",115),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function Ye(o,a){1&o&&(t.TgZ(0,"div",153),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark")," "))}function $e(o,a){1&o&&t._UZ(0,"p",162)}function Re(o,a){if(1&o&&(t.TgZ(0,"p",162),t._UZ(1,"azt-check-mark",163),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("mark",e.answerObj.point)}}function Be(o,a){if(1&o&&t._UZ(0,"div",168),2&o){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Ve(o,a){if(1&o&&t._UZ(0,"div",169),2&o){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function We(o,a){if(1&o&&t._UZ(0,"div",170),2&o){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Ge(o,a){if(1&o&&t._UZ(0,"div",171),2&o){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Ke(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Be,1,1,"div",164),t.YNc(2,Ve,1,1,"div",165),t.YNc(3,We,1,1,"div",166),t.YNc(4,Ge,1,1,"div",167),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("ngIf","font_chu_in"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_in_\u0111am"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_dep_z"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_in_nghieng"==e.answerObj.txtCommentFont)}}function Xe(o,a){if(1&o&&(t._UZ(0,"div",172),t.ALo(1,"safeAdminHtmlContent")),2&o){const e=t.oxw(5);t.Q6J("innerHTML",t.lcZ(1,1,e.answerObj.note),t.oJD)}}function to(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",154)(1,"h5",146),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t._uU(4,"\xa0("),t.TgZ(5,"a",155),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.viewDetail())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._uU(8,") "),t.qZA(),t.TgZ(9,"div",156)(10,"div",157),t.YNc(11,$e,1,0,"p",158),t.YNc(12,Re,2,1,"p",158),t.qZA(),t.TgZ(13,"div",159)(14,"h4",160),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.YNc(17,Ke,5,4,"div",60),t.YNc(18,Xe,2,3,"ng-template",null,161,t.W1O),t.qZA()()}if(2&o){const e=t.MAs(19),n=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,7,"lang_homework_homework_frontend_submit_homework_result")),t.xp6(4),t.Oqu(t.lcZ(7,9,"lang_homework_homework_frontend_submit_homework_view_detail_result")),t.xp6(5),t.Q6J("ngIf",!n.isHideMark&&null==n.answerObj.point),t.xp6(1),t.Q6J("ngIf",!n.isHideMark&&null!=n.answerObj.point),t.xp6(3),t.Oqu(t.lcZ(16,11,"lang_homework_homework_frontend_submit_homework_comment")),t.xp6(2),t.Q6J("ngIf",n.answerObj&&null!=n.answerObj.txtCommentFont||null!=n.answerObj.txtCommentFont)("ngIfElse",e)}}function eo(o,a){if(1&o&&(t.TgZ(0,"div",144)(1,"div",145)(2,"h5",146),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(9,Ee,2,1,"div",147),t.YNc(10,Ye,3,3,"div",148),t.YNc(11,to,20,13,"ng-template",149),t.qZA()),2&o){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,6,"lang_homework_homework_frontend_submit_homework_assignment")),t.xp6(3),t.AsE("\xa0(",t.lcZ(7,8,"lang_homework_homework_frontend_submit_homework_time_submit"),": ",t.lcZ(8,10,null==e.answerObj?null:e.answerObj.createdAt),")"),t.xp6(3),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length),t.xp6(1),t.Q6J("ngIf",null!=e.answerObj&&(null==e.obj?null:e.obj.isMarked)&&e.whenShowAnswer),t.xp6(1),t.Q6J("ngIf",null!=e.answerObj&&(null==e.obj?null:e.obj.isMarked)&&!e.whenShowAnswer)}}function oo(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",37)(2,"div",21)(3,"h3",22),t._uU(4),t.qZA(),t.TgZ(5,"div",23),t._UZ(6,"azt-download-qr-code",24),t.qZA()(),t.TgZ(7,"div",25)(8,"span",21),t.O4$(),t.TgZ(9,"svg",26),t._UZ(10,"path",27)(11,"path",28)(12,"path",29)(13,"path",30)(14,"rect",31)(15,"rect",32),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.kcU(),t.TgZ(18,"span",33)(19,"span"),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",25)(22,"span",21),t.O4$(),t.TgZ(23,"svg",26),t._UZ(24,"rect",38)(25,"rect",39)(26,"rect",40)(27,"rect",41),t.qZA(),t._uU(28),t.ALo(29,"mytranslate"),t.kcU(),t.TgZ(30,"span",42),t._uU(31),t.qZA()()(),t.YNc(32,_e,9,4,"div",43),t.TgZ(33,"div",44),t.YNc(34,me,18,6,"div",45),t.TgZ(35,"div",46)(36,"span",21),t.O4$(),t.TgZ(37,"svg",47),t._UZ(38,"path",48)(39,"path",49)(40,"path",50)(41,"path",51)(42,"path",52)(43,"line",53),t.qZA(),t._uU(44),t.ALo(45,"mytranslate"),t.YNc(46,ue,3,3,"span",54),t.YNc(47,he,3,3,"span",54),t.qZA()()()(),t.kcU(),t.TgZ(48,"div",20),t._UZ(49,"div",55),t.ALo(50,"safeContentQuestion"),t.ALo(51,"mathJaxContent"),t.TgZ(52,"div",56)(53,"div",57),t.YNc(54,ve,11,5,"div",58),t.qZA()()(),t.TgZ(55,"div",59),t.YNc(56,Je,7,4,"ng-container",60),t.YNc(57,eo,12,12,"ng-template",null,61,t.W1O),t.TgZ(59,"app-answer-history",62),t.NdJ("previewFileEmit",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onShowFileTwo(i))}),t.qZA()(),t.BQk()}if(2&o){const e=t.MAs(58),n=t.oxw(2);t.xp6(4),t.hij(" ",null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.name," "),t.xp6(2),t.Q6J("fileName","azota_submit_homework_qrcode_"+n.homeworkHashId)("linkUrl",n.copyLinkToClipboard()),t.xp6(10),t.hij(" ",t.lcZ(17,18,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),t.xp6(4),t.Oqu(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.hashId),t.xp6(8),t.hij(" ",t.lcZ(29,20,"lang_auto_lop")+":"," "),t.xp6(3),t.hij(" ",n.currentChild||null!=n.obj&&null!=n.obj.classroomObj&&n.obj.classroomObj.name?null==n.obj||null==n.obj.classroomObj?null:n.obj.classroomObj.name:""," "),t.xp6(1),t.Q6J("ngIf",n.currentChild),t.xp6(2),t.Q6J("ngIf",null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.startDate),t.xp6(10),t.hij(" ",t.lcZ(45,22,"lang_homework_homework_frontend_submit_homework_dealine"),":\xa0 "),t.xp6(2),t.Q6J("ngIf",null!=(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.deadline)),t.xp6(1),t.Q6J("ngIf",null==(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.deadline)),t.xp6(2),t.Q6J("innerHTML",t.lcZ(50,24,t.lcZ(51,26,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.content)),t.oJD),t.xp6(5),t.Q6J("ngForOf",n.files),t.xp6(2),t.Q6J("ngIf",null==n.answerObj||null!=n.answerObj&&null==n.answerObj.confirmedAt)("ngIfElse",e),t.xp6(3),t.Q6J("dataAnswerHistory",n.answerHistory)("dataHomeworkObj",null==n.obj?null:n.obj.homeworkObj)}}function no(o,a){if(1&o&&(t.ynx(0),t.YNc(1,de,4,3,"div",34),t.YNc(2,oo,60,28,"ng-template",null,35,t.W1O),t.BQk()),2&o){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.showErrorOvertime)("ngIfElse",e)}}let io=(()=>{class o extends nt.Q{constructor(e,n,i,s,l,_,c,p,f,w,O,C,S,T){super(),this.fb=e,this.activeRoute=n,this.baseApiService=i,this.myPdfService=s,this.localStorageObject=l,this.frontHomeworkService=_,this.frontAnswerService=c,this.frontStudentService=p,this.apiUploadService=f,this.zipDataService=w,this.userService=O,this.homeworkExamService=C,this.dialog=S,this.gaService=T,this.form=new r.nJ({}),this.homeworkHashId="",this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.currentChild={},this.files=[],this.hasResentComment=!1,this.isSubmit=!1,this.isShowPreviewFile=!1,this.showErrorOvertime=!1,this.logs=[],this.isShowErrorsBox=!1,this.isHideMark=!1,this.fileUploadQueue=[],this.uploadCount=0,this.selectChild=!1,this.isPendingApproved=!1,this.messageDialogData={type:"",isShow:!1},this.normalFlow=!1,this.chooseChildData={isPendingApproved:!1,isShow:!1},this.backToLink="/student/dashboard/1",this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.countUpload=1,this.isNotChangeData=!1,this.whenShowAnswer=0,this.selectFile=m=>(0,at.mG)(this,void 0,void 0,function*(){let u=m.target.files;try{for(let h in u)if("length"!=h&&"item"!=h)if((0,J.zQ)(u[h].type))if((0,J.EO)(u[h].size)<=200)if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},(0,J._4)(u[h].type)){let x=yield this.myPdfService.getImageWithPdf(u[h]);this.answerFile=u?u[h]:this.answerFile,this.uploadFiles(x,this.uploadCount),this.uploadCount+=1}else this.answerFile=u?u[h]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else this.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");m.target.value="",this.isSubmit=!1}catch(h){alert("errors:"+h)}}),this.uploadFileVideo=(m,g)=>(0,at.mG)(this,void 0,void 0,function*(){var j,u,h,x,I={qrcode:void 0,homeworkId:null===(u=null===(j=this.obj)||void 0===j?void 0:j.homeworkObj)||void 0===u?void 0:u.id,teacherId:null===(x=null===(h=this.obj)||void 0===h?void 0:h.homeworkObj)||void 0===x?void 0:x.tenantId};this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_homework",m,I).subscribe(F=>{var D;F.isOnProgress?this.fileUploadQueue.hasOwnProperty(g)?(this.fileUploadQueue[g].uploadProgress=Math.round(null!==(D=F.percentage)&&void 0!==D?D:0),this.fileUploadQueue[g].fileName=m.name):this.fileUploadQueue[g]={uploadProgress:0,fileName:m.name}:1==F.success?(delete this.fileUploadQueue[g],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},F.data),{lastModified:m.lastModified})),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):F.hasOwnProperty("code")&&401==F.code?this.countUpload<=3&&setTimeout(()=>{this.countUpload++,this.uploadFileVideo(m,g)},15e3):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.commonService.snackError("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau_ten: "+m.name))}))}),this.uploadFiles=(m,g)=>(0,at.mG)(this,void 0,void 0,function*(){for(let j=0;j<m.length;j++){const u=m[j];yield(0,J.hv)(u).then(h=>{this.apiUploadService.uploadToCdnProgressForFrontendHomework(h).subscribe(x=>{x.type!=kt.dt.UploadProgress&&(1==x.success?(delete this.fileUploadQueue[g],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},x.data),{lastModified:h.lastModified}))):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_ten:"+u.name)))})}),j===m.length-1&&(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""})}}),this.uploadFile=(m,g)=>(0,at.mG)(this,void 0,void 0,function*(){this.isSubmit=!1,((0,J.Or)(m.type)||(0,J.Wv)(m.type)||(0,J.F0)(m.type)||(0,J._4)(m.type)||(0,J.D_)(m.type))&&(0,J.hv)(m).then(j=>{this.apiUploadService.uploadToCdnProgressForFrontendHomework(j).subscribe(u=>{var h,x;if(u.type!=kt.dt.UploadProgress)1==u.success?(delete this.fileUploadQueue[g],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},u.data),{lastModified:j.lastModified})),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.showErrorSnack("lang_auto_khong_upload_duoc_anh_ten: "+m.name+"lang_auto__brackets_vui_long_thu_lai_sau_loi_split_lang"+u.message));else{let I=(null!==(h=u.loaded)&&void 0!==h?h:0)/(null!==(x=u.total)&&void 0!==x?x:1)*100;this.fileUploadQueue.hasOwnProperty(g)?(this.fileUploadQueue[g].uploadProgress=I,this.fileUploadQueue[g].fileName=m.name):this.fileUploadQueue[g]={uploadProgress:0,fileName:m.name}}})})}),this.captureFile=m=>(0,at.mG)(this,void 0,void 0,function*(){let u=m.target.files;try{for(let h in u)if("length"!=h&&"item"!=h)if((0,J.zQ)(u[h].type))if((0,J.EO)(u[h].size)<=200)if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},(0,J._4)(u[h].type)){let x=yield this.myPdfService.getImageWithPdf(u[h]);this.answerFile=u?u[h]:this.answerFile,this.uploadFiles(x,this.uploadCount),this.uploadCount+=1}else this.answerFile=u?u[h]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else this.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");m.target.value="",this.isSubmit=!1}catch(h){alert(h)}}),this.answerFile=null}copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/bai-tap/${this.homeworkHashId}`}getFileType(e){var n,i,s,l;let _=(0,J.Z9)(e),c=null!==(n=this.commonService.myTranslateInstant("lang_auto_hinh_anh"))&&void 0!==n?n:"",p=null!==(i=this.commonService.myTranslateInstant("lang_auto_video"))&&void 0!==i?i:"",f=null!==(s=this.commonService.myTranslateInstant("lang_auto_am_thanh"))&&void 0!==s?s:"",w=null!==(l=this.commonService.myTranslateInstant("lang_auto_tai_lieu"))&&void 0!==l?l:"";return"image"==_?c:"video"==_?p:"audio"==_?f:w}getFileIcon(e){var n,i;let s=(0,J.Z9)(null!==(n=e.mimes)&&void 0!==n?n:"");return"image"==s?null!==(i=e.url)&&void 0!==i?i:"azota_assets/images/jpg-icon.png":"video"==s?"azota_assets/images/video_sample.png":"audio"==s?"azota_assets/images/audio_sample.png":"pdf"==s?"azota_assets/images/ext_pdf_filetype_icon_176234.svg":"azota_assets/images/documents.png"}isShowGreenCheckbox(e){if(this.rawAnswerFileList&&this.rawAnswerFileList.length>0)for(let n=0;n<this.rawAnswerFileList.length;n++)if(this.rawAnswerFileList[n].url===e)return!0;return!1}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e,n){let i=Object.assign(Object.assign({},e),{index:n});this.dialog.open(jt.F,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:i},restoreFocus:!1})}onShowFileTwo(e){this.isShowPreviewFile=!0,this.dialog.open(jt.F,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:e},restoreFocus:!1})}showAllSubmit(){this.commonService.myNavigation("/student/dashboard/1")}viewDetail(){var e;this.commonService.myNavigation("/homework/switch-view-homework/"+(null===(e=this.answerObj)||void 0===e?void 0:e.id)+"/"+this.homeworkHashId)}viewDetailHistory(e){var n,i;this.commonService.myNavigation("/homework/switch-view-homework/"+(null===(i=null===(n=this.obj)||void 0===n?void 0:n.homeworkObj)||void 0===i?void 0:i.id)+"/"+this.homeworkHashId+"/"+e)}openChooseStudent(e){1==e?(this.chooseChildData.isPendingApproved=!1,this.chooseChildData.isShow=!0):(this.chooseChildData.isPendingApproved=!0,this.chooseChildData.isShow=!0)}closeChooseStudent(e){var n,i,s,l,_;0==(null===(n=e.studentObj)||void 0===n?void 0:n.isVerified)||1==(null===(i=e.classroomObj)||void 0===i?void 0:i.freeChooseName)?this.frontStudentService.apiFrontStudentAddStudentToClassForHomeworkGet(this.homeworkHashId,null===(l=null===(s=this.obj)||void 0===s?void 0:s.classroomObj)||void 0===l?void 0:l.id,e.studentObj?e.studentObj.id:0).subscribe(c=>{var p;1===c.success?(this.getData(),this.selectChild=!1,this.isPendingApproved=!1):this.showErrorSnack(null!==(p=c.message)&&void 0!==p?p:"")}):this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?this.userService.getUserObj().id==(null===(_=e.studentObj)||void 0===_?void 0:_.parentId)?(this.urlStudentId=0,this.getData(),this.selectChild=!1,this.isPendingApproved=!1,this.normalFlow=!0):this.dialog.open(At.P,{width:"600px",data:{studentObj:e.studentObj,classId:e.classId,isShow:!0},restoreFocus:!1}).afterClosed().subscribe(w=>{switch(w){case"success":this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien");break;case"error":this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai")}}):this.dialog.open(Ht,{data:{studentObj:e.studentObj,isShow:!0},restoreFocus:!1})}approvedToClass(e){this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForHomeworkPost({fullName:e.nameEmit,homeworkHashId:this.homeworkHashId}).subscribe(i=>{var s;1==i.success?this.getData():this.showErrorSnack(null!==(s=i.message)&&void 0!==s?s:"")}))}fillData(){var e,n,i,s,l,_,c,p,f,w,O,C,S,T;if(this.files=null!==(s=this.commonService.myParseJson(null!==(i=null===(n=null===(e=this.obj)||void 0===e?void 0:e.homeworkObj)||void 0===n?void 0:n.files)&&void 0!==i?i:""))&&void 0!==s?s:[],null==this.files&&(this.files=new Array),!(null===(l=this.obj)||void 0===l)&&l.answerObj&&this.obj.answerObj.files&&(this.answerFileList=this.commonService.myParseJson(this.obj.answerObj.files),this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.isNotChangeData=!0),null!==(_=this.obj)&&void 0!==_&&_.answerHistoryObjs){for(let g=0;g<this.obj.answerHistoryObjs.length;g++)this.resendNote=this.obj.answerHistoryObjs[0].resendNote,this.hasResentComment=!0,this.obj.answerHistoryObjs[g].result&&(this.obj.answerHistoryObjs[g].note=this.commonService.willDeleteParseJson(null!==(c=this.obj.answerHistoryObjs[g].result)&&void 0!==c?c:"").comment);this.answerHistory=this.obj.answerHistoryObjs;for(let g=0;g<this.answerHistory.length;g++){if(this.answerHistory[g].result){var m=this.commonService.willDeleteParseJson(null!==(p=this.answerHistory[g].resultNote)&&void 0!==p?p:"");this.answerHistory[g].hideMark=!(!m||!m.IsHideMark)&&m.IsHideMark}this.answerHistory[g].files&&(this.answerHistory[g].fileParse=this.commonService.myParseJson(null!==(f=this.answerHistory[g].files)&&void 0!==f?f:""))}}!(null===(w=this.obj)||void 0===w)&&w.answerObj&&(this.answerObj=this.obj.answerObj,this.hasResentComment=!1),this.answerObj&&this.answerObj.result&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.result)?this.commonService.willDeleteParseJson(this.answerObj.result).comment:"",this.answerObj.txtCommentFont=null===(O=this.commonService.willDeleteParseJson(this.commonService.willDeleteParseJson(this.answerObj.result).staticTextConfig))||void 0===O?void 0:O.txtCommentFont,this.isHideMark=null!=this.commonService.willDeleteParseJson(this.answerObj.result)&&this.commonService.willDeleteParseJson(this.answerObj.result).hideMark),null!=(null===(C=this.answerObj)||void 0===C?void 0:C.resultNote)&&null==(null===(S=this.answerObj)||void 0===S?void 0:S.note)&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.resultNote)?this.commonService.willDeleteParseJson(this.answerObj.resultNote).Note:""),this.currentChild=null!==(T=this.obj)&&void 0!==T&&T.studentObj?this.obj.studentObj:this.baseApiService.getUserObj()}getData(){this.initStatusObj(),this.frontHomeworkService.apiFrontHomeworkGetObjGet(this.homeworkHashId).subscribe(e=>{var n,i,s,l,_,c,p,f,w,O,C,S,T,m,g,j,u,h,x,I,F,D,Y,Z,L,U,tt,W,G,k,v,b,A,ut,ht,gt,pt,vt,ft,wt,bt;if(1==e.success){this.zipDataService.convertAnswersHistories(e.data),this.zipDataService.convertSubmittedAnswersObj(null===(n=e.data)||void 0===n?void 0:n.answerObj),this.obj=e.data,this.dataProcess=e.data,this.zipDataService.convertHomeworkObj(null!==(s=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)&&void 0!==s?s:{});let jo=this.commonService.myTranslateInstant("lang_auto_lop");if(this.commonService.translateMetaData({title:(null===(_=null===(l=this.obj)||void 0===l?void 0:l.homeworkObj)||void 0===_?void 0:_.name)+`- ${jo}:`+(null===(p=null===(c=this.obj)||void 0===c?void 0:c.classroomObj)||void 0===p?void 0:p.name),description:null===(w=null===(f=this.obj)||void 0===f?void 0:f.homeworkObj)||void 0===w?void 0:w.content}),this.whenShowAnswer=null!==(S=null===(C=null===(O=this.obj)||void 0===O?void 0:O.homeworkObj)||void 0===C?void 0:C.whenShowAnswer)&&void 0!==S?S:0,1==(null===(m=null===(T=this.obj)||void 0===T?void 0:T.homeworkObj)||void 0===m?void 0:m.mustVerified))if(!this.baseApiService.isLogin()||this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole())this.dialog.open(Dt,{data:{type:"redirect_register",isShow:!0},restoreFocus:!1}),this.openChooseStudent(1),this.chooseChildData.studentObjs=this.obj.studentObjs,this.chooseChildData.classObj=this.obj.classroomObj,this.selectChild=!0,this.normalFlow=!1;else if(null!==(g=this.obj)&&void 0!==g&&g.studentObj&&1==this.obj.studentObj.isVerified)if(this.urlStudentId){let H=null===(u=null===(j=this.obj)||void 0===j?void 0:j.studentObjs)||void 0===u?void 0:u.filter(et=>et.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:H?.[0],studentObjs:null===(h=this.obj)||void 0===h?void 0:h.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.fillData(),this.selectChild=!1,this.normalFlow=!0;else if(null!==(x=this.obj)&&void 0!==x&&x.studentObj&&0==this.obj.studentObj.isVerified)if(this.urlStudentId){let H=null===(F=null===(I=this.obj)||void 0===I?void 0:I.studentObjs)||void 0===F?void 0:F.filter(et=>et.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:H?.[0],studentObjs:null===(D=this.obj)||void 0===D?void 0:D.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(2),this.chooseChildData.studentObj=null===(Y=this.dataProcess)||void 0===Y?void 0:Y.studentObj;else if(this.urlStudentId){let H=null===(L=null===(Z=this.obj)||void 0===Z?void 0:Z.studentObjs)||void 0===L?void 0:L.filter(et=>et.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:H?.[0],studentObjs:null===(U=this.obj)||void 0===U?void 0:U.studentObjs,classroomObj:null===(tt=this.obj)||void 0===tt?void 0:tt.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=null===(W=this.dataProcess)||void 0===W?void 0:W.studentObjs,this.chooseChildData.classObj=null===(G=this.dataProcess)||void 0===G?void 0:G.classroomObj;else if(null==(null===(k=this.obj)||void 0===k?void 0:k.studentObj))if(this.urlStudentId){let H=null===(b=null===(v=this.obj)||void 0===v?void 0:v.studentObjs)||void 0===b?void 0:b.filter(et=>et.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:H?.[0],studentObjs:null===(A=this.obj)||void 0===A?void 0:A.studentObjs,classroomObj:null===(ut=this.obj)||void 0===ut?void 0:ut.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=null===(ht=this.dataProcess)||void 0===ht?void 0:ht.studentObjs,this.chooseChildData.classObj=null===(gt=this.dataProcess)||void 0===gt?void 0:gt.classroomObj;else if(this.urlStudentId){let H=null===(vt=null===(pt=this.obj)||void 0===pt?void 0:pt.studentObjs)||void 0===vt?void 0:vt.filter(et=>et.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:H?.[0],studentObjs:null===(ft=this.obj)||void 0===ft?void 0:ft.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.isPendingApproved=!1,this.selectChild=!1,this.fillData(),this.normalFlow=!0;this.successStatusObj()}else this.obj=null!==(wt=e.data)&&void 0!==wt?wt:{},this.errorStatusObj(null!==(bt=e.message)&&void 0!==bt?bt:"",!0)}),this.gaService.gaEvent("FrontHomework_GetObj")}convertObjToArray(e){let n=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.push(e[i]);return n}addFileWithProsess(e){var n,i,s,l;e&&(this.isNotChangeData=!1,null===(n=this.answerFileList)||void 0===n||n.push(e));let _=null!==(s=null===(i=this.answerFileList)||void 0===i?void 0:i.length)&&void 0!==s?s:0;for(let c=0;c<_;c++)this.answerFileList&&!(null!==(l=this.answerFileList)&&void 0!==l&&l[c].lastModified)&&(this.answerFileList[c].lastModified=(new Date).getTime()),this.answerFileList&&!this.answerFileList[c].thumb&&(this.answerFileList[c].thumb=this.homeworkExamService.getThumbWithObj(this.answerFileList[c]));this.answerFileList&&this.answerFileList.length>0&&this.answerFileList.sort((c,p)=>c.lastModified&&p.lastModified?c.lastModified-p.lastModified:0)}removeImg(e){var n;let i=null===(n=this.answerFileList)||void 0===n?void 0:n.filter(s=>s.url!==e);this.answerFileList=i,this.isNotChangeData=!1}submitHomework(){var e,n,i,s,l,_;let c={homeworkHashId:null===(n=null===(e=this.obj)||void 0===e?void 0:e.homeworkObj)||void 0===n?void 0:n.hashId,studentId:this.currentChild.id,files:JSON.stringify(this.answerFileList)};if("[]"!=c.files){this.isSubmit=!1,this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""};let p=JSON.stringify({type:"homework",id:null===(s=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)||void 0===s?void 0:s.id,user:null===(_=null===(l=this.obj)||void 0===l?void 0:l.homeworkObj)||void 0===_?void 0:_.tenantId});this.frontAnswerService.apiFrontAnswerSaveObjPost(c,p).subscribe(f=>{var w;1==f.success?(this.localStorageObject.clearAllCache(),this.isSubmit=!0,this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.showSuccessSnack("lang_auto_ban_da_nop_bai_thanh_cong"),this.isNotChangeData=!0,this.hasResentComment=!1):(this.showErrorSnack(null!==(w=f.message)&&void 0!==w?w:""),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.isSubmit=!1)},f=>{this.logs.push("Err:"+f)})}else this.showErrorSnack("lang_auto_bai_lam_chua_day_du_vui_long_thu_lai");this.gaService.gaEvent("FrontHomework_SaveObj")}switchAttributeArray(e,n,i){var s,l,_;if(this.answerFileList&&null!==(s=this.answerFileList)&&void 0!==s&&s.length){if((null===(l=this.answerFileList)||void 0===l?void 0:l.length)<=n||this.answerFileList.length<=i||n<0||i<0)return;let c=this.castObj(this.answerFileList[n]);this.answerFileList[n]=null!==(_=this.castObj(this.answerFileList[i]))&&void 0!==_?_:{},this.answerFileList[i]=c??{}}}switchAttributeArrayInput(e,n){var i,s;let l=Number(n)-1;l<=0?l=0:this.answerFileList&&l>=(null===(i=this.answerFileList)||void 0===i?void 0:i.length)&&(l=this.answerFileList.length),null===(s=this.answerFileList)||void 0===s||s.splice(l,0,this.answerFileList.splice(e,1)[0])}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),(0,Zt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([e,n])=>{var i,s,l;""!=this.commonService.getMyQueryParam("backto")&&(this.backToLink=null!==(i=this.commonService.getMyQueryParam("backto"))&&void 0!==i?i:"/student/dashboard/1");var _=null!==(s=this.commonService.getMyQueryParam("studentId"))&&void 0!==s?s:"0";this.urlStudentId=parseInt(_,10),this.homeworkHashId=null!==(l=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==l?l:"",this.getData()}),this.form=this.fb.group({file_data:new r.p4("",r.kI.required),file_capture:new r.p4("",r.kI.required),file:new r.p4("",r.kI.required)}),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.QS),t.Y36(Q.gz),t.Y36(Ut._),t.Y36(Nt.t),t.Y36(Jt.y),t.Y36(X.WY),t.Y36(X.XL),t.Y36(X.Dn),t.Y36(Qt.$),t.Y36(lt.D),t.Y36(zt.K),t.Y36(qt.j),t.Y36($.uw),t.Y36(Et.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-submit-homework"]],features:[t.qOj],decls:6,vars:4,consts:[[3,"headerBackTolink"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"box","mx-auto"],["class","azt-select-child",4,"ngIf"],[1,"w-full"],[1,"text-center","p-3",2,"display","block"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 77H63C64.8565 77 66.637 76.2625 67.9497 74.9497C69.2625 73.637 70 71.8565 70 70V26.25L50.75 7H21C19.1435 7 17.363 7.7375 16.0503 9.05025C14.7375 10.363 14 12.1435 14 14V28","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M49 7V28H70","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.5 43.75L28 61.25","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M28 43.75L10.5 61.25","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M42 28H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M63 44H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M63 61H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[1,"azt-select-child"],["class","p-3 border-b border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"mt-5"],[3,"homeworkFlow","data","showAddStudent","selectChild","approvedByName"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","items-center"],[1,"text-lg","font-medium","mr-auto"],[1,"w-auto","flex"],[3,"fileName","linkUrl"],[1,"mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],[1,"ml-1","font-bold","text-pirmary"],["class","alert alert-danger mt-3",4,"ngIf","ngIfElse"],["Normal",""],[1,"alert","alert-danger","mt-3"],[1,"azt-info-homework","p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],["x","3","y","3","width","7","height","7"],["x","14","y","3","width","7","height","7"],["x","14","y","14","width","7","height","7"],["x","3","y","14","width","7","height","7"],[1,"ml-1","font-medium"],["class","mt-2",4,"ngIf"],[1,"flex","flex-col","sm:flex-row"],["class","time-create mr-10 mt-2",4,"ngIf"],[1,"time-deadline","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M4.18 4.18A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18"],["d","M21 15.5V6a2 2 0 0 0-2-2H9.5"],["d","M16 2v4"],["d","M3 10h7"],["d","M21 10h-5.5"],["x1","2","y1","2","x2","22","y2","22"],["class","ml-1 font-medium",4,"ngIf"],[1,"azt-content-homework",3,"innerHTML"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 lg:col-span-3",4,"ngFor","ngForOf"],[1,"p-3"],[4,"ngIf","ngIfElse"],["Result",""],[3,"dataAnswerHistory","dataHomeworkObj","previewFileEmit"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"time-create","mr-10","mt-2"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[1,"col-span-12","lg:col-span-3"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","zoom-in"],["azt-track-service","submit-homework-JKHK228AaC",1,"flex","w-full","items-center",3,"click"],[1,"w-12","h-12","image-fit","lg:mr-1"],["class","rounded-md",3,"src",4,"ngIf"],[1,"ml-2","mt-0",2,"max-width","80%"],[1,"font-medium","truncate",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"rounded-md",3,"src"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4"],[1,"text-center","mt-5"],["azt-track-service","submit-homework-SVOZH1hPhT","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","submit-homework-srzM6zkJC9X","class","btn w-24 btn-danger",3,"disabled","click",4,"ngIf"],["class","row ml-0 mr-0",4,"ngIf"],["class","text-center mt-4 mb-4",4,"ngIf"],["class","grid grid-cols-12 gap-1 mt-1 mb-1 pb-3 pt-3 px-3 attach-container",4,"ngIf"],["class","grid grid-cols-10 gap-5 pl-4 pr-5",4,"ngIf"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative",2,"margin-top","80px"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],["id","horizontal-form-1","type","file","id","inp_hidden","multiple","",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","cursor-pointer","relative"],[1,"block","text-slate-600","dark:text-slate-500"],[1,"row","ml-0","mr-0"],[1,"col-12"],[1,"alert","alert-danger","text-center",2,"margin-bottom","1.25rem"],[1,"text-center","mt-4","mb-4"],[1,"text-md","font-medium"],[1,"grid","grid-cols-12","gap-1","mt-1","mb-1","pb-3","pt-3","px-3","attach-container"],["class","col-span-6 md:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-4","lg:col-span-2"],[1,"text-md","font-medium","truncate"],[1,"progress-container"],["max","100",2,"width","100%","height","20px","background-color","#1e40af",3,"value"],[1,"text-md","font-medium","text-success"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5"],["class","col-span-5 md:col-span-2 relative cursor-pointer",4,"ngFor","ngForOf"],[1,"col-span-5","md:col-span-2","relative","cursor-pointer"],["azt-track-service","submit-homework-U3JvmWJWyL","_target","blank",1,"image-fit","h-32",3,"click"],["notFileVideo",""],[1,"flex","items-center","rounded-md","border","border-slate-200","dark:border-darkmode-400","overflow-hidden",2,"border-top-left-radius","0","border-top-right-radius","0"],["azt-track-service","submit-homework-oCv304vr_j",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","15 18 9 12 15 6"],["type","text","type","number","min","1",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder","keyup.enter","change"],["myInput",""],["azt-track-service","submit-homework-sWozCmSRRn",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["points","9 18 15 12 9 6"],["azt-track-service","submit-homework-OKXWiY1X2a","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],[1,"rounded-md","border-bottom-0",3,"src"],["alt","Azota-Image-Loading",1,"border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","object-fit","contain",3,"src"],["azt-track-service","submit-homework-OKXWiY1X2a",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["class","alert alert-danger text-center mt-2 ml-5 mr-5","style","margin-bottom: 1.25rem",4,"ngIf"],["azt-track-service","submit-homework-MxLAiMtc7R","_target","blank",1,"image-fit","h-32",3,"click"],["notFileVideoOverTime",""],["disabled","",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none"],["type","text","type","number","min","1","disabled","",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder"],["alt","Azota-Image-Loading",1,"rounded-md","w-fit",2,"border-bottom-left-radius","0","border-bottom-right-radius","0",3,"src"],[1,"alert","alert-danger","text-center","mt-2","ml-5","mr-5",2,"margin-bottom","1.25rem"],["azt-track-service","submit-homework-SVOZH1hPhT",1,"btn","w-24","btn-primary",3,"disabled","click"],["role","status",1,"spinner-border","spinner-border-sm"],["azt-track-service","submit-homework-srzM6zkJC9X",1,"btn","w-24","btn-danger",3,"disabled","click"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","dark:border-darkmode-400","rounded-md","pt-4"],[1,"flex"],[1,"text-md","ml-3","font-medium","text-dark"],["class","grid grid-cols-10 gap-5 pl-4 pr-5 mt-3",4,"ngIf"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf"],[3,"ngIf"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5","mt-3"],["azt-track-service","submit-homework-r1g0ks59mJK","_target","blank",1,"image-fit","h-32","border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom","0","border-bottom-left-radius","0","border-bottom-right-radius","0",3,"click"],["notFileVideoResult",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[1,"flex","mt-3"],["azt-track-service","submit-homework-wmQuG3uTIJb",2,"color","rgba(0, 167, 208, 1)","cursor","pointer",3,"click"],[1,"grid","grid-cols-4","gap-3","mt-3","auto-cols-auto",2,"margin","16px!important"],[1,"col-span-4","sm:col-span-1","md:col-span-1","relative","text-center","border-2","border-dashed","dark:border-darkmode-400","p-8","content-homework"],["class","mb-0",4,"ngIf"],[1,"col-span-4","sm:col-span-3","md:col-start-2","md:col-end-4","relative","border-2","border-dashed","dark:border-darkmode-400","p-3"],[1,"text-md","ml-3","font-medium","text-dark","title"],["fontText",""],[1,"mb-0"],[3,"mark"],["class","content-homework pt-3 text-writing",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-bold",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-beautiful",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-italy",3,"innerHTML",4,"ngIf"],[1,"content-homework","pt-3","text-writing",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-bold",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-beautiful",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-italy",3,"innerHTML"],["id","azt-view-comment",1,"pt-3",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"student-layout",0)(1,"div",1),t.YNc(2,ae,15,4,"div",2),t.TgZ(3,"div",3),t.YNc(4,ce,4,4,"div",4),t.YNc(5,no,4,2,"ng-container",2),t.qZA()()()),2&e&&(t.Q6J("headerBackTolink",n.backToLink),t.xp6(2),t.Q6J("ngIf",""!=n.statusObj.errorMessage),t.xp6(2),t.Q6J("ngIf",n.selectChild),t.xp6(1),t.Q6J("ngIf",n.normalFlow))},dependencies:[z.sg,z.O5,Yt.gM,$t.p,dt.B,Rt.o,Bt.L,se,P.bT,P.GT,P.QA,P.Ev,P.LW,P.Jc,P.tO,P.eQ],styles:['@font-face{font-family:font_chu_dep;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}@font-face{font-family:font_chu_in;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/Roboto-Thin.ttf)}@font-face{font-family:font_chu_in_nghieng;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_in_dam;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-BoldIt.otf)}.text-writing[_ngcontent-%COMP%]{font-family:font_chu_in!important;font-weight:700}.text-writing-beautiful[_ngcontent-%COMP%]{font-family:font_chu_dep!important}.text-writing-italy[_ngcontent-%COMP%]{font-family:font_chu_in_nghieng!important}.text-writing-bold[_ngcontent-%COMP%]{font-family:font_chu_in_dam!important}.content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px}.title[_ngcontent-%COMP%]{position:absolute;top:-11px;background:#fff}.progress-container[_ngcontent-%COMP%]{position:relative;display:block;background:#eee;height:20px;border-radius:6px;overflow:hidden}.progress-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;background:#1e40af}progress[_ngcontent-%COMP%]{accent-color:#1e40af}[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#1e40af}[_ngcontent-%COMP%]::-moz-progress-bar{background-color:#1e40af}']}),o})();var _t=d(41752);let Ct=(()=>{class o extends nt.Q{constructor(e,n,i,s,l,_){super(),this.activeRoute=e,this.frontAnswerService=n,this.frontAnswerHistoryService=i,this.cdnService=s,this.zipDataService=l,this.envService=_,this.backToLink="",this.homeworkHashId="",this.historyId=0,this.classliveUrl=""}getData(e,n){this.initStatusObj(),n?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,n).subscribe(i=>{var s;1==i.success?(this.switchViewHomework(i),this.successStatusObj()):this.errorStatusObj(null!==(s=i.message)&&void 0!==s?s:"",!0)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(i=>{var s;1==i.success?(this.switchViewHomework(i),this.successStatusObj()):this.errorStatusObj(null!==(s=i.message)&&void 0!==s?s:"",!0)})}switchViewHomework(e){var n,i,s;if(e){this.zipDataService.convertSubmittedAnswersHistoryObj(null===(n=e.data)||void 0===n?void 0:n.answerObj);let l=e.data,_=l?.hasOwnProperty("answerObj")&&null!==(i=this.castObj(l.answerObj))&&void 0!==i?i:{},c=this.commonService.myParseJson(null!==(s=_?.result)&&void 0!==s?s:"");this.commonService.myNavigationWithQueryString(this.historyId?c&&c?.urlDataMark?`/homework/view-homework-new/${_.id}/${this.homeworkHashId}/${this.historyId}`:`/homework/view-homework/${_.id}/${this.homeworkHashId}/${this.historyId}`:c&&c?.urlDataMark?`/homework/view-homework-new/${_.id}/${this.homeworkHashId}`:`/homework/view-homework/${_.id}/${this.homeworkHashId}`,`?backto=${encodeURIComponent(this.backToLink)}`)}}ngOnInit(){var e,n,i,s,l;this.classliveUrl=null!==(e=this.envService.getEnvValue("classliveUrl"))&&void 0!==e?e:"";let _=null!==(n=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==n?n:"";const c=parseInt(_,10);if(this.homeworkHashId=null!==(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==i?i:"",this.backToLink=null!==(s=this.commonService.getMyQueryParam("backto"))&&void 0!==s?s:"",this.commonService.getMyParam(this.activeRoute,"history_id")){let p=null!==(l=this.commonService.getMyParam(this.activeRoute,"history_id"))&&void 0!==l?l:"";this.historyId=parseInt(p,10),this.getData(c,this.historyId)}else this.getData(c);this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Q.gz),t.Y36(X.XL),t.Y36(X.ln),t.Y36(ct.U),t.Y36(lt.D),t.Y36(_t.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-switch-view-homework"]],features:[t.qOj],decls:0,vars:0,template:function(e,n){},encapsulation:2}),o})();var so=d(34782),ro=d(64123),ao=d(44408);const lo=function(o){return{height:o}};function co(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",21)(2,"azt-mark-note",22,23),t.NdJ("handleBackLink",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.goBack())})("sizeMarkEditor",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.getSizeMarkEditor(i))}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(5,lo,e.sizeMarkEditor.height+"px")),t.xp6(1),t.Q6J("dataMarkNote",e.jsonData)("modeView","student")("showBackLink",!0)("showCopyLinkTeacher",!0)}}function _o(o,a){if(1&o&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"azt-check-mark",26),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("mark",null==e.result||null==e.result.answerObj?null:e.result.answerObj.point)}}let St=(()=>{class o extends nt.Q{constructor(e,n,i,s,l,_,c){super(),this.activeRoute=e,this.frontAnswerService=n,this.frontAnswerHistoryService=i,this.cdnService=s,this.zipDataService=l,this.envService=_,this.browserStorageService=c,this.homeworkHashId="",this.isMarked=!1,this.jsonData={},this.backToLink="",this.dataMarkNote={},this.files=[],this.sizeMarkEditor={width:200,height:800},this.commentExercise="",this.initDataEditor={},this.handleIframe=p=>{var f,w,O,C,S,T,m,g,j,u,h,x,I,F,D;if("MNoteLoadComplete"==p.data){const Y=document.getElementById("mNote"),Z=Y?Y.contentWindow:null;if(null!==Z){let L=null!==(f=this.result)&&void 0!==f&&f.hasOwnProperty("answerObj")&&null!==(w=this.castObj(this.result.answerObj))&&void 0!==w?w:{};if(null!==(O=this.result)&&void 0!==O&&O.hasOwnProperty("answerObj")){let v=this.commonService.willDeleteParseJson(null!==(C=L?.result)&&void 0!==C?C:"");if(null!=v){for(let A=0;A<v.pages.length;A++)v.pages[A].backgroundImage&&(v.pages[A].backgroundImage=this.cdnService.getMyCdn(v.pages[A].backgroundImage)),v.pages[A].draw&&(v.pages[A].draw=this.cdnService.getMyCdn(v.pages[A].draw));v=JSON.stringify(v),L.result=v}let b=this.commonService.willDeleteParseJson(null!==(S=L.files)&&void 0!==S?S:"");if(null!=b){for(let A=0;A<b.length;A++)b[A].url&&(b[A].url=this.cdnService.getMyCdn(b[A].url)),b[A].thumb&&(b[A].thumb=this.cdnService.getMyCdn(b[A].thumb));b=JSON.stringify(b),L.files=b}}let U=null!==(T=this.result)&&void 0!==T&&T.hasOwnProperty("studentObj")?this.result.studentObj:{},tt=null!==(m=this.result)&&void 0!==m&&m.hasOwnProperty("classroomObj")?this.result.classroomObj:{},W=null!==(g=this.result)&&void 0!==g&&g.hasOwnProperty("homeworkObj")?this.result.homeworkObj:{},G=this.commonService.willDeleteParseJson(null!==(j=L.result)&&void 0!==j?j:""),k=!(!G||!G.hasOwnProperty("hideMark"))&&G.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let v=0;v<(null!==(h=null===(u=this.jsonData.pages)||void 0===u?void 0:u.length)&&void 0!==h?h:0);v++)!(null===(x=this.jsonData.pages)||void 0===x)&&x[v].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[v].backgroundImage=this.cdnService.getMyCdn(null!==(I=this.jsonData.pages[v].backgroundImage)&&void 0!==I?I:"")),null!==(F=this.jsonData.pages)&&void 0!==F&&F[v].hasOwnProperty("draw")&&(this.jsonData.pages[v].draw=this.cdnService.getMyCdn(null!==(D=this.jsonData.pages[v].draw)&&void 0!==D?D:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=L,this.jsonData.student_obj=U,this.jsonData.classroom_obj=tt,this.jsonData.homework_obj=W,this.jsonData.hideMark=k,Z.postMessage(this.jsonData,"*");else{let v=[];this.files.forEach(b=>{v.push({backgroundImage:b.url})}),Z.postMessage({cmd:"initMNote",pages:v,answer_obj:L,student_obj:U,classroom_obj:tt,homework_obj:W,mode:"view",hideMark:k},"*")}}}}}getSizeMarkEditor(e){this.sizeMarkEditor=e}checkModeUiEditor(e){this.initDataEditor="dark"==e?{height:450,menubar:!1,skin:"oxide-dark",readonly:1,content_css:"dark",plugins:["emoticons advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | emoticons",emoticons_database:"emojis",content_style:"@font-face { font-family: font_chu_dep; src: url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf');} body { font-family: font_chu_dep; color: red; font-size: 18pt;};"}:{height:450,menubar:!1,readonly:1,plugins:["emoticons advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | emoticons",emoticons_database:"emojis",content_style:"@font-face { font-family: font_chu_dep; src: url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf');} body { font-family: font_chu_dep; color: red; font-size: 18pt;};"}}goBack(){this.commonService.myNavigation(""!=this.backToLink&&null!=this.backToLink?this.backToLink:"/bai-tap/"+this.homeworkHashId)}fillData(e){var n,i,s,l,_,c,p,f,w,O,C,S,T,m,g,j,u,h,x;if(e){if(this.zipDataService.convertSubmittedAnswersHistoryObj(null===(n=e.data)||void 0===n?void 0:n.answerObj),this.result=e.data,this.files=null!==(_=this.commonService.myParseJson(null!==(l=null===(s=null===(i=e.data)||void 0===i?void 0:i.answerObj)||void 0===s?void 0:s.files)&&void 0!==l?l:""))&&void 0!==_?_:[],null!==this.files)for(let U=0;U<this.files.length;U++)this.files&&(this.files[U].url=this.cdnService.getMyCdn(null!==(c=this.files[U].url)&&void 0!==c?c:""),this.files[U].thumb=this.cdnService.getMyCdn(null!==(p=this.files[U].thumb)&&void 0!==p?p:""));let I=null!==(f=this.result)&&void 0!==f&&f.hasOwnProperty("answerObj")&&null!==(w=this.castObj(this.result.answerObj))&&void 0!==w?w:{},F=null!==(O=this.result)&&void 0!==O&&O.hasOwnProperty("studentObj")?null===(C=this.result)||void 0===C?void 0:C.studentObj:{},D=null!==(S=this.result)&&void 0!==S&&S.hasOwnProperty("classroomObj")?null===(T=this.result)||void 0===T?void 0:T.classroomObj:{},Y=null!==(m=this.result)&&void 0!==m&&m.hasOwnProperty("homeworkObj")?this.result.homeworkObj:{},Z=this.commonService.myParseJson(null!==(g=I?.result)&&void 0!==g?g:""),L=this.castJsonToObj(null!==(h=null===(u=null===(j=this.result)||void 0===j?void 0:j.answerObj)||void 0===u?void 0:u.resultNote)&&void 0!==h?h:"");this.commentExercise=null!==(x=L.Note)&&void 0!==x?x:"",this.jsonData.cmd="initMNote",this.jsonData.mode="edit",this.jsonData.answer_obj=I,this.jsonData.student_obj=F,this.jsonData.classroom_obj=D,this.jsonData.homework_obj=Y,Z&&Z.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=Z.hideMark),this.dataMarkNote=this.jsonData}}getData(e,n){this.initStatusObj(),this.errorMessage="",n?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,n).subscribe(i=>{var s;1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(null!==(s=i.message)&&void 0!==s?s:"",!0),this.errorMessage=i?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(i=>{var s;1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(null!==(s=i.message)&&void 0!==s?s:"",!0),this.errorMessage=i.message)})}copyLinkToClipboard(){const e=this.getMyParam(this.activeRoute,"id");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${e}/${this.homeworkHashId}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){var e,n,i,s,l;this.commonService.compareDeviceScreen(768)&&(document.body.style.overflowY="hidden");let c=null!==(e=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==e?e:"";const p=parseInt(c,10);this.homeworkHashId=null!==(n=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==n?n:"",this.backToLink=null!==(i=this.commonService.getMyQueryParam("backto"))&&void 0!==i?i:"";let f=""==this.browserStorageService.getStorage("mode_ui")?"light":null!==(s=this.browserStorageService.getStorage("mode_ui"))&&void 0!==s?s:"light";if(this.checkModeUiEditor(f),this.commonService.getMyParam(this.activeRoute,"history_id")){let w=null!==(l=this.commonService.getMyParam(this.activeRoute,"history_id"))&&void 0!==l?l:"";const O=parseInt(w,10);this.getData(p,O)}else this.getData(p);this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){document.body.style.overflowY="auto"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Q.gz),t.Y36(X.XL),t.Y36(X.ln),t.Y36(ct.U),t.Y36(lt.D),t.Y36(_t.D),t.Y36(so.z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-homework-new"]],features:[t.qOj],decls:28,vars:16,consts:[[1,"content",2,"padding","0 12px"],[1,"grid","grid-cols-12","gap-3","mt-3"],[4,"ngIf"],[1,"col-span-12","md:col-span-4","mark-general"],[1,"box"],[1,"p-2"],[1,"box-head"],[1,"font-medium"],[1,"flex","items-center","mt-2"],[1,"info-student","flex","items-center"],[3,"nameCreateAvatar","size"],[1,"info","ml-2"],[1,"text-md"],[1,"text-xs"],["class","score ml-auto flex items-center",4,"ngIf"],[1,"comment","mt-3"],[1,"font-medium","text-md"],[1,"comment-editor","mt-2"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","disabled","init","ngModelChange"],[1,"mt-3","block","md:hidden"],["azt-track-service","view-homework-new-Ak95y0gQ__",1,"btn","btn-secondary","w-full",3,"click"],[1,"col-span-12","md:col-span-8","mark-editor",3,"ngStyle"],[3,"dataMarkNote","modeView","showBackLink","showCopyLinkTeacher","handleBackLink","sizeMarkEditor"],["aztMarkNote",""],[1,"score","ml-auto","flex","items-center"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","p-2","text-danger","text-center","font-medium",2,"width","60px"],[3,"mark"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,co,4,7,"ng-container",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9),t._UZ(11,"azt-create-avatar",10),t.TgZ(12,"div",11)(13,"p",12),t._uU(14),t.qZA(),t.TgZ(15,"p",13),t._uU(16),t.qZA()()(),t.YNc(17,_o,3,1,"div",14),t.qZA()(),t.TgZ(18,"div",15)(19,"p",16),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.TgZ(22,"div",17)(23,"editor",18),t.NdJ("ngModelChange",function(s){return n.commentExercise=s}),t.qZA()()(),t.TgZ(24,"div",19)(25,"button",20),t.NdJ("click",function(){return n.goBack()}),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()()()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.jsonData.answer_obj),t.xp6(6),t.hij(" ",null==n.result||null==n.result.homeworkObj?null:n.result.homeworkObj.name," "),t.xp6(3),t.Q6J("nameCreateAvatar",null==n.result||null==n.result.studentObj?null:n.result.studentObj.fullName)("size",35),t.xp6(3),t.hij(" ",null==n.result||null==n.result.studentObj?null:n.result.studentObj.fullName," "),t.xp6(2),t.hij(" ",null==n.result||null==n.result.classroomObj?null:n.result.classroomObj.name," "),t.xp6(1),t.Q6J("ngIf",!n.dataMarkNote.hideMark),t.xp6(3),t.hij(" ",t.lcZ(21,12,"lang_auto_nhan_xet")," "),t.xp6(3),t.Q6J("ngModel",n.commentExercise)("disabled",!0)("init",n.initDataEditor),t.xp6(3),t.hij(" ",t.lcZ(27,14,"lang_auto_quay_lai")," "))},dependencies:[z.O5,z.PC,st.PG,r.JJ,r.On,ro.g,dt.B,ao.a,P.bT],styles:[".btn-score[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.choose-score[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto}.toolbar-list[_ngcontent-%COMP%]{width:100%;padding:5px;position:absolute;top:0;left:0;display:flex;align-items:center;border-bottom-left-radius:0;border-bottom-right-radius:0}.btn-icon[_ngcontent-%COMP%]{padding:10px;min-width:auto;line-height:initial}.toolbar-item[_ngcontent-%COMP%]{margin:0 3px}.toolbar-item[_ngcontent-%COMP%]:first-child{margin-left:0}.btn-icon-child[_ngcontent-%COMP%]{padding:5px}.azt-toolbar-active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--color-slate-200)/var(--tw-bg-opacity))}  .dark .azt-toolbar-active{--tw-bg-opacity: 1;background-color:rgb(var(--color-darkmode-200)/var(--tw-bg-opacity))}@media screen and (max-width: 768px){.choose-score[_ngcontent-%COMP%]{max-width:80%}}"]}),o})();var mo=d(64425),uo=d(4859),mt=d(28255),ho=d(91350);function go(o,a){if(1&o&&(t.TgZ(0,"h4",12),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE(" ",null==e.result||null==e.result.studentObj?null:e.result.studentObj.fullName,", ",null==e.result||null==e.result.classroomObj?null:e.result.classroomObj.name," ")}}function po(o,a){1&o&&t._UZ(0,"azt-loading-effect")}function vo(o,a){if(1&o&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.errorMessage))}}function fo(o,a){if(1&o&&(t.TgZ(0,"div",18),t._UZ(1,"iframe",19),t.ALo(2,"safe"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.iframeSrc),t.uOi)}}function wo(o,a){if(1&o&&(t.TgZ(0,"div")(1,"div",13),t.YNc(2,vo,4,3,"div",14),t.qZA()(),t.YNc(3,fo,3,3,"div",15)),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",""!=e.errorMessage),t.xp6(1),t.Q6J("ngIf",""==e.errorMessage)}}let Tt=(()=>{class o extends nt.Q{constructor(e,n,i,s,l,_){super(),this.activeRoute=e,this.frontAnswerService=n,this.frontAnswerHistoryService=i,this.cdnService=s,this.zipDataService=l,this.envService=_,this.homeworkHashId="",this.isMarked=!1,this.jsonData={},this.iframeSrc="",this.backToLink="",this.files=[],this.handleIframe=c=>{var p,f,w,O,C,S,T,m,g,j,u,h,x,I,F;if("MNoteLoadComplete"==c.data){const D=document.getElementById("mNote"),Y=D?D.contentWindow:null;if(null!==Y){let Z=null!==(p=this.result)&&void 0!==p&&p.hasOwnProperty("answerObj")&&null!==(f=this.castObj(this.result.answerObj))&&void 0!==f?f:{};if(null!==(w=this.result)&&void 0!==w&&w.hasOwnProperty("answerObj")){let k=this.commonService.willDeleteParseJson(null!==(O=Z?.result)&&void 0!==O?O:"");if(null!=k){for(let b=0;b<k.pages.length;b++)k.pages[b].backgroundImage&&(k.pages[b].backgroundImage=this.cdnService.getMyCdn(k.pages[b].backgroundImage)),k.pages[b].draw&&(k.pages[b].draw=this.cdnService.getMyCdn(k.pages[b].draw));k=JSON.stringify(k),Z.result=k}let v=this.commonService.willDeleteParseJson(null!==(C=Z.files)&&void 0!==C?C:"");if(null!=v){for(let b=0;b<v.length;b++)v[b].url&&(v[b].url=this.cdnService.getMyCdn(v[b].url)),v[b].thumb&&(v[b].thumb=this.cdnService.getMyCdn(v[b].thumb));v=JSON.stringify(v),Z.files=v}}let L=null!==(S=this.result)&&void 0!==S&&S.hasOwnProperty("studentObj")?this.result.studentObj:{},U=null!==(T=this.result)&&void 0!==T&&T.hasOwnProperty("classroomObj")?this.result.classroomObj:{},tt=null!==(m=this.result)&&void 0!==m&&m.hasOwnProperty("homeworkObj")?this.result.homeworkObj:{},W=this.commonService.willDeleteParseJson(null!==(g=Z.result)&&void 0!==g?g:""),G=!(!W||!W.hasOwnProperty("hideMark"))&&W.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let k=0;k<(null!==(u=null===(j=this.jsonData.pages)||void 0===j?void 0:j.length)&&void 0!==u?u:0);k++)!(null===(h=this.jsonData.pages)||void 0===h)&&h[k].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[k].backgroundImage=this.cdnService.getMyCdn(null!==(x=this.jsonData.pages[k].backgroundImage)&&void 0!==x?x:"")),null!==(I=this.jsonData.pages)&&void 0!==I&&I[k].hasOwnProperty("draw")&&(this.jsonData.pages[k].draw=this.cdnService.getMyCdn(null!==(F=this.jsonData.pages[k].draw)&&void 0!==F?F:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=Z,this.jsonData.student_obj=L,this.jsonData.classroom_obj=U,this.jsonData.homework_obj=tt,this.jsonData.hideMark=G,Y.postMessage(this.jsonData,"*");else{let k=[];this.files.forEach(v=>{k.push({backgroundImage:v.url})}),Y.postMessage({cmd:"initMNote",pages:k,answer_obj:Z,student_obj:L,classroom_obj:U,homework_obj:tt,mode:"view",hideMark:G},"*")}}}}}goBack(){this.commonService.myNavigation(""!=this.backToLink&&null!=this.backToLink?this.backToLink:"/bai-tap/"+this.homeworkHashId)}fillData(e){var n,i,s,l,_,c,p,f,w,O,C,S;if(e){if(this.zipDataService.convertSubmittedAnswersHistoryObj(null===(n=e.data)||void 0===n?void 0:n.answerObj),this.result=e.data,this.files=null!==(_=this.commonService.myParseJson(null!==(l=null===(s=null===(i=e.data)||void 0===i?void 0:i.answerObj)||void 0===s?void 0:s.files)&&void 0!==l?l:""))&&void 0!==_?_:[],null!==this.files)for(let m=0;m<this.files.length;m++)this.files&&(this.files[m].url=this.cdnService.getMyCdn(null!==(c=this.files[m].url)&&void 0!==c?c:""),this.files[m].thumb=this.cdnService.getMyCdn(null!==(p=this.files[m].thumb)&&void 0!==p?p:""));if(null!==(w=null===(f=e.data)||void 0===f?void 0:f.answerObj)&&void 0!==w&&w.confirmedAt){this.isMarked=!0;var T=this.commonService.myParseJson(this.cdnService.getMyCdn(null!==(S=null===(C=null===(O=e?.data)||void 0===O?void 0:O.answerObj)||void 0===C?void 0:C.result)&&void 0!==S?S:""));T&&(this.jsonData=T,null===this.jsonData&&(this.isMarked=!1))}}}getData(e,n){this.initStatusObj(),this.errorMessage="",n?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,n).subscribe(i=>{var s;1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(null!==(s=i.message)&&void 0!==s?s:"",!0),this.errorMessage=i?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(i=>{var s;1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(null!==(s=i.message)&&void 0!==s?s:"",!0),this.errorMessage=i.message)})}copyLinkToClipboard(){const e=this.getMyParam(this.activeRoute,"id");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${e}/${this.homeworkHashId}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){var e,n,i,s,l;this.iframeSrc=null!==(e=this.envService.getEnvValue("classliveUrl"))&&void 0!==e?e:"";let _=null!==(n=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==n?n:"";const c=parseInt(_,10);if(this.homeworkHashId=null!==(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==i?i:"",this.backToLink=null!==(s=this.commonService.getMyQueryParam("backto"))&&void 0!==s?s:"",this.commonService.getMyParam(this.activeRoute,"history_id")){let p=null!==(l=this.commonService.getMyParam(this.activeRoute,"history_id"))&&void 0!==l?l:"";const f=parseInt(p,10);this.getData(c,f)}else this.getData(c);this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){window.removeEventListener("message",this.handleIframe),super.ngOnDestroy()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Q.gz),t.Y36(X.XL),t.Y36(X.ln),t.Y36(ct.U),t.Y36(lt.D),t.Y36(_t.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-exercise"]],features:[t.qOj],decls:20,vars:11,consts:[["id","markContainer",1,"maxW1000","pt-3"],[1,"flex","justify-between","titleRow"],[1,"col","center-row"],["azt-track-service","view-homework-zMU7uFOiO","mat-button","",3,"title","click"],[1,"col","center-row",2,"justify-content","center"],["class","studentInfo","style","padding-right: 10px;",4,"ngIf"],[1,"col","center-row",2,"justify-content","flex-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["azt-track-service","view-homework-Q8Fmec__8U","mat-menu-item","",3,"cdkCopyToClipboard","click"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"studentInfo",2,"padding-right","10px"],[1,"flex","justify-center","py-5"],["class","w-full text-center",4,"ngIf"],["class","card-box listPhotos","style","overflow : hidden",4,"ngIf"],[1,"w-full","text-center"],[1,"alert","text-danger"],[1,"card-box","listPhotos",2,"overflow","hidden"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),t.NdJ("click",function(){return n.goBack()}),t.ALo(4,"mytranslate"),t._uU(5,"keyboard_arrow_left"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,go,2,2,"h4",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7)(10,"mat-icon"),t._uU(11,"more_vert"),t.qZA()(),t.TgZ(12,"mat-menu",null,8)(14,"button",9),t.NdJ("click",function(){return n.showCopySuccess()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()(),t.YNc(17,po,1,0,"azt-loading-effect",10),t.YNc(18,wo,4,2,"ng-template",null,11,t.W1O),t.qZA()),2&e){const i=t.MAs(13),s=t.MAs(19);t.xp6(3),t.s9C("title",t.lcZ(4,7,"lang_auto_quay_lai")),t.xp6(4),t.Q6J("ngIf",null==n.result?null:n.result.answerObj),t.xp6(2),t.Q6J("matMenuTriggerFor",i),t.xp6(5),t.Q6J("cdkCopyToClipboard",n.copyLinkToClipboard()),t.xp6(1),t.Oqu(t.lcZ(16,9,"lang_homework_homework_frontend_utils_copy_send_teacher")),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",s)}},dependencies:[z.O5,mo.i3,uo.RK,yt.Hw,mt.VK,mt.OP,mt.p6,ho.Q,P.bT,P.yl],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}.center-row[_ngcontent-%COMP%]{display:flex;align-items:center}.titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;margin:0;color:#fff}.titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width: 1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),o})();const bo=[{path:"",component:Mt,canActivate:[B.J],children:[{path:":hash_id",component:io},{path:"view-homework/:id/:hash_id",component:Tt},{path:"view-homework/:id/:hash_id/:history_id",component:Tt},{path:"switch-view-homework/:id/:hash_id",component:Ct},{path:"switch-view-homework/:id/:hash_id/:history_id",component:Ct},{path:"view-homework-new/:id/:hash_id",component:St},{path:"view-homework-new/:id/:hash_id/:history_id",component:St}]}];let xo=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[Q.Bz.forChild(bo),Q.Bz,q.fQ]}),o})(),ko=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[E.kb,Q.Bz,z.ez,y.j,st.Z_,r.u5,r.UX,$.Is,K.Z,V.xC,xo,ot.QG,N.W,R.d,rt.qyJ.pick(rt.ciZ),M.k]}),o})()}}]);