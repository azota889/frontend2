"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[615],{37104:(gt,q,d)=>{d.d(q,{B:()=>B});var p=d(55330),l=d(5e3),f=d(69808),k=d(87238),Y=d(1033);function U(h,w){1&h&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&h&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_dat")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_d_upper")))}function F(h,w){1&h&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&h&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_chua_dat")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_cd_upper")))}function E(h,w){1&h&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&h&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_hoan_thanh")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_tag_ht")))}function G(h,w){1&h&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&h&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_chua_hoan_thanh")),l.xp6(2),l.hij("",l.lcZ(3,4,"lang_auto_tag_CHT")," "))}function z(h,w){1&h&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&h&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_hoan_thanh_tot")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_tag_HTT")))}function H(h,w){if(1&h&&(l.TgZ(0,"span",3),l._uU(1),l.qZA()),2&h){const T=l.oxw();l.xp6(1),l.Oqu(T.mark)}}let B=(()=>{class h extends p.Q{constructor(){super(...arguments),this.mark=0}}return h.\u0275fac=function(){let w;return function(C){return(w||(w=l.n5z(h)))(C||h)}}(),h.\u0275cmp=l.Xpm({type:h,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[l.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(T,C){1&T&&(l.YNc(0,U,4,6,"span",0),l.YNc(1,F,4,6,"span",0),l.YNc(2,E,4,6,"span",0),l.YNc(3,G,4,6,"span",0),l.YNc(4,z,4,6,"span",0),l.YNc(5,H,2,1,"span",1)),2&T&&(l.Q6J("ngIf","1000"==C.mark),l.xp6(1),l.Q6J("ngIf","1001"==C.mark),l.xp6(1),l.Q6J("ngIf","2000"==C.mark),l.xp6(1),l.Q6J("ngIf","2001"==C.mark),l.xp6(1),l.Q6J("ngIf","3000"==C.mark),l.xp6(1),l.Q6J("ngIf","2001"!=C.mark&&"2000"!=C.mark&&"1001"!=C.mark&&"1000"!=C.mark&&"3000"!=C.mark))},dependencies:[f.O5,k.gM,Y.bT],encapsulation:2}),h})()},71615:(gt,q,d)=>{d.r(q),d.d(q,{StudentModule:()=>Wn});var p=d(69808),l=d(93075),f=d(48966),k=d(74202),Y=d(51908),U=d(66574),F=d(1737),E=d(63728),G=d(47470),z=d(75658),H=d(14030),B=d(8785),h=d(37389),w=d(6834),T=d(94327),C=d(36053),X=d(44207),v=d(55330),y=d(70024),$=d(90508),M=d(67322),P=d(24149),tt=d(96551),b=d(50690),et=d(41303),t=d(5e3),x=d(73585),R=d(25245),ot=d(77531),D=d(53251),K=d(44944),ht=d(25157),J=d(49692),N=d(85736),nt=d(32343),m=d(1033);const ft=["fileSelect"];function xt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_utils_dont_file_choose")))}function bt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(2,"div",29),t._UZ(3,"img",30),t.ALo(4,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(5,"div",31),t._uU(6),t.qZA(),t.TgZ(7,"div",32)(8,"button",33),t.NdJ("click",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.removeFile(i))}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("src",t.lcZ(4,3,"azota_assets/images/excel.png"),t.LSH),t.xp6(3),t.Oqu(e.file?e.file.name:""),t.xp6(3),t.Oqu(t.lcZ(10,5,"lang_buttom_delete"))}}function vt(o,s){1&o&&(t.TgZ(0,"span",34),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_utils_click_choose_file")))}function Ct(o,s){if(1&o&&(t.TgZ(0,"a",35),t.ALo(1,"convertRawLinkOfGitHubWithLocale"),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"mat-icon"),t._uU(6,"save_alt"),t.qZA()()),2&o){const e=t.oxw(2);t.s9C("download",e.changeNameDownloadFile("excel_add_students_exp_v6")),t.Q6J("href",t.lcZ(1,3,"blob/master/azota_assets/medias_[LANG]/excel_add_students_exp_v6.xlsx?raw=true"),t.LSH),t.xp6(3),t.hij("",t.lcZ(4,5,"lang_student_utils_download_file")," ")}}function Zt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.exportListStudent())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5,"save_alt"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_student_utils_export_list_student")))}function Ot(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(8);return t.KtG(i.click())}),t.TgZ(2,"div",16),t.NdJ("filesChangeEmiter",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onFileSelected(i))}),t.TgZ(3,"div",17)(4,"a",18)(5,"mat-icon"),t._uU(6,"cloud_upload"),t.qZA()(),t.TgZ(7,"input",19,20),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onFileSelected(i.target.files))}),t.qZA(),t.YNc(9,xt,3,3,"span",21),t.YNc(10,bt,11,7,"ng-template",null,22,t.W1O),t._UZ(12,"br"),t.YNc(13,vt,3,3,"span",23),t.qZA()()(),t.TgZ(14,"div",24),t.YNc(15,Ct,7,7,"a",25),t.YNc(16,Zt,6,3,"a",26),t.qZA()()}if(2&o){const e=t.MAs(11),n=t.oxw();t.xp6(9),t.Q6J("ngIf",!n.file)("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",!n.file),t.xp6(2),t.Q6J("ngIf",0==(null==n.studentObjs?null:n.studentObjs.length)),t.xp6(1),t.Q6J("ngIf",0!=(null==n.studentObjs?null:n.studentObjs.length))}}function wt(o,s){1&o&&(t.TgZ(0,"div",71)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_student_utils_reques_enter_name_student"),"!"))}function kt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function Tt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function At(o,s){if(1&o&&(t.TgZ(0,"div",71),t.YNc(1,kt,3,3,"span",9),t.YNc(2,Tt,3,3,"span",9),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.min),t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.maxlength||e.form.controls.identificationNumber.errors.pattern)}}function yt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_utils_reques_enter_phone"),"."))}function jt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_utils_reques_phone_ten_number"),"."))}function St(o,s){if(1&o&&(t.TgZ(0,"div",72),t.YNc(1,yt,3,3,"div",9),t.YNc(2,jt,3,3,"div",9),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","required")),t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","minlength")||e.getErrorType("phone","maxlength"))}}function Mt(o,s){1&o&&(t.TgZ(0,"div",72)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email"),"."))}function Nt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"OK"),t.qZA())}function It(o,s){if(1&o&&(t.TgZ(0,"div",71)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,1,e.msgError),"!")}}function Lt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",37)(3,"div",38),t._UZ(4,"input",39),t.ALo(5,"mytranslate"),t.qZA(),t.YNc(6,wt,4,3,"div",40),t.qZA()(),t.TgZ(7,"div",14)(8,"div",37)(9,"div",41),t._UZ(10,"input",42),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,At,3,2,"div",40),t.qZA()(),t.TgZ(13,"div",14)(14,"div",37)(15,"div",41),t._UZ(16,"input",43),t.ALo(17,"mytranslate"),t.qZA(),t.YNc(18,St,3,2,"div",44),t.qZA()(),t.TgZ(19,"div",14)(20,"div",37)(21,"div",41),t._UZ(22,"input",45),t.ALo(23,"mytranslate"),t.qZA(),t.YNc(24,Mt,4,3,"div",44),t.qZA()(),t.TgZ(25,"div",14)(26,"div",46)(27,"mat-form-field",47)(28,"input",48),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(43);return t.KtG(i.open())}),t.ALo(29,"mytranslate"),t.qZA(),t.TgZ(30,"button",49),t.NdJ("click",function(i){return t.CHM(e),t.MAs(43).open(),t.KtG(i.stopPropagation())}),t.O4$(),t.TgZ(31,"svg",50),t._UZ(32,"rect",51)(33,"line",52)(34,"line",53)(35,"line",54)(36,"path",55)(37,"path",56)(38,"path",57)(39,"path",58)(40,"path",59)(41,"path",60),t.qZA()(),t.kcU(),t.TgZ(42,"ngx-mat-datetime-picker",61,62),t.YNc(44,Nt,2,0,"ng-template"),t.qZA()()()(),t.TgZ(45,"div",14)(46,"div",63)(47,"div",64)(48,"label",65),t._uU(49),t.ALo(50,"mytranslate"),t.qZA(),t.TgZ(51,"div",66),t._UZ(52,"input",67),t.TgZ(53,"label",68),t._uU(54),t.ALo(55,"mytranslate"),t.qZA()(),t.TgZ(56,"div",66),t._UZ(57,"input",69),t.TgZ(58,"label",70),t._uU(59),t.ALo(60,"mytranslate"),t.qZA()()()()(),t.YNc(61,It,4,3,"div",40),t.qZA()}if(2&o){const e=t.MAs(43),n=t.oxw();t.xp6(4),t.s9C("placeholder",t.lcZ(5,15,"lang_first_and_last_name")),t.xp6(2),t.Q6J("ngIf",n.form.controls.fullName.errors&&(n.form.controls.fullName.dirty||n.form.controls.fullName.touched)),t.xp6(4),t.s9C("placeholder",t.lcZ(11,17,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngIf",n.form.controls.identificationNumber.errors&&(n.form.controls.identificationNumber.dirty||n.form.controls.identificationNumber.touched)),t.xp6(4),t.s9C("placeholder",t.lcZ(17,19,"lang_number_phone")),t.xp6(2),t.Q6J("ngIf",n.form.controls.phone.invalid&&n.form.controls.phone.dirty),t.xp6(4),t.s9C("placeholder",t.lcZ(23,21,"lang_auto_email_input")),t.xp6(2),t.Q6J("ngIf",!n.validateEmail(n.form.controls.email.value)&&n.form.controls.email.dirty),t.xp6(4),t.s9C("placeholder",t.lcZ(29,23,"lang_auto_ngay_sinh")),t.Q6J("ngxMatDatetimePicker",e),t.xp6(14),t.Q6J("hideTime",!0),t.xp6(7),t.hij(" ",t.lcZ(50,25,"lang_auto_gioi_tinh")," "),t.xp6(5),t.hij(" ",t.lcZ(55,27,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(60,29,"lang_auto_nu")," "),t.xp6(2),t.Q6J("ngIf",""!==n.msgError)}}function qt(o,s){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",73),t._uU(2,"\xa0"),t.qZA())}function Ut(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",74),t.NdJ("exportDataDone",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.exportStudentListDone(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("objs",e.exportStudentObjs)}}let Pt=(()=>{class o extends v.Q{constructor(e,n,i,a,r){super(n),this.fb=e,this.commonService=n,this.studentService=i,this.dialogRef=a,this.data=r,this.form=new l.nJ({}),this.selected=new l.p4(0),this.importExcel=!1,this.birthDay="",this.msgError="",this.file=null,this.studentObjs=r.studentObjs,this.classroomObj=r.classroomObj}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(e){var n,i;let a=this.commonService.createFileNameExportFile(["list-student",null!==(i=null===(n=this.classroomObj)||void 0===n?void 0:n.name)&&void 0!==i?i:"danh-sach-hoc-sinh"])+".xlsx";T.saveAs(e,a)}changeNameDownloadFile(e){return this.commonService.createFileNameExportFile([e])+".xlsx"}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}getErrorType(e,n){var i;return!(!this.form.controls[e]||!this.form.controls[e].errors||null===(i=this.form.controls[e].errors)||void 0===i||!i[n])}onFileSelected(e){this.file=e?e[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}removeFile(e){e.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(e){this.importExcel=e}confirmAction(){let e=this.commonService.getFormObj(this.form);if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.subscriptions.add(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(n=>{var i;1==n.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(i=n.message)&&void 0!==i?i:"",!0))})):2==this.selected.value&&this.subscriptions.add(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(n=>{var i;1==n.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(i=n.message)&&void 0!==i?i:"",!0))})));else if(this.form.valid){let n={fullName:e.fullName,phone:e.phone,identificationNumber:e.identificationNumber?Number(e.identificationNumber):void 0,email:e.email,gender:Number(e.gender),birthday:""===e.birthDay||null===e.birthDay?void 0:(0,p.p6)(e.birthDay,"yyyy-MM-ddT00:00:00","en_vn"),classroomId:this.classroomObj.id};this.subscriptions.add(this.studentService.apiStudentSaveObjPost(n).subscribe(i=>{var a;1==i.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=null!==(a=i.message)&&void 0!==a?a:"")}))}}btnCloseDialog(e){this.dialogRef.close(e)}selectedIndexChange(e){if(this.selected.setValue(e),this.showImportExcel(0!=e),this.file){let n=document.getElementById("button-remove-export");n&&n.click()}}ngOnInit(){this.form=this.fb.group({phone:["",[l.kI.pattern("^[0-9]*$"),l.kI.minLength(10),l.kI.maxLength(10)]],fullName:new l.p4("",[l.kI.required,et._.noWhiteSpace]),identificationNumber:new l.p4("",[l.kI.min(1),l.kI.maxLength(6),l.kI.pattern("^[0-9]*$")]),birthDay:new l.p4(""),email:["",[l.kI.email]],gender:new l.p4("1"),File:new l.p4("")}),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.QS),t.Y36(b.v),t.Y36(x.VT),t.Y36(f.so,8),t.Y36(f.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-student"]],viewQuery:function(e,n){if(1&e&&t.Gf(ft,5),2&e){let i;t.iGM(i=t.CRH())&&(n.fileSelect=i.first)}},features:[t._Bn([{provide:y.fM,useClass:P.HF,deps:[$.Ad,P.o8]},{provide:y.ab,useFactory:tt.fX,deps:[b.v]},{provide:M.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:32,vars:31,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],[1,"p-3",2,"min-height","69px"],[1,"p-3",2,"min-height","80px"],[3,"formGroup"],["class","form-group",4,"ngIf"],[4,"ngIf"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"disabled","click"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["id","dropzoneAreaFrame",1,"col-sm-12","text-center","dz-started","cur-po",3,"click"],["appDragDrop","",1,"px-4","py-3",3,"filesChangeEmiter"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","name","file","id","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["class","dz-clickable","target","_self",3,"href","download",4,"ngIf"],["class","dz-clickable","target","_self",3,"click",4,"ngIf"],[1,"flex","items-center","justify-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"file-name"],[1,"action"],["id","button-remove-export",1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],["target","_self",1,"dz-clickable",3,"href","download"],["target","_self",1,"dz-clickable",3,"click"],[1,"col-sm-12"],[1,"input-group"],["type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"input-group","mt-3"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["class","alert alert-danger p-2 mb-2",4,"ngIf"],["type","text","formControlName","email",1,"form-control",3,"placeholder"],[1,"col-sm-12","studentBirthDay","mt-3"],[1,"azt-time-picker"],["matInput","","id","azt-asc-time-picker","formControlName","birthDay","readonly","",1,"form-birthday","bg-white",3,"placeholder","ngxMatDatetimePicker","click"],["matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"hideTime"],["birthDay",""],[1,"col-sm-12","mt-3"],[1,"flex","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-label","mr-auto",2,"margin-bottom","0"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"alert","alert-danger","p-2","mb-2"],["role","status",1,"spinner-border","spinner-border-sm"],[3,"objs","exportDataDone"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(a){return n.selectedIndexChange(a)}),t.TgZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"mat-tab",4),t.ALo(11,"mytranslate"),t.TgZ(12,"div",6),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"mat-tab",4),t.ALo(16,"mytranslate"),t.TgZ(17,"div",6),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()(),t.TgZ(20,"form",7),t.YNc(21,Ot,17,5,"div",8),t.YNc(22,Lt,62,31,"div",9),t.qZA()()()(),t.TgZ(23,"div",10)(24,"button",11),t.NdJ("click",function(){return n.btnCloseDialog(!1)}),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"button",12),t.NdJ("click",function(){return n.confirmAction()}),t.YNc(28,qt,3,0,"span",9),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()()(),t.YNc(31,Ut,1,1,"azt-export-excel-for-student-list",13)),2&e&&(t.xp6(4),t.Q6J("selectedIndex",n.selected.value),t.xp6(1),t.s9C("label",t.lcZ(6,15,"lang_student_utils_add_student")),t.xp6(3),t.hij("*",t.lcZ(9,17,"lang_student_utils_enter_profile_student"),"."),t.xp6(2),t.s9C("label",t.lcZ(11,19,"lang_student_utils_quick_add_excel")),t.xp6(3),t.hij("*",t.lcZ(14,21,"lang_student_utils_choose_excel"),"."),t.xp6(2),t.s9C("label",t.lcZ(16,23,"lang_student_utils_quick_add_phone_and_email")),t.xp6(3),t.hij("*",t.lcZ(19,25,"lang_student_utils_quick_add_width_excel"),"."),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("ngIf",0!=n.selected.value),t.xp6(1),t.Q6J("ngIf",0==n.selected.value),t.xp6(3),t.hij(" ",t.lcZ(26,27,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",n.statusObj.loading||n.form.invalid&&!n.importExcel||null==n.file&&n.importExcel),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(30,29,"lang_cms_common_confirm_btn")," "),t.xp6(2),t.Q6J("ngIf",n.exportStudentObjs))},dependencies:[p.O5,R.Hw,M.KE,M.R9,ot.Nt,D.SP,D.uX,y.AB,y.g2,l._Y,l.Fj,l._,l.JJ,l.JL,l.sg,l.u,K.Y,ht.N,J.M,N.O,nt.s,m.bT,m.Jc,m.Rh],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),o})();function Dt(o,s){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",10),t._uU(2,"\xa0"),t.qZA())}let it=(()=>{class o extends v.Q{constructor(e,n,i,a){super(e),this.commonService=e,this.studentService=n,this.dialogRef=i,this.data=a,this.studentObj=a.studentObj,this.classroomObj=a.classroomObj}btnCloseDialog(e){this.dialogRef.close(e)}confirmDelete(){this.initStatusObj(),this.subscriptions.add(this.studentService.apiStudentDeleteObjGet(this.studentObj.id).subscribe(e=>{var n;1==e.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(n=e.message)&&void 0!==n?n:"",!0))}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(x.VT),t.Y36(f.so,8),t.Y36(f.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-student"]],features:[t.qOj],decls:21,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[1,"text-danger"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b",5),t._uU(12),t.qZA()()()()(),t.TgZ(13,"div",6)(14,"button",7),t.NdJ("click",function(){return n.btnCloseDialog(!1)}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"button",8),t.NdJ("click",function(){return n.confirmDelete()}),t.YNc(18,Dt,3,0,"span",9),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,7,"lang_student_utils_delete_student_first"),"\xa0 "),t.xp6(3),t.Oqu(n.studentObj.fullName),t.xp6(1),t.hij("\xa0 ",t.lcZ(10,9,"lang_student_utils_delete_student_last"),":\xa0 "),t.xp6(3),t.Oqu(n.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(16,11,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(20,13,"lang_cms_common_confirm_btn")," "))},dependencies:[p.O5,N.O,m.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;margin-left:auto;margin-right:auto;border-radius:5px;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),o})();function Jt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_required_enter_name_student"),"!"))}function Qt(o,s){if(1&o&&(t.TgZ(0,"div",40),t.YNc(1,Jt,3,3,"span",39),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.getErrorType("fullName","noWhiteSpace"))}}function Yt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function Ft(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function Et(o,s){if(1&o&&(t.TgZ(0,"div",41),t.YNc(1,Yt,3,3,"span",39),t.YNc(2,Ft,3,3,"span",39),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.min),t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.maxlength||e.form.controls.identificationNumber.errors.pattern)}}function Gt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_required_enter_phone")," "))}function zt(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_required_phone_ten_number")," "))}function Ht(o,s){if(1&o&&(t.TgZ(0,"div",40),t.YNc(1,Gt,3,3,"span",39),t.YNc(2,zt,3,3,"span",39),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","required")),t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","minlength")||e.getErrorType("phone","maxlength"))}}function Bt(o,s){if(1&o&&(t.TgZ(0,"div",42)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,1,e.form.controls.email.value.length>=77?"lang_auto_email_ban_nhap_qua_dai":"lang_auto_vui_long_nhap_dung_dinh_dang_email")," ")}}function $t(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"OK"),t.qZA())}function Rt(o,s){if(1&o&&(t.TgZ(0,"div",41)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,1,e.msgError),"!")}}function Kt(o,s){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",43)(2,"g",44)(3,"g",45),t._UZ(4,"circle",46),t.TgZ(5,"path",47),t._UZ(6,"animateTransform",48),t.qZA()()()()())}let st=(()=>{class o extends v.Q{constructor(e,n,i,a,r){super(n),this.fb=e,this.commonService=n,this.studentService=i,this.dialogRef=a,this.data=r,this.form=new l.nJ({}),this.msgError="",this.studentObj=r.studentObj,this.classroomObj=r.classroomObj}validateEmail(e){return e?e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/):null}getErrorType(e,n){var i;return!(!this.form.controls[e]||!this.form.controls[e].errors||null===(i=this.form.controls[e].errors)||void 0===i||!i[n])}confirmAction(){let e=this.commonService.getFormObj(this.form);if(this.initStatusObj(),this.form.valid){let n={id:this.studentObj.id,fullName:e.fullName,phone:e.phone,email:e.email,identificationNumber:e.identificationNumber?Number(e.identificationNumber):void 0,gender:Number(e.gender),birthday:""===e.birthDay||null===e.birthDay?void 0:(0,p.p6)(e.birthDay,"yyyy-MM-ddT00:00:00","en_vn"),classroomId:this.classroomObj.id};this.subscriptions.add(this.studentService.apiStudentUpdateObjPost(n).subscribe(i=>{var a;1==i.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=null!==(a=i.message)&&void 0!==a?a:"",this.stopStatusObj())}))}}btnCloseDialog(e){this.dialogRef.close(e)}ngOnInit(){let e=1==this.studentObj.gender?"1":"0";this.form=this.fb.group({identificationNumber:new l.p4(this.studentObj.identificationNumber,[l.kI.min(1),l.kI.maxLength(6),l.kI.pattern("^[0-9]*$")]),phone:new l.p4(this.studentObj.phone,[l.kI.pattern("^[0-9]*$"),l.kI.minLength(10),l.kI.maxLength(10)]),email:new l.p4(this.studentObj.email,[l.kI.email]),fullName:new l.p4(this.studentObj.fullName,[l.kI.required,et._.noWhiteSpace]),birthDay:new l.p4(this.studentObj.birthday),gender:new l.p4(e)}),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.QS),t.Y36(b.v),t.Y36(x.VT),t.Y36(f.so,8),t.Y36(f.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-student"]],features:[t._Bn([{provide:y.fM,useClass:P.HF,deps:[$.Ad,P.o8]},{provide:y.ab,useFactory:tt.fX,deps:[b.v]},{provide:M.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:66,vars:43,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"form-horizontal",3,"formGroup"],[1,"intro","mt-3"],["type","text","aria-label","default input example","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-left text-xs mt-2 font-medium mb-2",4,"ngIf"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["type","text","formControlName","email",1,"form-control",3,"placeholder"],["class","text-danger text-xs text-left mt-2 font-medium mb-2",4,"ngIf"],[1,"azt-time-picker"],["matInput","","id","azt-asc-time-picker","formControlName","birthDay","readonly","",1,"form-birthday","bg-white",3,"placeholder","ngxMatDatetimePicker","click"],["matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"hideTime"],["birthDay",""],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md","mt-3"],[1,"form-label","mr-auto",2,"margin-bottom","0"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"text-danger","text-left","text-xs","mt-2","font-medium","mb-2"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"text-danger","text-xs","text-left","mt-2","font-medium","mb-2"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"form",4)(8,"div",5),t._UZ(9,"input",6),t.ALo(10,"mytranslate"),t.YNc(11,Qt,2,1,"div",7),t.qZA(),t.TgZ(12,"div",5),t._UZ(13,"input",8),t.ALo(14,"mytranslate"),t.YNc(15,Et,3,2,"div",9),t.qZA(),t.TgZ(16,"div",5),t._UZ(17,"input",10),t.ALo(18,"mytranslate"),t.YNc(19,Ht,3,2,"div",7),t.qZA(),t.TgZ(20,"div",5),t._UZ(21,"input",11),t.ALo(22,"mytranslate"),t.YNc(23,Bt,4,3,"div",12),t.qZA(),t.TgZ(24,"div",5)(25,"mat-form-field",13)(26,"input",14),t.NdJ("click",function(){t.CHM(i);const r=t.MAs(41);return t.KtG(r.open())}),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"button",15),t.NdJ("click",function(r){return t.CHM(i),t.MAs(41).open(),t.KtG(r.stopPropagation())}),t.O4$(),t.TgZ(29,"svg",16),t._UZ(30,"rect",17)(31,"line",18)(32,"line",19)(33,"line",20)(34,"path",21)(35,"path",22)(36,"path",23)(37,"path",24)(38,"path",25)(39,"path",26),t.qZA()(),t.kcU(),t.TgZ(40,"ngx-mat-datetime-picker",27,28),t.YNc(42,$t,2,0,"ng-template"),t.qZA()()(),t.TgZ(43,"div",29)(44,"label",30),t._uU(45),t.ALo(46,"mytranslate"),t.qZA(),t.TgZ(47,"div",31),t._UZ(48,"input",32),t.TgZ(49,"label",33),t._uU(50),t.ALo(51,"mytranslate"),t.qZA()(),t.TgZ(52,"div",31),t._UZ(53,"input",34),t.TgZ(54,"label",35),t._uU(55),t.ALo(56,"mytranslate"),t.qZA()()(),t.YNc(57,Rt,4,3,"div",9),t.qZA()()()(),t.TgZ(58,"div",36)(59,"button",37),t.NdJ("click",function(){return n.btnCloseDialog(!1)}),t._uU(60),t.ALo(61,"mytranslate"),t.qZA(),t.TgZ(62,"button",38),t.NdJ("click",function(){return n.confirmAction()}),t.YNc(63,Kt,7,0,"span",39),t._uU(64),t.ALo(65,"mytranslate"),t.qZA()()()}if(2&e){const i=t.MAs(41);t.xp6(5),t.hij(" ",t.lcZ(6,21,"lang_student_utils_edit_student")," "),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(2),t.s9C("placeholder",t.lcZ(10,23,"lang_first_and_last_name")),t.xp6(2),t.Q6J("ngIf",n.form.controls.fullName.invalid&&n.form.controls.fullName.dirty),t.xp6(2),t.s9C("placeholder",t.lcZ(14,25,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngIf",n.form.controls.identificationNumber.errors&&(n.form.controls.identificationNumber.dirty||n.form.controls.identificationNumber.touched)),t.xp6(2),t.s9C("placeholder",t.lcZ(18,27,"lang_number_phone")),t.xp6(2),t.Q6J("ngIf",n.form.controls.phone.invalid&&n.form.controls.phone.dirty),t.xp6(2),t.s9C("placeholder",t.lcZ(22,29,"lang_auto_email_input")),t.xp6(2),t.Q6J("ngIf",n.form.controls.email.value&&(!n.validateEmail(n.form.controls.email.value)||n.form.controls.email.invalid)),t.xp6(3),t.s9C("placeholder",t.lcZ(27,31,"lang_auto_ngay_sinh")),t.Q6J("ngxMatDatetimePicker",i),t.xp6(14),t.Q6J("hideTime",!0),t.xp6(5),t.hij(" ",t.lcZ(46,33,"lang_auto_gioi_tinh")," "),t.xp6(5),t.hij(" ",t.lcZ(51,35,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(56,37,"lang_auto_nu")," "),t.xp6(2),t.Q6J("ngIf",""!==n.msgError),t.xp6(3),t.hij(" ",t.lcZ(61,39,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",n.statusObj.loading||n.form.invalid),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(65,41,"lang_buttom_update")," ")}},dependencies:[p.O5,M.KE,M.R9,ot.Nt,y.AB,y.g2,l._Y,l.Fj,l._,l.JJ,l.JL,l.sg,l.u,K.Y,J.M,N.O,m.bT],encapsulation:2}),o})();function Vt(o,s){if(1&o&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.lcZ(2,2,"lang_student_utils_reques_notice_list_accuracy_number_phone"),": "),t.xp6(3),t.Oqu(e.datas)}}function Wt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,Vt,5,4,"span",11),t.TgZ(15,"div",12)(16,"div",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.reApproveStudent(a.studentId,a.id))}),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"div",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.delRequestNotice(a.id))}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()()}if(2&o){const e=s.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,8,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.xp6(3),t.Oqu(e.studentName),t.xp6(1),t.hij("\xa0 ",t.lcZ(9,10,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.xp6(3),t.hij("",e.classroomName," "),t.xp6(1),t.hij("\xa0 ",t.lcZ(13,12,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.xp6(2),t.Q6J("ngIf",null!=e.datas),t.xp6(3),t.Oqu(t.lcZ(18,14,"lang_student_utils_reques_notice_list_unlock_select_again")),t.xp6(3),t.Oqu(t.lcZ(21,16,"lang_buttom_skip"))}}let Xt=(()=>{class o extends v.Q{constructor(e,n,i,a,r){super(e),this.commonService=e,this.studentService=n,this.noticeService=i,this.dialogRef=a,this.data=r,this.classroomObj=r.classroomObj,this.noticeObjs=r.noticeObjs}reApproveStudent(e,n){this.subscriptions.add(this.studentService.apiStudentRemoveMappingObjGet(e).subscribe(i=>{var a;1==i.success?(this.delRequestNotice(n),this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong")):this.errorStatusObj(null!==(a=i.message)&&void 0!==a?a:"",!0)}))}delRequestNotice(e){this.subscriptions.add(this.noticeService.apiNoticeDeleteObjGet(e).subscribe(n=>{var i;1==n.success?this.btnCloseDialog(!0):this.errorStatusObj(null!==(i=n.message)&&void 0!==i?i:"",!0)}))}btnCloseDialog(e){this.dialogRef.close(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(x.VT),t.Y36(x.L$),t.Y36(f.so,8),t.Y36(f.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-reapprove-request"]],features:[t.qOj],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1","clickable"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","d-block",4,"ngIf"],[1,"mt-2","d-flex","justify-content-end"],[1,"notify__btn","bg-info",3,"click"],[1,"notify__btn","ml-3",3,"click"],[1,"d-block"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.YNc(4,Wt,22,18,"div",3),t.qZA()()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return n.btnCloseDialog(!1)}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",null==n.data?null:n.data.noticeObjs),t.xp6(3),t.hij(" ",t.lcZ(8,2,"lang_cms_common_close_btn")," "))},dependencies:[p.sg,p.O5,N.O,m.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:90;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;background:rgba(0,0,0,.5607843137);min-height:100vh}.school-info[_ngcontent-%COMP%]{z-index:91;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),o})();var at=d(86317),te=d(28293),j=d(92181),S=d(87238),I=d(91350),lt=d(64123),ee=d(89933),Q=d(20371);function oe(o,s){1&o&&t._UZ(0,"azt-loading-effect")}function ne(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",69),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.exportListStudent())}),t.O4$(),t.TgZ(1,"svg",33),t._UZ(2,"path",34)(3,"polyline",35)(4,"line",36)(5,"line",37)(6,"line",38),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_student_utils_export_list_student")," "))}function ie(o,s){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",72)(2,"g",73)(3,"g",74),t._UZ(4,"circle",75),t.TgZ(5,"path",76),t._UZ(6,"animateTransform",77),t.qZA()()()()())}function se(o,s){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",33),t._UZ(2,"path",34)(3,"polyline",35)(4,"line",36)(5,"line",37)(6,"line",38),t.qZA()())}function ae(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.exportExcelForScoreHomeworkOfClassroom())}),t.YNc(1,ie,7,0,"span",71),t.YNc(2,se,7,0,"span",71),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.loadingExport),t.xp6(1),t.Q6J("ngIf",!e.loadingExport),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_auto_xuat_bang_diem")," ")}}function le(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addStudentDialog(i.classroomObj))}),t.O4$(),t.TgZ(1,"svg",79),t._UZ(2,"line",80)(3,"line",81),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_them_hoc_sinh")," "))}function re(o,s){if(1&o&&(t.TgZ(0,"button",82)(1,"span",83),t.O4$(),t.TgZ(2,"svg",84),t._UZ(3,"path",85)(4,"circle",86),t.qZA()()()),2&o){t.oxw(2);const e=t.MAs(6);t.Q6J("matMenuTriggerFor",e)}}function ce(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",87)(1,"div",88)(2,"input",89),t.NdJ("change",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changeAnonymousStudentStatus(null==i.classroomObj?null:i.classroomObj.id,i.checkAddStudent.value))}),t.qZA(),t.TgZ(3,"label",90),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("formControl",e.checkAddStudent)("checked",1==(null==e.classroomObj?null:e.classroomObj.showAddStudent)),t.xp6(2),t.hij(" ",e.checkAddStudent.value?t.lcZ(5,3,"lang_student_classroom_list_detail_on"):t.lcZ(6,5,"lang_student_classroom_list_detail_off")," ")}}function de(o,s){1&o&&(t.TgZ(0,"th",65),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vi_tri")," "))}function _e(o,s){if(1&o&&(t._UZ(0,"img",109),t.ALo(1,"anonymousPhone"),t.ALo(2,"mycdn")),2&o){const e=t.oxw().$implicit;t.s9C("matTooltip",0==e.parentId||1==e.isAnonymous?null:" Id: "+e.parentId+(""!=t.lcZ(1,2,e.parentPhone||"")?" - Phone: "+e.parentPhone:"")+" - Name: "+e.parentFullName),t.s9C("src",t.lcZ(2,4,e.avatar),t.LSH)}}function ue(o,s){if(1&o&&(t._UZ(0,"azt-create-avatar",110),t.ALo(1,"anonymousPhone")),2&o){const e=t.oxw().$implicit;t.MGl("matTooltip","",0==e.parentId||1==e.isAnonymous?null:" Id: "+e.parentId+(""!=t.lcZ(1,3,e.parentPhone||"")?" - Phone: "+e.parentPhone:"")+" - Name: "+e.parentFullName," "),t.Q6J("nameCreateAvatar",e.fullName)("size",36)}}function me(o,s){if(1&o&&(t.TgZ(0,"a",111),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.O4$(),t.TgZ(8,"svg",112),t._UZ(9,"path",113)(10,"polyline",114)(11,"line",115),t.qZA()()),2&o){const e=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",e.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",e.phone?e.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",e.identificationNumber?t.xi3(5,15,e.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",e.fullName," \xa0")}}function pe(o,s){if(1&o&&(t.TgZ(0,"div",116),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.phone," ")}}function ge(o,s){if(1&o&&(t.TgZ(0,"div",117),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.s9C("matTooltip",e.email),t.xp6(1),t.hij(" ",e.email," ")}}function he(o,s){1&o&&(t.TgZ(0,"div",118),t.O4$(),t.TgZ(1,"svg",119),t._UZ(2,"polyline",120)(3,"path",121),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_co_tai_khoan")," "))}function fe(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==e.documentAttendedObj?null:e.documentAttendedObj.totalHomeworkAnswer," / ",null==e.totalDocumentObj?null:e.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function xe(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==e.documentAttendedObj?null:e.documentAttendedObj.totalExamResult," / ",null==e.totalDocumentObj?null:e.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function be(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",122),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.editStudentDialog(i))}),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"path",123)(3,"path",124),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function ve(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",125),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.deleteStudentDialog(i))}),t.O4$(),t.TgZ(1,"svg",126),t._UZ(2,"polyline",127)(3,"path",128)(4,"line",129)(5,"line",130),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()}2&o&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_buttom_delete")," "))}function Ce(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",136),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2),a=i.index,r=i.$implicit,c=t.oxw(2);return t.KtG(c.onPositionChange("up",a-1,r.id,null==c.classroomObj?null:c.classroomObj.id))}),t._uU(1," keyboard_arrow_up"),t.qZA()}}function Ze(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",136),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2),a=i.index,r=i.$implicit,c=t.oxw(2);return t.KtG(c.onPositionChange("down",a+1,r.id,null==c.classroomObj?null:c.classroomObj.id))}),t._uU(1," keyboard_arrow_down"),t.qZA()}}function Oe(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"td",131)(1,"div",132),t.YNc(2,Ce,2,0,"mat-icon",133),t.TgZ(3,"input",134,135),t.NdJ("keyup.enter",function(){t.CHM(e);const i=t.MAs(4),a=t.oxw(),r=a.index,c=a.$implicit,_=t.oxw(2);return t.KtG(_.onPositionChange(i.value,r,c.id,null==_.classroomObj?null:_.classroomObj.id))}),t.qZA(),t.YNc(5,Ze,2,0,"mat-icon",133),t.qZA()()}if(2&o){const e=t.oxw().index,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",0!=e),t.xp6(1),t.s9C("value",e+1),t.xp6(2),t.Q6J("ngIf",n.listStudents&&e!=n.listStudents.length-1)}}function we(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr",91)(1,"td",92),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.goToProfile(a.classroomId,a.id))}),t.TgZ(2,"div",93)(3,"div",94),t.YNc(4,_e,3,6,"img",95),t.YNc(5,ue,2,5,"azt-create-avatar",96),t.qZA(),t.TgZ(6,"div",97),t.YNc(7,me,12,20,"a",98),t.YNc(8,pe,2,1,"div",99),t.YNc(9,ge,2,2,"div",100),t.qZA()()(),t.TgZ(10,"td",101),t._uU(11),t.ALo(12,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(13,"td",101),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"td",102),t._uU(18),t.ALo(19,"localizedDate"),t.qZA(),t.TgZ(20,"td",103),t.YNc(21,he,6,3,"div",104),t.qZA(),t.TgZ(22,"td",102),t.YNc(23,fe,3,5,"span",71),t.qZA(),t.TgZ(24,"td",102),t.YNc(25,xe,3,5,"span",71),t.qZA(),t.TgZ(26,"td",102)(27,"div",105),t.YNc(28,be,6,3,"a",106),t.ALo(29,"editPermission"),t.YNc(30,ve,8,3,"a",107),t.ALo(31,"editPermission"),t.qZA()(),t.YNc(32,Oe,6,3,"td",108),t.ALo(33,"editPermission"),t.qZA()}if(2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.avatar&&""!=e.avatar),t.xp6(1),t.Q6J("ngIf",""==e.avatar||null==e.avatar),t.xp6(2),t.Q6J("ngIf",e.fullName),t.xp6(1),t.Q6J("ngIf",e.phone),t.xp6(1),t.Q6J("ngIf",e.email),t.xp6(2),t.Oqu(e.identificationNumber?t.xi3(12,14,e.identificationNumber,6):""),t.xp6(3),t.Oqu(0==e.gender?t.lcZ(15,17,"lang_auto_nu"):t.lcZ(16,19,"lang_auto_nam")),t.xp6(4),t.hij(" ",t.xi3(19,21,e.birthday,!1)," "),t.xp6(3),t.Q6J("ngIf",1==e.isVerified),t.xp6(2),t.Q6J("ngIf",(null==e.documentAttendedObj?null:e.documentAttendedObj.totalHomeworkAnswer)||(null==e.totalDocumentObj?null:e.totalDocumentObj.totalHomework)),t.xp6(2),t.Q6J("ngIf",(null==e.documentAttendedObj?null:e.documentAttendedObj.totalExamResult)||(null==e.totalDocumentObj?null:e.totalDocumentObj.totalExam)),t.xp6(3),t.Q6J("ngIf",t.xi3(29,24,null==n.classroomObj?null:n.classroomObj.permissionObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(31,27,null==n.classroomObj?null:n.classroomObj.permissionObj,"student")),t.xp6(2),t.Q6J("ngIf",1==(null==n.classroomObj?null:n.classroomObj.sortType)&&t.xi3(33,30,null==n.classroomObj?null:n.classroomObj.permissionObj,"student"))}}function ke(o,s){1&o&&(t.TgZ(0,"div",137),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")))}const rt=function(){return["fullName"]};function Te(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",39)(1,"div",40)(2,"div",41)(3,"div",42),t.O4$(),t.TgZ(4,"svg",43),t._UZ(5,"circle",44)(6,"line",45),t.qZA(),t.kcU(),t.TgZ(7,"form",46),t._UZ(8,"input",47),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"div",48),t.YNc(11,ne,9,3,"button",49),t.ALo(12,"viewPermission"),t.YNc(13,ae,5,5,"button",50),t.ALo(14,"viewPermission"),t.YNc(15,le,6,3,"button",51),t.ALo(16,"editPermission"),t.TgZ(17,"button",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openDialogAutoNumbering())}),t.O4$(),t.TgZ(18,"svg",9),t._UZ(19,"path",27)(20,"path",28)(21,"path",29)(22,"path",30)(23,"rect",31)(24,"rect",32),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(27,"div",53),t.YNc(28,re,5,1,"button",54),t.qZA()()()(),t.TgZ(29,"div",55)(30,"h2",56),t._uU(31),t.qZA(),t.TgZ(32,"span",57),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t._UZ(35,"azt-share",58),t.qZA(),t.TgZ(36,"div",59),t.YNc(37,ce,7,7,"div",60),t.ALo(38,"editPermission"),t._UZ(39,"br"),t.qZA(),t.TgZ(40,"div",61)(41,"table",62)(42,"thead")(43,"tr")(44,"th",63),t._uU(45),t.ALo(46,"mytranslate"),t.qZA(),t.TgZ(47,"th",64),t._uU(48),t.ALo(49,"mytranslate"),t.qZA(),t.TgZ(50,"th",65),t._uU(51),t.ALo(52,"mytranslate"),t.qZA(),t.TgZ(53,"th",65),t._uU(54),t.ALo(55,"mytranslate"),t.qZA(),t.TgZ(56,"th",65),t._uU(57),t.ALo(58,"mytranslate"),t.qZA(),t.TgZ(59,"th",65),t._uU(60),t.ALo(61,"mytranslate"),t.qZA(),t.TgZ(62,"th",65),t._uU(63),t.ALo(64,"mytranslate"),t.qZA(),t.TgZ(65,"th",65),t._uU(66),t.ALo(67,"mytranslate"),t.qZA(),t.YNc(68,de,3,3,"th",66),t.ALo(69,"editPermission"),t.qZA()(),t.TgZ(70,"tbody"),t.YNc(71,we,34,33,"tr",67),t.ALo(72,"appFilter"),t.qZA()(),t.YNc(73,ke,3,3,"div",68),t.ALo(74,"appFilter"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.form),t.xp6(1),t.s9C("placeholder",t.lcZ(9,28,"lang_student_classroom_list_detail_search_name_student")),t.xp6(3),t.Q6J("ngIf",t.xi3(12,30,null==e.classroomObj?null:e.classroomObj.permissionObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(14,33,null==e.classroomObj?null:e.classroomObj.permissionObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(16,36,null==e.classroomObj?null:e.classroomObj.permissionObj,"student")),t.xp6(10),t.hij(" ",t.lcZ(26,39,"lang_auto_danh_so_bao_danh")," "),t.xp6(3),t.Q6J("ngIf",null!=(null==e.classroomObj?null:e.classroomObj.permissionObj)),t.xp6(3),t.AsE("",null==e.classroomObj?null:e.classroomObj.name," ( ",null==e.classroomObj?null:e.classroomObj.year," )"),t.xp6(2),t.AsE(" (",t.lcZ(34,41,"lang_student_classroom_list_detail_quantity"),": ",null!=e.classroomObj&&e.classroomObj.countStudents?null==e.classroomObj?null:e.classroomObj.countStudents:0,") "),t.xp6(2),t.Q6J("backToLink",e.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",e.classroomId)("classroomWithPermissionObj",e.classroomObj),t.xp6(2),t.Q6J("ngIf",t.xi3(38,43,null==e.classroomObj?null:e.classroomObj.permissionObj,"student")),t.xp6(8),t.Oqu(t.lcZ(46,46,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(49,48,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(52,50,"lang_gender")),t.xp6(3),t.Oqu(t.lcZ(55,52,"lang_birthday")),t.xp6(3),t.Oqu(t.lcZ(58,54,"lang_testbank_folder_and_file_status")),t.xp6(3),t.hij(" ",t.lcZ(61,56,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.hij(" ",t.lcZ(64,58,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Oqu(t.lcZ(67,60,"lang_auto_hanh_dong")),t.xp6(2),t.Q6J("ngIf",1==(null==e.classroomObj?null:e.classroomObj.sortType)&&t.xi3(69,62,null==e.classroomObj?null:e.classroomObj.permissionObj,"student")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(72,65,e.listStudents,e.form.controls.searchContent.value,t.DdM(73,rt))),t.xp6(2),t.Q6J("ngIf",!e.hasStudents||0==t.Dn7(74,69,e.listStudents,e.form.controls.searchContent.value,t.DdM(74,rt)).length)}}function Ae(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",138),t.NdJ("exportDataDone",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.exportStudentListDone(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("objs",e.exportStudentObjs)}}function ye(o,s){1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"mat-icon",139),t._uU(1,"done"),t.qZA())}function je(o,s){1&o&&(t.TgZ(0,"mat-icon",139),t._uU(1,"done"),t.qZA())}let Se=(()=>{class o extends v.Q{constructor(e,n,i,a,r,c,_,u,g,O,Z){super(e),this.commonService=e,this.classroomService=n,this.classroomExportDataService=i,this.noticeService=a,this.activeRoute=r,this.fb=c,this.sortService=_,this.studentProfileV2Service=u,this.exportExcelService=g,this.studentService=O,this.dialog=Z,this.form=new l.nJ({}),this.checkAddStudent=new l.p4(!1),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.isLoading=!1,this.validFormIdentify=!0,this.loadingExport=!1}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(e){var n,i;let a=this.commonService.createFileNameExportFile(["list-student",null!==(i=null===(n=this.classroomObj)||void 0===n?void 0:n.name)&&void 0!==i?i:"danh-sach-hoc-sinh"])+".xlsx";T.saveAs(e,a)}exportExcelForScoreHomeworkOfClassroom(){var e;this.loadingExport=!0;let n=null!==(e=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop"))&&void 0!==e?e:"";this.subscriptions.add(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(i=>{var a,r,c,_,u,g;if(1==i.success){let O=this.commonService.createFileNameExportFile([n,null!==(r=null===(a=this.classroomObj)||void 0===a?void 0:a.name)&&void 0!==r?r:""]);const Z=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(null!==(c=this.classroomObj)&&void 0!==c?c:{},null!==(u=null===(_=i.data)||void 0===_?void 0:_.objs)&&void 0!==u?u:[]);T.saveAs(Z,O+".xlsx")}else this.errorStatusObj(null!==(g=i.message)&&void 0!==g?g:"",!0);this.loadingExport=!1}))}getNoticeObjsRequest(){this.subscriptions.add(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(e=>{var n,i,a,r,c;1==e.success?(null!==(a=null===(i=null===(n=e.data)||void 0===n?void 0:n.objs)||void 0===i?void 0:i.length)&&void 0!==a?a:0)>0&&this.dialog.open(Xt,{data:{noticeObjs:null!==(c=null===(r=e.data)||void 0===r?void 0:r.objs)&&void 0!==c?c:[],classroomObj:this.classroomObj}}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(e){this.subscriptions.add(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,e).subscribe(n=>{var i,a;1==n.success?(this.checkSortListStudent(e),!(null===(i=this.classroomObj)||void 0===i)&&i.sortType&&(this.classroomObj.sortType=e),this.getData()):this.errorStatusObj(null!==(a=n.message)&&void 0!==a?a:"",!0)}))}checkSortListStudent(e){var n,i;this.listStudents=0==e?this.sortService.sortFirstNameStudents(null!==(n=this.commonService.myClone(this.rawStudentObjs))&&void 0!==n?n:[]):this.sortService.sortArrayByMultipleObjectKeyAsc(null!==(i=this.commonService.myClone(this.rawStudentObjs))&&void 0!==i?i:[],"pos","id")}onPositionChange(e,n,i,a){let r="up"==e?1:"down"==e?2:3,c=3==r&&null!=e?e:"",_=parseInt(c,10);this.subscriptions.add(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=r?n:_),Number(i),Number(a),Number(r)).subscribe(g=>{1==g.success?this.getData():this.showErrorSnack(""==c&&3==r?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(e,n){this.subscriptions.add(n?this.classroomService.apiClassroomChangeShowAddStudentGet(e,1).subscribe(i=>{var a;1==i.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(null!==(a=i.message)&&void 0!==a?a:"",!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(e,0).subscribe(i=>{var a;1==i.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(null!==(a=i.message)&&void 0!==a?a:"",!0)}))}addStudentDialog(e){this.dialog.open(Pt,{data:{studentObjs:this.listStudents,classroomObj:e}}).afterClosed().subscribe(i=>{i&&this.getData()})}deleteStudentDialog(e){this.dialog.open(it,{data:{studentObj:e,classroomObj:this.classroomObj},width:"550px"}).afterClosed().subscribe(i=>{i&&this.getData()})}editStudentDialog(e){this.dialog.open(st,{data:{studentObj:e,classroomObj:this.classroomObj},width:"550px"}).afterClosed().subscribe(i=>{i&&this.getData()})}openDialogAutoNumbering(){var e,n;this.dialog.open(X.p,{data:{type:2,listCheckBox:[null===(e=this.classroomObj)||void 0===e?void 0:e.id],totalStudent:null===(n=this.classroomObj)||void 0===n?void 0:n.countStudents},width:"800px"}).afterClosed().subscribe(a=>{a&&this.getData()})}goToProfile(e,n){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+n,"?backto="+encodeURIComponent(`/admin/student/class-details/${e}`))}goToMergeStudent(e){this.commonService.myNavigation("/admin/student/merge-student/"+e)}translateExportNote(){var e,n,i,a;let r=null!==(e="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"))&&void 0!==e?e:"",c=null!==(n="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"))&&void 0!==n?n:"",_=null!==(i="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"))&&void 0!==i?i:"",u=null!==(a="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four"))&&void 0!==a?a:"";this.export=[r,c,_,u]}getData(){this.subscriptions.add(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(e=>{var n,i,a,r,c,_,u,g,O,Z;if(1==e.success){this.classroomObj=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.classroomObj,this.permissionObj=null===(i=this.classroomObj)||void 0===i?void 0:i.permissionObj;let L=1==(null===(a=this.classroomObj)||void 0===a?void 0:a.showAddStudent);this.checkAddStudent.setValue(L),this.rawStudentObjs=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.studentObjs,this.checkSortListStudent(null===(_=null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.classroomObj)||void 0===_?void 0:_.sortType),this.countStudent=null===(g=null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.studentObjs)||void 0===g?void 0:g.length,this.hasStudents=!!((null===(O=null==e?void 0:e.data)||void 0===O?void 0:O.studentObjs)&&e.data.studentObjs.length>0),this.getNoticeObjsRequest(),this.successStatusObj(),this.isLoading=!1}else this.errorStatusObj(null!==(Z=e.message)&&void 0!==Z?Z:"",!0),this.isLoading=!1}))}checkValidFormIdentify(e){var n,i;this.validFormIdentify=e.target instanceof HTMLInputElement&&Number(e.target.value)<=999999-(null!==(i=null===(n=this.listStudents)||void 0===n?void 0:n.length)&&void 0!==i?i:0)}ngOnInit(){this.translateExportNote(),this.isLoading=!0,this.form=this.fb.group({searchContent:new l.p4("",l.kI.required),startIdentifyIndex:new l.p4("",[l.kI.min(1),l.kI.max(999999),l.kI.pattern(/^[0-9]*$/)])}),(0,C.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let e=this.commonService.getMyQueryParam("backto");this.backToLink=null!=e?e:"/admin/student/manage-class/0",this.getData()}),this.commonService.translateMetaData({title:"lang_cms_homework_student_list_title",description:"lang_cms_homework_student_list_description",image:"lang_cms_test_image"}),super.ngOnInit(),this.commonService.gaEvent("teacher_class_details")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(x.um),t.Y36(x.Tg),t.Y36(x.L$),t.Y36(k.gz),t.Y36(l.QS),t.Y36(at.K),t.Y36(x.LU),t.Y36(te.O),t.Y36(x.VT),t.Y36(f.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-new-class"]],features:[t.qOj],decls:63,vars:24,consts:[[3,"headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"objs","exportDataDone",4,"ngIf"],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M9 17H7A5 5 0 0 1 7 7h2"],["d","M15 7h2a5 5 0 1 1 0 10h-2"],["x1","8","y1","12","x2","16","y2","12"],["d","M11 5h4"],["d","M11 9h7"],["d","M11 13h10"],["d","m3 17 3 3 3-3"],["d","M6 18V4"],["style","color: green; font-size: 20px; margin-left: 10px",4,"ngIf"],["x1","10","y1","6","x2","21","y2","6"],["x1","10","y1","12","x2","21","y2","12"],["x1","10","y1","18","x2","21","y2","18"],["d","M4 6h1v4"],["d","M4 10h2"],["d","M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],[1,"ml-1",3,"matTooltip"],[1,"block","lg:hidden"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","file-text","data-lucide","file-text",1,"lucide","lucide-file-text","flex-none","w-4","h-4","mr-2"],["d","M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"grid","grid-cols-12","gap-6","mt-8"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","relative","mr-auto","mt-3","sm:mt-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search","data-lucide","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","ml-3","left-0","z-10","text-slate-500"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[2,"position","relative",3,"formGroup"],["type","text","formControlName","searchContent",1,"form-control","w-full","sm:w-64","box","px-10",3,"placeholder"],[1,"w-full","sm:w-auto","flex"],["class","btn btn-primary btn-sm shadow-md mr-2",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm shadow-md mr-2 hidden lg:block",3,"click",4,"ngIf"],["class","btn btn-sm btn-primary shadow-md mr-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","px-2","box","shadow-md","mr-2","hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],[1,"col-span-12","md:col-span-6","items-center"],[1,"text-lg","font-medium","mr-5"],[1,""],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],[1,"col-span-12","md:col-span-6","md:text-right",2,"max-width","100%"],["class","box px-5 py-2 inline-block w-full sm:w-auto",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto","2xl:overflow-visible"],[1,"table","table-report","-mt-2"],[1,"whitespace-nowrap","uppercase",2,"padding-left","0"],[1,"whitespace-nowrap","uppercase"],[1,"text-center","whitespace-nowrap","uppercase"],["class","text-center whitespace-nowrap uppercase",4,"ngIf"],["class","intro-x",4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],[1,"btn","btn-primary","btn-sm","shadow-md","mr-2",3,"click"],[1,"btn","btn-primary","btn-sm","shadow-md","mr-2","hidden","lg:block",3,"click"],[4,"ngIf"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"btn","btn-sm","btn-primary","shadow-md","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","flex-none","lucide-activity","w-4","h-4","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],["d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"],["cx","12","cy","12","r","3"],[1,"box","px-5","py-2","inline-block","w-full","sm:w-auto"],[1,"form-check","form-switch"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-3",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[1,"intro-x"],[1,"!py-3.5","clickable",3,"click"],[1,"flex","items-center"],[1,"w-9","h-9","image-fit","zoom-in"],["alt","Azota-Image-Loading","class","rounded-full border-white shadow-md tooltip",3,"matTooltip","src",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[1,"ml-4",2,"max-width","200px"],["class","truncate font-medium whitespace-nowrap",3,"matTooltip",4,"ngIf"],["class","truncate text-slate-500 text-xs whitespace-nowrap mt-0.5",4,"ngIf"],["class","truncate text-slate-500 text-xs whitespace-nowrap mt-0.5",3,"matTooltip",4,"ngIf"],[1,"text-center","capitalize"],[1,"text-center"],[1,"w-40"],["class","flex items-center justify-center text-success",4,"ngIf"],[1,"flex","justify-center","items-center"],["class","flex items-center mr-3","href","javascript:;",3,"click",4,"ngIf"],["class","flex items-center text-danger","href","javascript:;","data-tw-toggle","modal","data-tw-target","#delete-confirmation-modal",3,"click",4,"ngIf"],["style","padding: 5px; width: 50px",4,"ngIf"],["alt","Azota-Image-Loading",1,"rounded-full","border-white","shadow-md","tooltip",3,"matTooltip","src"],[3,"matTooltip","nameCreateAvatar","size"],[1,"truncate","font-medium","whitespace-nowrap",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","y1","14","x2","21","y2","3"],[1,"truncate","text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[1,"truncate","text-slate-500","text-xs","whitespace-nowrap","mt-0.5",3,"matTooltip"],[1,"flex","items-center","justify-center","text-success"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","check-square","data-lucide","check-square",1,"lucide","lucide-check-square","w-4","h-4","mr-2"],["points","9 11 12 14 22 4"],["d","M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"],["href","javascript:;",1,"flex","items-center","mr-3",3,"click"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["href","javascript:;","data-tw-toggle","modal","data-tw-target","#delete-confirmation-modal",1,"flex","items-center","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash-2","data-lucide","trash-2",1,"lucide","lucide-trash-2","w-4","h-4","mr-1"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[2,"padding","5px","width","50px"],[2,"width","100%","text-align","center","border-left","1px solid #ccc","display","inline-grid","padding","5px"],["class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],[1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","mt-4"],[3,"objs","exportDataDone"],[2,"color","green","font-size","20px","margin-left","10px"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,oe,1,0,"azt-loading-effect",1),t.YNc(2,Te,75,75,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Ae,1,1,"azt-export-excel-for-student-list",3),t.TgZ(5,"mat-menu",4,5)(7,"div",6)(8,"ul",7)(9,"li")(10,"button",8),t.NdJ("click",function(){return n.goToMergeStudent(null==n.classroomObj?null:n.classroomObj.id)}),t.O4$(),t.TgZ(11,"svg",9),t._UZ(12,"path",10)(13,"path",11)(14,"line",12),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(17,"li")(18,"button",8),t.NdJ("click",function(){return n.changeSortType(0)}),t.O4$(),t.TgZ(19,"svg",9),t._UZ(20,"path",13)(21,"path",14)(22,"path",15)(23,"path",16)(24,"path",17),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.YNc(27,ye,2,0,"mat-icon",18),t.qZA()(),t.kcU(),t.TgZ(28,"li")(29,"button",8),t.NdJ("click",function(){return n.changeSortType(1)}),t.O4$(),t.TgZ(30,"svg",9),t._UZ(31,"line",19)(32,"line",20)(33,"line",21)(34,"path",22)(35,"path",23)(36,"path",24),t.qZA(),t.kcU(),t.TgZ(37,"span",25),t.ALo(38,"mytranslate"),t._uU(39),t.ALo(40,"mytranslate"),t.qZA(),t.YNc(41,je,2,0,"mat-icon",18),t.qZA()(),t.TgZ(42,"li",26)(43,"button",8),t.NdJ("click",function(){return n.openDialogAutoNumbering()}),t.O4$(),t.TgZ(44,"svg",9),t._UZ(45,"path",27)(46,"path",28)(47,"path",29)(48,"path",30)(49,"rect",31)(50,"rect",32),t.qZA(),t._uU(51),t.ALo(52,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(53,"li",26)(54,"button",8),t.NdJ("click",function(){return n.exportExcelForScoreHomeworkOfClassroom()}),t.O4$(),t.TgZ(55,"svg",33),t._UZ(56,"path",34)(57,"polyline",35)(58,"line",36)(59,"line",37)(60,"line",38),t.qZA(),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()()()()()),2&e){const i=t.MAs(3);t.Q6J("headerBackTolink","/admin/student/manage-class/0"),t.xp6(1),t.Q6J("ngIf",n.isLoading)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",n.exportStudentObjs),t.xp6(11),t.hij(" ",t.lcZ(16,12,"lang_student_classroom_list_detail_merge_student")," "),t.xp6(10),t.hij(" ",t.lcZ(26,14,"lang_student_classroom_list_detail_sort_name")," "),t.xp6(2),t.Q6J("ngIf",0==(null==n.classroomObj?null:n.classroomObj.sortType)),t.xp6(10),t.s9C("matTooltip",t.lcZ(38,16,"lang_student_classroom_list_detail_request")),t.xp6(2),t.hij(" ",t.lcZ(40,18,"lang_student_classroom_list_detail_change"),""),t.xp6(2),t.Q6J("ngIf",0!=(null==n.classroomObj?null:n.classroomObj.sortType)),t.xp6(10),t.hij(" ",t.lcZ(52,20,"lang_auto_danh_so_bao_danh")," "),t.xp6(10),t.hij(" ",t.lcZ(62,22,"lang_auto_xuat_bang_diem")," ")}},dependencies:[p.sg,p.O5,R.Hw,j.VK,j.p6,S.gM,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.oH,l.sg,l.u,I.Q,lt.g,K.Y,J.M,nt.s,ee.I,Q._,m.bT,m.GT,m.gB,m.C5,m.BU,m.Pz,m.t9,m.gG],styles:[".class--list[_ngcontent-%COMP%]{background-color:#ececec;padding:10px;border-radius:5px;box-shadow:0 0 5px #00000024}.btn-select-anonymous[_ngcontent-%COMP%]:focus{box-shadow:none!important}.truncate[_ngcontent-%COMP%]{display:block;max-width:100%}.content-mat-menu-function[_ngcontent-%COMP%]{transition:margin-top .2s;box-shadow:0 3px 10px #00000017;position:relative;margin-top:.25rem;width:100%;border-radius:.375rem;padding:.5rem;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.search-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(234,234,234,.8901960784);padding:.1rem .55rem;border-radius:3px;font-size:14px;padding:5px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.block-null[_ngcontent-%COMP%]{white-space:pre-wrap;color:#888;height:60px;display:flex;justify-content:center;align-items:center}.input-search[_ngcontent-%COMP%]:focus{border:1px solid #0EAFC0;outline:none}.share--button[_ngcontent-%COMP%]{background-color:#fff;border-width:1px;border-style:solid;border-color:#e8e8e8;border-radius:2px;font-size:12px;color:#717171;padding:4px 16px;text-decoration:none;display:flex;justify-content:center;align-items:center;cursor:pointer;text-align:center}.class--title[_ngcontent-%COMP%]{font-family:Arial Bold,Arial;font-weight:700;color:#5b5b5b}.student-list[_ngcontent-%COMP%]{flex:auto;overflow-y:auto;padding-right:1.55px}.box-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:4px;margin-bottom:10px}.box-item[_ngcontent-%COMP%]:last-child{margin-bottom:16px}.block-student[_ngcontent-%COMP%]{position:relative}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%]{display:flex}stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto;margin-left:10px}.stdinfo[_ngcontent-%COMP%]   span.new[_ngcontent-%COMP%]{color:#3c8dbc!important}.stdinfo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#a2a2a2;font-size:13px}.stdinfo-fullname[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word;padding-bottom:8px}.verifiedIcon[_ngcontent-%COMP%]{color:#00ac33;font-size:14px;margin-left:10px;width:14px;height:15px;vertical-align:middle}.left-text[_ngcontent-%COMP%]{text-align:left!important}.right-text[_ngcontent-%COMP%]{text-align:right!important;display:flex;justify-content:flex-end}@media only screen and (max-width: 768px){.right-text[_ngcontent-%COMP%]{text-align:left!important;display:flex;justify-content:flex-start}}.box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e9e9e9;border-radius:5px;box-shadow:none}.form-noti[_ngcontent-%COMP%]{text-align:center;background-color:#b8e4c8;padding:25px;border:1px solid #8fc6a0;border-radius:5px;position:relative}.buttom-creat[_ngcontent-%COMP%]{padding:5px 15px;background:white;border:1px solid #8fc6a0;border-radius:3px}.buttom-creat[_ngcontent-%COMP%]:hover{background:rgb(230,230,230)!important}.block-delete[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:15px}.delete-student[_ngcontent-%COMP%]:hover{color:red}.delete-notice[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px}.close[_ngcontent-%COMP%]:hover{color:#212529!important}button.setting_options[_ngcontent-%COMP%]{text-transform:none;display:flex;justify-content:left;align-items:center;border-radius:.375rem;padding:.5rem}button.setting_options[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:gray;margin-right:7px}.function-column[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 0 5px #00000024}.function-column[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#ececec;padding:10px 15px;font-weight:500;border-top-left-radius:5px;border-top-right-radius:5px}.function-column[_ngcontent-%COMP%]   .single-name[_ngcontent-%COMP%]{padding:10px 15px}.buttom-sort[_ngcontent-%COMP%]:hover{background:#a0a0a0!important}.buttom-sort[_ngcontent-%COMP%]{text-align:center;background:#ececec;padding:5px 10px;border-radius:5px}input[type=number][_ngcontent-%COMP%]{-webkit-appearance:textfield;appearance:textfield;text-align:center;border:none}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}"]}),o})();var Me=d(77446),ct=d(44262);function Ne(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.selectAll(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_all")))}function Ie(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.selectAll(!1))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_disable")))}function Le(o,s){if(1&o&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.s9C("matTooltip",e.name),t.xp6(1),t.Oqu(e.name)}}function qe(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.name)}}function Ue(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-checkbox",28,29),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw();return t.KtG(r.changeValue(i.checked,a))}),t.YNc(2,Le,2,2,"span",30),t.YNc(3,qe,2,1,"span",23),t.qZA()}if(2&o){const e=t.MAs(1),n=t.oxw(),i=n.index,a=n.$implicit,r=t.oxw();t.MGl("id","mat-check",i,""),t.Q6J("checked",r.selectedAll)("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.Q6J("ngIf",a.name&&a.name.length>=25),t.xp6(1),t.Q6J("ngIf",a.name&&a.name.length<25)}}function Pe(o,s){if(1&o&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.s9C("matTooltip",e.name),t.xp6(1),t.Oqu(e.name)}}function De(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.name)}}function Je(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-checkbox",32),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw();return t.KtG(r.changeValue(i.checked,a))}),t.YNc(1,Pe,2,2,"span",30),t.YNc(2,De,2,1,"span",23),t.qZA()}if(2&o){const e=t.oxw(),n=e.index,i=e.$implicit,a=t.oxw();t.MGl("id","mat-check",n,""),t.Q6J("checked",a.selectedAll),t.xp6(1),t.Q6J("ngIf",i.name&&i.name.length>=25),t.xp6(1),t.Q6J("ngIf",i.name&&i.name.length<25)}}function Qe(o,s){if(1&o&&(t.TgZ(0,"div",25),t.YNc(1,Ue,4,6,"mat-checkbox",26),t.YNc(2,Je,3,4,"mat-checkbox",27),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.isMobile),t.xp6(1),t.Q6J("ngIf",1==e.isMobile)}}function Ye(o,s){1&o&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_invite_choose"),". "))}function Fe(o,s){1&o&&(t.TgZ(0,"div",34),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),". "))}function Ee(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"input",47),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.validateInput(i))}),t.ALo(1,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw(),i=e.$implicit;t.MGl("id","input-event-",e.index,""),t.s9C("value",i.nameClass),t.s9C("placeholder",t.lcZ(1,4,"lang_auto_nhap_ten_lop")),t.s9C("matTooltip",i.nameClass)}}function Ge(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",48),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.validateInput(i))}),t.ALo(1,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw(),i=e.$implicit;t.MGl("id","input-event-",e.index,""),t.s9C("value",i.nameClass),t.s9C("placeholder",t.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function ze(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36)(2,"div",37),t.YNc(3,Ee,2,6,"input",38),t.YNc(4,Ge,2,5,"textarea",39),t.qZA(),t.TgZ(5,"div",40)(6,"button",41),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.clearInput(a.index))}),t.O4$(),t.TgZ(7,"svg",42),t._UZ(8,"line",43)(9,"line",44),t.qZA()()()(),t.kcU(),t.TgZ(10,"div",45,46),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}if(2&o){const e=s.index,n=t.oxw();t.xp6(3),t.Q6J("ngIf",0==n.isMobile),t.xp6(1),t.Q6J("ngIf",1==n.isMobile),t.xp6(6),t.MGl("id","logerror",e,""),t.xp6(2),t.hij(" ",t.lcZ(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function He(o,s){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",49),t._uU(2,"\xa0"),t.qZA())}let Be=(()=>{class o extends v.Q{constructor(e,n,i,a){super(i),this.classGroupService=e,this.location=n,this.commonService=i,this.dialogRef=a,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSeleted=!0,this.isMobile=this.commonService.isMobileOrTable()}closeDialog(){this.dialogRef.close()}validateInput(e){let n=document.getElementById("input-event-"+e),i=n?n.value:"";if(""==i){let a=document.getElementById("logerror"+e);a&&(a.style.display="block")}if(""!=i){let a=document.getElementById("logerror"+e);a&&(a.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let e=!0;this.sendDataUpgradeClass=[];for(let n=0;n<this.dataUpgradeClass.length;n++){let i=document.getElementById("input-event-"+n),a=i?i.value:"";""==a&&(e=!1),this.validateInput(n),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[n].id,newName:a,year:this.increaseYear(this.dataUpgradeClass[n].year)})}1==e&&this.upgradeClassGroup()}else this.viewErrorSeleted=!1}increaseYear(e){if(null!=e||null!=e){let n=e.split(" ")[0],i=parseInt(n,10)+1;return i+" - "+(i+1)}}changeValue(e,n){let c,i=this.classroomObjs[n].name,a=this.classroomObjs[n].year,r=null==i?void 0:i.match(/\d+/g);if(null==r)c=i;else{let u=parseInt(r[0].toString(),10)+1;c=null==i?void 0:i.replace(r[0],u.toString())}if(e)this.dataUpgradeClass.push({index:n,id:this.classroomObjs[n].id,nameClass:c,year:a});else if(!1===e)for(let u=0;u<this.dataUpgradeClass.length;u++)this.dataUpgradeClass[u].index==n&&this.dataUpgradeClass.splice(u,1);this.dataUpgradeClass.sort((u,g)=>u.index&&g.index?u.index-g.index:0)}clearInput(e){setTimeout(()=>{var n;null===(n=document.getElementById("mat-check"+e+"-input"))||void 0===n||n.click()},0)}selectAll(e){this.selectedAll=e,this.dataUpgradeClass=[];for(let n=0;n<this.classroomObjs.length;n++)this.changeValue(e,n)}upgradeClassGroup(){this.initStatusObj(),this.subscriptions.add(this.classGroupService.apiClassGroupUpgradeClassGroupPost(this.sendDataUpgradeClass).subscribe(e=>{var n,i;1==e.success?(null!==(n=e.data)&&void 0!==n&&n.isDuplicatedClassroomName?null!==(i=e.data)&&void 0!==i&&i.isStorage?this.errorStatusObj("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac",!0):this.errorStatusObj("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.subscriptions.add(this.classGroupService.apiClassGroupGetObjsGet().subscribe(e=>{var n,i,a,r,c,_;if(1===e.success){var u=null!==(i=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.classroomData)&&void 0!==i?i:[];for(let g=0;g<u.length;g++)null!=u[g].groupObj&&-1!=(null===(a=u[g].groupObj)||void 0===a?void 0:a.id)&&(this.classroomObjs=this.classroomObjs.concat(null!==(r=u[g].classroomObjs)&&void 0!==r?r:[])),null==u[g].groupObj&&(this.classroomObjs=this.classroomObjs.concat(null!==(c=u[g].classroomObjs)&&void 0!==c?c:[]));this.successStatusObj()}else this.errorStatusObj(null!==(_=e.message)&&void 0!==_?_:"",!0)}))}ngOnInit(){this.getClassroomObjs(),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.VZ),t.Y36(p.Ye),t.Y36(b.v),t.Y36(f.so,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-class-new-course"]],features:[t.qOj],decls:38,vars:26,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-1"],[3,"defaultHeight"],[1,"p-3","pt-0"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","flex","items-center"],[1,"mr-auto"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"pt-2","add-new-course-class"],[1,"grid","grid-cols-12","gap-3","sm:gap-4","ml-2","mr-1"],["class","col-span-12 sm:col-span-4 md:col-span-4 xl:col-span-3",4,"ngFor","ngForOf"],["class","alert text-danger mt-0 m-2","style","margin: auto;",4,"ngIf"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["class","text-center m-3",4,"ngIf"],[1,"grid","grid-cols-12","gap-4","sm:gap-4","ml-2","mr-2","mb-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4 p2",4,"ngFor","ngForOf"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-primary",3,"click"],[4,"ngIf"],[1,"btn-text-primary",3,"click"],[1,"col-span-12","sm:col-span-4","md:col-span-4","xl:col-span-3"],["class","w-full","color","primary",3,"id","checked","isDisabledTooltip","matTooltipDisabled","change",4,"ngIf"],["class","w-full","color","primary",3,"id","checked","change",4,"ngIf"],["color","primary",1,"w-full",3,"id","checked","isDisabledTooltip","matTooltipDisabled","change"],["c","isDisabled"],["class","truncate","style","max-width: 80%; vertical-align: middle;",3,"matTooltip",4,"ngIf"],[1,"truncate",2,"max-width","80%","vertical-align","middle",3,"matTooltip"],["color","primary",1,"w-full",3,"id","checked","change"],[1,"alert","text-danger","mt-0","m-2",2,"margin","auto"],[1,"text-center","m-3"],[1,"col-span-12","md:col-span-6","2xl:col-span-4","p2"],[1,"flex","items-center","bg-slate-200","dark:bg-darkmode-400","p-1","rounded"],[1,"col-span-10","m-0","p-2",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","matTooltip","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-2","text-center"],[1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","matTooltip","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",4),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()(),t.TgZ(9,"azt-mat-dialog-content",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,Ne,3,3,"button",10),t.YNc(17,Ie,3,3,"button",10),t.qZA(),t.TgZ(18,"div",11)(19,"div",12),t.YNc(20,Qe,3,2,"div",13),t.qZA(),t.YNc(21,Ye,3,3,"div",14),t.qZA()(),t.TgZ(22,"div",7)(23,"div",15),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"div",16),t.YNc(27,Fe,3,3,"div",17),t.TgZ(28,"div",18),t.YNc(29,ze,14,6,"div",19),t.qZA()()()()()(),t.TgZ(30,"div",20)(31,"button",21),t.NdJ("click",function(){return n.closeDialog()}),t._uU(32),t.ALo(33,"mytranslate"),t.qZA(),t.TgZ(34,"button",22),t.NdJ("click",function(){return n.handleUpgrade()}),t.YNc(35,He,3,0,"span",23),t._uU(36),t.ALo(37,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,14,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(3),t.Oqu(t.lcZ(8,16,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),t.xp6(2),t.Q6J("defaultHeight",55),t.xp6(5),t.Oqu(t.lcZ(15,18,"lang_student_classroom_list_utils_create_class_new_course_choose_class")),t.xp6(2),t.Q6J("ngIf",0==n.selectedAll),t.xp6(1),t.Q6J("ngIf",1==n.selectedAll),t.xp6(3),t.Q6J("ngForOf",n.classroomObjs),t.xp6(1),t.Q6J("ngIf",0==n.viewErrorSeleted),t.xp6(3),t.hij(" ",t.lcZ(25,20,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),t.xp6(3),t.Q6J("ngIf",0==n.dataUpgradeClass.length),t.xp6(2),t.Q6J("ngForOf",n.dataUpgradeClass),t.xp6(3),t.hij(" ",t.lcZ(33,22,"lang_buttom_cancel")," "),t.xp6(3),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(37,24,"lang_buttom_save")," "))},dependencies:[p.sg,p.O5,Me.oG,S.gM,N.O,ct.Q,m.bT],encapsulation:2}),o})();var dt=d(79814),$e=d(74107);function Re(o,s){1&o&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function Ke(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("- ",e.selectedYearValue+1,"")}}function Ve(o,s){if(1&o&&(t.TgZ(0,"mat-option",33),t._uU(1),t.YNc(2,Ke,2,1,"span",34),t.qZA()),2&o){const e=s.$implicit,n=t.oxw();t.Q6J("value",e),t.xp6(1),t.hij("",e," "),t.xp6(1),t.Q6J("ngIf",n.selectedYearValue==e)}}function We(o,s){1&o&&(t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function Xe(o,s){if(1&o&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(e.groupObj.name)}}function to(o,s){if(1&o&&(t.TgZ(0,"span",44),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.s9C("matTooltip",e.groupObj.name),t.xp6(1),t.Oqu(e.groupObj.name)}}function eo(o,s){if(1&o&&(t.TgZ(0,"mat-radio-button",40),t.YNc(1,Xe,2,1,"span",41),t.YNc(2,to,2,2,"span",42),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.Q6J("value",e.groupObj.id),t.xp6(1),t.Q6J("ngIf",e.groupObj.name&&e.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",e.groupObj.name&&e.groupObj.name.length>=15)}}function oo(o,s){if(1&o&&(t.TgZ(0,"div",38),t.YNc(1,eo,3,3,"mat-radio-button",39),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.groupObj)}}function no(o,s){if(1&o&&(t.TgZ(0,"div",45)(1,"mat-radio-button",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("value",e.fakeGroupValue),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," ")}}function io(o,s){if(1&o&&(t.ynx(0),t.YNc(1,oo,2,1,"div",36),t.YNc(2,no,4,4,"div",37),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.groupObj&&-1!=e.groupObj.id),t.xp6(1),t.Q6J("ngIf",null==e.groupObj)}}function so(o,s){1&o&&(t.TgZ(0,"div",46),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function ao(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_+_them_nhom")))}function lo(o,s){1&o&&(t._UZ(0,"input",48,49),t.ALo(2,"mytranslate")),2&o&&t.s9C("placeholder",t.lcZ(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function ro(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",50)(1,"button",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.createNewGroupOfClassroom())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.O4$(),t.TgZ(5,"svg",53),t._UZ(6,"line",54)(7,"line",55),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.form.controls.nameGroup.errors),t.xp6(1),t.Oqu(t.lcZ(3,2,"lang_auto_tao_nhom"))}}function co(o,s){1&o&&(t.TgZ(0,"div",56),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function _o(o,s){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",58)(2,"g",59)(3,"g",60),t._UZ(4,"circle",61),t.TgZ(5,"path",62),t._UZ(6,"animateTransform",63),t.qZA()()()()())}function uo(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",57),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.saveClassroomObj())}),t.YNc(2,_o,7,0,"span",34),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.statusObj.loading||e.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_buttom_save")," ")}}function mo(o,s){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",58)(2,"g",59)(3,"g",60),t._UZ(4,"circle",61),t.TgZ(5,"path",62),t._UZ(6,"animateTransform",63),t.qZA()()()()())}function po(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateClassroomObj())}),t.YNc(1,mo,7,0,"span",34),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.statusObj.loading||e.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_buttom_update")," ")}}let _t=(()=>{class o extends v.Q{constructor(e,n,i,a,r){super(i),this.classGroupService=e,this.formBuilder=n,this.commonService=i,this.dialogRef=a,this.data=r,this.form=new l.nJ({}),this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-1,this.years=[],this.hasCreateNewGroup=!1,this.classroomObj=r.classroomObj}closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){this.initStatusObj(),this.form.controls.nameGroup.valid&&(this.isShowCreateGroupOfClassroom=!1,this.subscriptions.add(this.classGroupService.apiClassGroupCreateClassGroupPost({groupName:this.form.controls.nameGroup.value}).subscribe(n=>{var i;1==n.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(null!==(i=n.message)&&void 0!==i?i:"",!0)})))}isShowCreateGroupOfClassroomOfClassroomBox(e){this.form.controls.nameGroup.setValue(null),this.isShowCreateGroupOfClassroom=e}updateClassroomObj(){var e;this.initStatusObj();let i=this.commonService.getFormObj(this.form).group;-1==i&&(i=void 0);let a={id:null===(e=this.classroomObj)||void 0===e?void 0:e.id,className:this.form.controls.nameClass.value,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:i};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?this.stopStatusObj():this.subscriptions.add(this.classGroupService.apiClassGroupUpdateClassWithGroupPost(a).subscribe(r=>{var c,_;1==r.success?null!==(c=r.data)&&void 0!==c&&c.isDuplicatedClassroomName?(null!==(_=r.data)&&void 0!==_&&_.isStorage?this.errorStatusObj("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac",!0):this.errorStatusObj("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0),this.dialogRef.close(!!this.hasCreateNewGroup)):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(!!this.hasCreateNewGroup),this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0))}))}saveClassroomObj(){this.initStatusObj();let n=this.commonService.getFormObj(this.form).group;-1==n&&(n=void 0);let i={className:this.form.controls.nameClass.value,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:n};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?this.stopStatusObj():this.subscriptions.add(this.classGroupService.apiClassGroupCreateClassWithGroupPost(i).subscribe(a=>{var r,c;1==a.success?null!==(r=a.data)&&void 0!==r&&r.isDuplicatedClassroomName?(null!==(c=a.data)&&void 0!==c&&c.isStorage?this.showErrorSnack("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac"):this.showErrorSnack("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac"),this.closeDialog()):(this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0),this.closeDialog())}))}handleData(){var e,n;let i=(new Date).getFullYear();for(let _=i-20;_<=i+40;_++)this.years.push(_);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let a=this.classroomObj?null===(n=null===(e=this.classroomObj)||void 0===e?void 0:e.year)||void 0===n?void 0:n.split(" ")[0]:"";this.selectedYearValue=""!=a?parseInt(null!=a?a:"",10):i,this.form=this.formBuilder.group({nameClass:[this.classroomObj?this.classroomObj.name:"",[l.kI.required]],nameGroup:["",[l.kI.required]],group:[this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue,[l.kI.required]],year:[this.selectedYearValue,[l.kI.required]]})}getClassroomObjs(){this.initStatusObj(),this.subscriptions.add(this.classGroupService.apiClassGroupGetObjsGet().subscribe(e=>{var n,i;1==e.success?(this.activeClassroomData=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.classroomData,this.successStatusObj()):this.errorStatusObj(null!==(i=e.message)&&void 0!==i?i:"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.VZ),t.Y36(l.QS),t.Y36(b.v),t.Y36(f.so,8),t.Y36(f.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:46,vars:33,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto;",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px;",4,"ngIf"],[1,"p-3","text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],["class","col-span-12 sm:col-span-4 md:col-span-3 xl:col-span-3 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-4 md:col-span-3 xl:col-span-3",4,"ngIf"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary","class","w-full",3,"value",4,"ngIf"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle;",4,"ngIf"],["class","truncate","style","max-width: 89%; vertical-align: middle;",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle"],[1,"truncate",2,"max-width","89%","vertical-align","middle",3,"matTooltip"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3"],[1,"text-danger","text-danger","mt-1"],[1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],[1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],[1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"btn","w-32","btn-primary",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",8),t.ALo(15,"mytranslate"),t.YNc(16,Re,3,3,"div",9),t.qZA(),t.TgZ(17,"div",10)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-select",13),t.NdJ("valueChange",function(a){return n.selectedYearValue=a}),t.YNc(23,Ve,3,3,"mat-option",14),t.qZA()(),t.YNc(24,We,3,3,"div",15),t.qZA(),t.TgZ(25,"div",16)(26,"div",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.YNc(32,io,3,2,"ng-container",21),t.qZA()(),t.YNc(33,so,3,3,"div",22),t.TgZ(34,"div",23),t.YNc(35,ao,3,3,"a",24),t.YNc(36,lo,3,3,"input",25),t.YNc(37,ro,8,4,"div",26),t.qZA(),t.YNc(38,co,3,3,"div",27),t.qZA()()()()(),t.TgZ(39,"div",28)(40,"button",29),t.NdJ("click",function(){return n.closeDialog()}),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.YNc(43,uo,5,5,"ng-container",30),t.YNc(44,po,4,5,"ng-template",null,31,t.W1O),t.qZA()()()),2&e){const i=t.MAs(45);t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.hij(" ",n.classroomObj?t.lcZ(6,19,"lang_student_classroom_list_utils_create_class_add_class"):t.lcZ(7,21,"lang_student_classroom_list_utils_create_class_update_class")," "),t.xp6(7),t.hij(" ",t.lcZ(13,23,"lang_auto_ten_lop")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,25,"lang_auto_nhap_ten_lop")),t.xp6(2),t.Q6J("ngIf",n.form.controls.nameClass.dirty&&n.form.controls.nameClass.errors),t.xp6(3),t.hij(" ",t.lcZ(20,27,"lang_auto_nam_hoc")," "),t.xp6(3),t.Q6J("value",n.selectedYearValue),t.xp6(1),t.Q6J("ngForOf",n.years),t.xp6(1),t.Q6J("ngIf",n.form.controls.year.dirty&&n.form.controls.year.errors),t.xp6(3),t.hij(" ",t.lcZ(28,29,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.xp6(5),t.Q6J("ngForOf",n.activeClassroomData),t.xp6(1),t.Q6J("ngIf",n.form.controls.group.dirty&&n.form.controls.group.errors),t.xp6(2),t.Q6J("ngIf",0==n.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",1==n.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",n.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",n.isShowCreateGroupOfClassroom&&n.form.controls.nameGroup.dirty&&n.form.controls.nameGroup.errors),t.xp6(3),t.Oqu(t.lcZ(42,31,"lang_buttom_cancel")),t.xp6(2),t.Q6J("ngIf",!n.classroomObj)("ngIfElse",i)}},dependencies:[p.sg,p.O5,$.ey,M.KE,dt.VQ,dt.U0,$e.gD,S.gM,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,J.M,N.O,m.bT],encapsulation:2}),o})();var go=d(60189);function ho(o,s){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",10),t._uU(2,"\xa0"),t.qZA())}let fo=(()=>{class o extends v.Q{constructor(e,n,i,a){super(n),this.classGroupService=e,this.commonService=n,this.dialogRef=i,this.data=a,this.classroomObj=a.classroomObj}closeDialog(e){this.dialogRef.close(e)}deleteClassroomObj(){var e;this.initStatusObj(),this.subscriptions.add(this.classGroupService.apiClassGroupDeleteClassGroupGet(null===(e=this.classroomObj)||void 0===e?void 0:e.id).subscribe(n=>{1==n.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(go.V),t.Y36(b.v),t.Y36(f.so,8),t.Y36(f.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-class"]],features:[t.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",5),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return n.closeDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return n.deleteClassroomObj()}),t.YNc(14,ho,3,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_classroom_list_utils_delete_class")," "),t.xp6(3),t.Oqu(n.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(12,8,"lang_buttom_cancel")," "),t.xp6(2),t.Q6J("disabled",1==n.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!0===n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,10,"lang_buttom_delete")," "))},dependencies:[p.O5,m.bT],encapsulation:2}),o})();function xo(o,s){if(1&o&&(t.TgZ(0,"a",15),t.NdJ("click",function(n){return n.stopPropagation()}),t.O4$(),t.TgZ(1,"svg",16),t._UZ(2,"circle",17)(3,"circle",18)(4,"circle",19),t.qZA()()),2&o){t.oxw(2);const e=t.MAs(14);t.Q6J("matMenuTriggerFor",e)}}function bo(o,s){if(1&o&&(t.TgZ(0,"div",13),t.YNc(1,xo,5,1,"a",14),t.ALo(2,"editPermission"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,e.classroomObj.permissionObj,"classroom")||e.classroomObj.isWaitingConfirm||"showListPeopleWhoWillShare"==e.screenTemplate)}}function vo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.editClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",22)(4,"path",23),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_sua_lop")," "))}function Co(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.copyClassroomObj())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"rect",24)(4,"path",25),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nhan_ban_lop")," "))}function Zo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.moveClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",26)(4,"path",27)(5,"path",28),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&o&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function Oo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.moveSharedClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",26)(4,"path",27)(5,"path",28),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&o&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function wo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.moveClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",29)(4,"path",30)(5,"path",31)(6,"path",32),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function ko(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.moveSharedClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",29)(4,"path",30)(5,"path",31)(6,"path",32),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function To(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",33),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",34),t._UZ(3,"polyline",35)(4,"path",36),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_xoa_lop")," "))}let Ao=(()=>{class o extends v.Q{constructor(e,n,i,a){super(n),this.classGroupService=e,this.commonService=n,this.permisionTeamService=i,this.dialog=a,this.eventOfClassroomMenu=new t.vpe,this.screenTemplate=""}goToListStudent(){this.commonService.myNavigation("/admin/student/class-details/"+this.classroomObj.id)}goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}moveClassroomToStorage(){this.classGroupService.apiClassGroupMoveClassGroupToStorageGet(this.classroomObj.id).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permisionTeamService.apiPermisionTeamConfirmPermissionPost({objectId:this.classroomObj.id,objectCode:"CLASSROOM",status:5}).subscribe(n=>{var i;1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(null!==(i=n.message)&&void 0!==i?i:"")})}moveClassroomFromStorageToActive(){this.classGroupService.apiClassGroupRestoreClassGroupGet(this.classroomObj.id).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permisionTeamService.apiPermisionTeamConfirmPermissionPost({objectId:this.classroomObj.id,objectCode:"CLASSROOM",status:2}).subscribe(n=>{var i;1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(null!==(i=n.message)&&void 0!==i?i:"")})}editClassroomDialog(){this.dialog.open(_t,{data:{classroomObj:this.classroomObj},width:"550px"}).afterClosed().subscribe(n=>{n&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.dialog.open(fo,{width:"400px",data:{classroomObj:this.classroomObj}}).afterClosed().subscribe(n=>{n&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classGroupService.apiClassGroupCopyClassGroupGet(this.classroomObj.id).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong")})}ngOnInit(){super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.VZ),t.Y36(b.v),t.Y36(x.$W),t.Y36(f.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.qOj],decls:28,vars:32,consts:[[1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-5","relative","cursor-pointer",3,"click"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","ml-auto",4,"ngIf"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ml-auto"],["class","dropdown-toggle w-5 h-5 block","aria-expanded","false","class","clickable","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["aria-expanded","false","data-tw-toggle","dropdown",1,"clickable",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],[1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],[1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return n.goToListStudent()}),t.TgZ(1,"div",1)(2,"a",2,3),t._uU(4),t.qZA(),t.YNc(5,bo,3,4,"div",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()(),t.TgZ(13,"mat-menu",8,9)(15,"div",10)(16,"ul",11),t.YNc(17,vo,7,3,"li",12),t.ALo(18,"editPermission"),t.YNc(19,Co,7,3,"li",12),t.ALo(20,"fullPermission"),t.YNc(21,Zo,8,3,"li",12),t.ALo(22,"fullPermission"),t.YNc(23,Oo,8,3,"li",12),t.YNc(24,wo,9,3,"li",12),t.YNc(25,ko,9,3,"li",12),t.YNc(26,To,7,3,"li",12),t.ALo(27,"deletePermission"),t.qZA()()()),2&e){const i=t.MAs(3);t.xp6(2),t.s9C("matTooltip",n.classroomObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.xp6(2),t.hij(" ",n.classroomObj.name," "),t.xp6(1),t.Q6J("ngIf",n.classroomObj.permissionObj),t.xp6(3),t.AsE(" ",t.lcZ(9,16,"lang_auto_si_so"),": ",n.classroomObj.countStudents," "),t.xp6(3),t.AsE(" ",t.lcZ(12,18,"lang_auto_nam_hoc"),": ",n.classroomObj.year," "),t.xp6(6),t.Q6J("ngIf",""==n.screenTemplate&&t.xi3(18,20,n.classroomObj.permissionObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==n.screenTemplate&&t.xi3(20,23,n.classroomObj.permissionObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==n.screenTemplate&&t.xi3(22,26,n.classroomObj.permissionObj,"classroom")),t.xp6(2),t.Q6J("ngIf",1==n.classroomObj.isWaitingConfirm),t.xp6(1),t.Q6J("ngIf","storage"==n.screenTemplate),t.xp6(1),t.Q6J("ngIf","showListPeopleWhoWillShare"==n.screenTemplate),t.xp6(1),t.Q6J("ngIf",t.xi3(27,29,n.classroomObj.permissionObj,"classroom"))}},dependencies:[p.O5,j.VK,j.p6,S.gM,ct.Q,m.bT,m.Gf,m.BU,m.vL],encapsulation:2}),o})();const yo=["showMenuGroupOfClassroom"];function jo(o,s){1&o&&t._UZ(0,"azt-loading-effect")}function So(o,s){if(1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,48),t.qZA()),2&o){t.oxw(2);const e=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Mo(o,s){if(1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,48),t.qZA()),2&o){t.oxw(2);const e=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function No(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",31)(1,"div",32)(2,"h3",33),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",34)(7,"div",35)(8,"div",36),t.O4$(),t.TgZ(9,"svg",37),t._UZ(10,"circle",38)(11,"line",39),t.qZA(),t.kcU(),t._UZ(12,"input",40),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"div",41)(15,"button",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.createClassroomDialog())}),t.O4$(),t.TgZ(16,"svg",22),t._UZ(17,"line",23)(18,"line",24),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(21,"button",43)(22,"span",44),t.O4$(),t.TgZ(23,"svg",45),t._UZ(24,"line",23)(25,"line",24),t.qZA()()(),t.kcU(),t.TgZ(26,"button",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.createClassroomForNewCourseDialog())}),t.O4$(),t.TgZ(27,"svg",22),t._UZ(28,"line",23)(29,"line",24),t.qZA(),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(32,"button",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openDialogAutomaticIdentification())}),t.O4$(),t.TgZ(33,"svg",22),t._UZ(34,"path",25)(35,"path",26)(36,"path",27)(37,"path",28)(38,"rect",29)(39,"rect",30),t.qZA(),t._uU(40),t.ALo(41,"mytranslate"),t.qZA()()(),t.YNc(42,So,2,1,"div",47),t.YNc(43,Mo,2,1,"div",47),t.qZA()()}if(2&o){const e=t.oxw(),n=t.MAs(31);t.xp6(3),t.hij(" ",e.showStorageClassroom?t.lcZ(4,9,"lang_auto_kho_luu_tru"):t.lcZ(5,11,"lang_student_classroom_list_header_title")," "),t.xp6(9),t.s9C("placeholder",t.lcZ(13,13,"lang_student_classroom_list_sort_name_class")),t.Q6J("formControl",e.searchClassroomNameKeyword),t.xp6(7),t.hij(" ",t.lcZ(20,15,"lang_student_classroom_list_create_class")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",n),t.xp6(9),t.hij(" ",t.lcZ(31,17,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(10),t.hij(" ",t.lcZ(41,19,"lang_auto_danh_so_bao_danh")," "),t.xp6(2),t.Q6J("ngIf",0==e.showStorageClassroom),t.xp6(1),t.Q6J("ngIf",1==e.showStorageClassroom)}}function Io(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.groupObj.name," ")}}function Lo(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.groupObj.name)," ")}}function qo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",61,62),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.saveCurrentGroupOfClassroomThatIsEditted(i.groupObj))}),t.O4$(),t.TgZ(2,"svg",63),t._UZ(3,"line",64)(4,"path",65),t.qZA()()}if(2&o){t.oxw(4);const e=t.MAs(9);t.Q6J("matMenuTriggerFor",e)}}function Uo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",66)(1,"azt-information-class-box",67),t.NdJ("eventOfClassroomMenu",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.eventOfClassroomMenu(i))}),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("classroomObj",e)}}function Po(o,s){1&o&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}const A=function(){return["name"]};function Do(o,s){if(1&o&&(t.TgZ(0,"div",53)(1,"div",54)(2,"h2",55),t.YNc(3,Io,2,1,"span",47),t.YNc(4,Lo,3,3,"span",47),t.qZA(),t.TgZ(5,"div",56),t.YNc(6,qo,5,1,"button",57),t.qZA()(),t.TgZ(7,"div",58),t.YNc(8,Uo,2,1,"div",59),t.ALo(9,"appFilter"),t.YNc(10,Po,3,3,"div",60),t.ALo(11,"appFilter"),t.qZA()()),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",-1!=e.groupObj.id),t.xp6(1),t.Q6J("ngIf",-1==e.groupObj.id),t.xp6(2),t.Q6J("ngIf",-1!=e.groupObj.id),t.xp6(2),t.Q6J("ngForOf",t.Dn7(9,5,e.classroomObjs,n.searchClassroomNameKeyword.value,t.DdM(13,A))),t.xp6(2),t.Q6J("ngIf",0==(null==e.classroomObjs?null:e.classroomObjs.length)||0==t.Dn7(11,9,e.classroomObjs,n.searchClassroomNameKeyword.value,t.DdM(14,A)).length)}}function Jo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",72)(1,"azt-information-class-box",67),t.NdJ("eventOfClassroomMenu",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.eventOfClassroomMenu(i))}),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("classroomObj",e)}}function Qo(o,s){1&o&&(t.TgZ(0,"div",73),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null")," "))}function Yo(o,s){if(1&o&&(t.TgZ(0,"div",53)(1,"div",54)(2,"h2",69),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",58),t.YNc(6,Jo,2,1,"div",70),t.ALo(7,"appFilter"),t.YNc(8,Qo,3,3,"div",71),t.ALo(9,"appFilter"),t.qZA()()),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_student_classroom_list_other")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(7,5,e.classroomObjs,n.searchClassroomNameKeyword.value,t.DdM(13,A))),t.xp6(2),t.Q6J("ngIf",0==(null==e.classroomObjs?null:e.classroomObjs.length)||0==t.Dn7(9,9,e.classroomObjs,n.searchClassroomNameKeyword.value,t.DdM(14,A)).length)}}const Fo=function(){return[]};function Eo(o,s){if(1&o&&(t.TgZ(0,"div",51),t.YNc(1,Do,12,15,"div",52),t.YNc(2,Yo,10,15,"div",52),t.ALo(3,"appFilter"),t.qZA()),2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=e.groupObj&&e.classroomObjs!=t.DdM(6,Fo)),t.xp6(1),t.Q6J("ngIf",null==e.groupObj&&t.Dn7(3,2,e.classroomObjs,n.searchClassroomNameKeyword.value,t.DdM(7,A)).length>0)}}const Go=function(o){return[o]};function zo(o,s){if(1&o&&(t.TgZ(0,"div",74),t.ALo(1,"mylocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(7,Go,t.lcZ(1,3,"/admin/student/manage-class/1"))),t.xp6(2),t.AsE("",t.lcZ(3,5,"lang_student_classroom_list_storage")," (",e.totalStorageClassroom,")")}}function Ho(o,s){if(1&o&&(t.YNc(0,Eo,4,8,"div",49),t.YNc(1,zo,4,9,"div",50)),2&o){const e=t.oxw();t.Q6J("ngForOf",e.activeClassroomData),t.xp6(1),t.Q6J("ngIf",e.totalStorageClassroom&&e.totalStorageClassroom>0)}}function Bo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",72)(1,"azt-information-class-box",75),t.NdJ("eventOfClassroomMenu",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.eventOfClassroomMenu(i))}),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("classroomObj",e)("screenTemplate","showListPeopleWhoWillShare")}}function $o(o,s){1&o&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function Ro(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",72)(1,"azt-information-class-box",75),t.NdJ("eventOfClassroomMenu",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.eventOfClassroomMenu(i))}),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("classroomObj",e)("screenTemplate","storage")}}function Ko(o,s){1&o&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function Vo(o,s){if(1&o&&(t.TgZ(0,"div",51)(1,"div",53)(2,"div",54)(3,"h2",69),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",58),t.YNc(7,Bo,2,2,"div",70),t.ALo(8,"appFilter"),t.YNc(9,$o,3,3,"div",60),t.ALo(10,"appFilter"),t.qZA()(),t.TgZ(11,"div",53)(12,"div",54)(13,"h2",69),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",58),t.YNc(17,Ro,2,2,"div",70),t.ALo(18,"appFilter"),t.YNc(19,Ko,3,3,"div",60),t.ALo(20,"appFilter"),t.qZA()()()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,6,"lang_auto_lop_duoc_chia_se")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(8,8,e.sharedStorageClassroomData,e.searchClassroomNameKeyword.value,t.DdM(26,A))),t.xp6(2),t.Q6J("ngIf",0==(null==e.sharedStorageClassroomData?null:e.sharedStorageClassroomData.length)||0==t.Dn7(10,12,e.sharedStorageClassroomData,e.searchClassroomNameKeyword.value,t.DdM(27,A)).length),t.xp6(5),t.hij(" ",t.lcZ(15,16,"lang_student_classroom_list_other")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(18,18,e.storageClassroomData,e.searchClassroomNameKeyword.value,t.DdM(28,A))),t.xp6(2),t.Q6J("ngIf",0==(null==e.storageClassroomData?null:e.storageClassroomData.length)||0==t.Dn7(20,22,e.storageClassroomData,e.searchClassroomNameKeyword.value,t.DdM(29,A)).length)}}function Wo(o,s){1&o&&(t.TgZ(0,"div",76),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_enter_name_group")," "))}let Xo=(()=>{class o extends v.Q{constructor(e,n,i,a){super(i),this.activeRoute=e,this.classGroupService=n,this.commonService=i,this.dialog=a,this.backToLink="/admin/dashboard",this.searchClassroomNameKeyword=new l.p4(""),this.showStorageClassroom=!1,this.currentGroupOfClassroomDataThatIsEditted={}}eventOfClassroomMenu(e){e&&this.getClassroomObjs()}saveCurrentGroupOfClassroomThatIsEditted(e){this.currentGroupOfClassroomDataThatIsEditted=e}createClassroomDialog(){this.dialog.open(_t,{data:{classroomObj:void 0},width:"550px"}).afterClosed().subscribe(n=>{n&&this.getClassroomObjs()})}createClassroomForNewCourseDialog(){this.dialog.open(Be).afterClosed().subscribe(n=>{n&&this.getClassroomObjs()})}deleteGroupOfClassroom(e){var n;0==e?null===(n=this.showMenuGroupOfClassroom)||void 0===n||n.closeMenu():1==e&&(this.initStatusObj(),this.subscriptions.add(this.classGroupService.apiClassGroupDeleteGroupClassroomGet(this.currentGroupOfClassroomDataThatIsEditted.id).subscribe(i=>{var a;1==i.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.getClassroomObjs(),this.successStatusObj()):this.errorStatusObj(null!==(a=i.message)&&void 0!==a?a:"",!0)})))}updateGroupOfClassroom(e){if(""!=e){var n={groupId:this.currentGroupOfClassroomDataThatIsEditted.id,name:e};this.initStatusObj(),this.subscriptions.add(this.classGroupService.apiClassGroupUpdateGroupClassroomPost(n).subscribe(i=>{var a;1==i.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.getClassroomObjs()):this.errorStatusObj(null!==(a=i.message)&&void 0!==a?a:"",!0)}))}else this.checkErrorInputupdateGroupOfClassroom(e)}checkErrorInputupdateGroupOfClassroom(e){return""==e.trim()}openDialogAutomaticIdentification(){this.dialog.open(X.p,{data:{classroomWithGroup:this.activeClassroomData,type:1},width:"800px"})}getClassroomObjs(){this.initStatusObj(),this.subscriptions.add(this.classGroupService.apiClassGroupGetObjsGet().subscribe(e=>{var n,i,a,r,c,_,u,g;1===e.success?(this.activeClassroomData=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.classroomData,this.sharedStorageClassroomData=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.storeSharedClassData,this.storageClassroomData=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.storeClassData,this.totalStorageClassroom=(null!==(c=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.totalStorage)&&void 0!==c?c:0)+(null!==(u=null===(_=null==e?void 0:e.data)||void 0===_?void 0:_.totalSharedStorage)&&void 0!==u?u:0),this.successStatusObj()):this.errorStatusObj(null!==(g=e.message)&&void 0!==g?g:"",!0)}))}ngOnInit(){(0,C.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,n=null===(e=this.commonService.getMyParam(this.activeRoute,"id"))||void 0===e?void 0:e.toString();this.showStorageClassroom="1"==n,this.backToLink="1"==n?"/admin/student/manage-class/0":this.backToLink,this.getClassroomObjs()}),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k.gz),t.Y36(x.VZ),t.Y36(b.v),t.Y36(f.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-manage-classroom"]],viewQuery:function(e,n){if(1&e&&t.Gf(yo,5),2&e){let i;t.iGM(i=t.CRH())&&(n.showMenuGroupOfClassroom=i.first)}},features:[t.qOj],decls:52,vars:24,consts:[[3,"headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],["showActiveClassroomTpl",""],["showStorageClassroomClassroomTpl",""],["xPosition","before"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"clickable",2,"float","right","padding","5px"],[1,"modal-body",3,"click"],[1,"text-base","font-medium","mr-auto"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],[1,"btn","w-24","btn-danger","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],[1,"grid","grid-cols-12","gap-6","mt-8"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","relative","mr-auto","mt-3","sm:mt-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search","data-lucide","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","ml-3","left-0","z-10","text-slate-500"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text",1,"form-control","w-full","sm:w-64","box","px-10",3,"formControl","placeholder"],[1,"w-full","sm:w-auto","flex"],[1,"btn","btn-primary","shadow-md","mr-2",3,"click"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],[1,"btn","px-2","box","shadow-md","mr-2","hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[4,"ngIf"],[3,"ngTemplateOutlet"],["class","intro-y",4,"ngFor","ngForOf"],["class","text-primary cursor-pointer mt-4",3,"routerLink",4,"ngIf"],[1,"intro-y"],["class","azt-group mt-6",4,"ngIf"],[1,"azt-group","mt-6"],[1,"intro-x","flex","items-center","mb-3"],[1,"text-lg","font-medium","truncate","mr-4"],[1,"dropdown"],["class","dropdown-toggle","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 lg:col-span-4 xl:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","text-center col-span-12 p-2",4,"ngIf"],["aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle",3,"matMenuTriggerFor","click"],["showMenuGroupOfClassroom","matMenuTrigger"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"color:","#717171"],["x1","18","y1","2","x2","22","y2","6"],["d","M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],[1,"text-lg","font-medium","truncate","mr-auto"],["class","col-span-12 sm:col-span-4 md:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","col-span-12 p-2",4,"ngIf"],[1,"col-span-12","sm:col-span-4","md:col-span-3","2xl:col-span-2"],[1,"col-span-12","p-2"],[1,"text-primary","cursor-pointer","mt-4",3,"routerLink"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"teacher-layout",0),t.YNc(1,jo,1,0,"azt-loading-effect",1),t.YNc(2,No,44,21,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Ho,2,2,"ng-template",null,3,t.W1O),t.YNc(6,Vo,21,30,"ng-template",null,4,t.W1O),t.TgZ(8,"mat-menu",5,6)(10,"div",7)(11,"div",8)(12,"mat-icon",9),t._uU(13,"clear"),t.qZA(),t.TgZ(14,"div",10),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(15,"h2",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"div"),t._UZ(19,"input",12,13),t.ALo(21,"mytranslate"),t.YNc(22,Wo,3,3,"div",14),t.qZA(),t.TgZ(23,"div",15)(24,"button",16),t.NdJ("click",function(){return n.deleteGroupOfClassroom(1)}),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"button",17),t.NdJ("click",function(){t.CHM(i);const r=t.MAs(20);return t.KtG(n.updateGroupOfClassroom(r.value))}),t._uU(28),t.ALo(29,"mytranslate"),t.qZA()()()()()(),t.TgZ(30,"mat-menu",5,18)(32,"div",19)(33,"ul",20)(34,"li")(35,"button",21),t.NdJ("click",function(){return n.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(36,"svg",22),t._UZ(37,"line",23)(38,"line",24),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"li")(42,"button",21),t.NdJ("click",function(){return n.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(43,"svg",22),t._UZ(44,"path",25)(45,"path",26)(46,"path",27)(47,"path",28)(48,"rect",29)(49,"rect",30),t.qZA(),t._uU(50),t.ALo(51,"mytranslate"),t.qZA()()()()()}if(2&e){const i=t.MAs(3),a=t.MAs(20);t.Q6J("headerBackTolink",n.backToLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",i),t.xp6(15),t.Oqu(t.lcZ(17,12,"lang_student_classroom_list_update_group")),t.xp6(3),t.s9C("value",n.currentGroupOfClassroomDataThatIsEditted.name),t.s9C("placeholder",t.lcZ(21,14,"lang_auto_nhap_ten_nhom")),t.xp6(3),t.Q6J("ngIf",""==a.value||n.checkErrorInputupdateGroupOfClassroom(a.value)),t.xp6(3),t.hij(" ",t.lcZ(26,16,"lang_student_classroom_list_delete")," "),t.xp6(2),t.Q6J("disabled",""==a.value.trim()),t.xp6(1),t.hij(" ",t.lcZ(29,18,"lang_student_classroom_list_update")," "),t.xp6(11),t.hij(" ",t.lcZ(40,20,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(11),t.hij(" ",t.lcZ(51,22,"lang_auto_danh_so_bao_danh")," ")}},dependencies:[k.rH,p.sg,p.O5,p.tP,R.Hw,j.VK,j.p6,l.Fj,l.JJ,l.oH,I.Q,Ao,Q._,m.mp,m.bT,m.gB],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.buttom-created[_ngcontent-%COMP%]:hover{background-color:#eee}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),o})(),tn=(()=>{class o extends v.Q{}return o.\u0275fac=function(){let s;return function(n){return(s||(s=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","student-layout"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[k.lC],encapsulation:2}),o})();var en=d(47423);let on=(()=>{class o extends v.Q{constructor(){super(...arguments),this.closeDialog=new t.vpe}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}}return o.\u0275fac=function(){let s;return function(n){return(s||(s=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:18,vars:11,consts:[[1,"box","school-info_bg"],[1,"school-info","p-4"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return n.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return n.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()()),2&e&&(t.xp6(7),t.hij("",null!=n.data&&n.data.type&&"update_phone_student"==(null==n.data?null:n.data.type)?t.lcZ(8,3,"lang_student_utils_confirm_merge_verifi")+"?":t.lcZ(9,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.xp6(6),t.hij(" ",t.lcZ(14,7,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[m.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;margin-left:auto;margin-right:auto}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]}),o})();function nn(o,s){1&o&&t._UZ(0,"azt-loading-effect")}const sn=function(o){return{"bg-success":o}};function an(o,s){if(1&o&&(t.TgZ(0,"div",21)(1,"b"),t._uU(2),t.qZA()()),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,sn,n.haveSelected(e))),t.xp6(2),t.Oqu(e.fullName)}}function ln(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.selectObj(a))}),t.YNc(1,an,3,4,"div",20),t.qZA()}if(2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.inMergeObjs(e))}}function rn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",22),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"b",23),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"b",23),t._uU(9),t.qZA(),t._uU(10,"\xa0\xa0"),t.TgZ(11,"span",24),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.removeMergeArray(a))}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_merge_student_merge_student")," "),t.xp6(3),t.Oqu(null==e.from?null:e.from.fullName),t.xp6(1),t.hij(" ",t.lcZ(7,7,"lang_student_merge_student_return")," "),t.xp6(3),t.Oqu(null==e.to?null:e.to.fullName),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_auto_xoa"))}}function cn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",22)(1,"div",26)(2,"b"),t._uU(3),t.qZA(),t.TgZ(4,"mat-button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.revertStudent(i.id))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&o){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.fullName),t.xp6(2),t.hij(" ",t.lcZ(6,2,"lang_buttom_revert")," ")}}function dn(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,cn,7,4,"div",25),t.qZA()),2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.inMergeObjs(e))}}function _n(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.ALo(3,"mytranslate"),t.TgZ(4,"div",7)(5,"div",8)(6,"div",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,ln,2,1,"div",10),t.qZA(),t.TgZ(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,rn,14,11,"div",14),t.TgZ(17,"div",15)(18,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showConfirmBox())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()()(),t.TgZ(21,"mat-tab",6),t.ALo(22,"mytranslate"),t.TgZ(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,dn,2,1,"div",14),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("selectedIndex",e.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(3,11,"lang_student_merge_student_lable")),t.xp6(5),t.hij(" ",t.lcZ(8,13,"lang_student_merge_student_required_click_merge")," "),t.xp6(2),t.Q6J("ngForOf",e.studentObjs),t.xp6(5),t.hij(" ",t.lcZ(15,15,"lang_student_merge_student_list_student_merge")," "),t.xp6(2),t.Q6J("ngForOf",e.studentMergeObjs),t.xp6(2),t.Q6J("disabled",e.studentMergeObjs&&e.studentMergeObjs.length<1),t.xp6(1),t.hij(" ",t.lcZ(20,17,"lang_student_merge_student_start_merge_list")," "),t.xp6(2),t.s9C("label",t.lcZ(22,19,"lang_student_merge_student_revert")),t.xp6(6),t.hij(" ",t.lcZ(28,21,"lang_student_merge_student_list_submitted")," "),t.xp6(2),t.Q6J("ngForOf",e.studentMergeListObjs)}}function un(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"app-merge-student-confirm-box",28),t.NdJ("closeDialog",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.closeConfirmDialog(i))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("data",e.confirmBox)}}let mn=(()=>{class o extends v.Q{constructor(e,n,i,a,r){super(n),this.activeRoute=e,this.commonService=n,this.studentService=i,this.mergeStudentService=a,this.sortService=r,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(e){this.confirmBox={isShow:!1},e&&this.sendToServer()}inMergeObjs(e){var n,i,a,r,c,_;let u=!1,g=null!==(i=null===(n=this.studentMergeObjs)||void 0===n?void 0:n.length)&&void 0!==i?i:0;for(let O=0;O<g;O++)((null===(r=null===(a=this.studentMergeObjs)||void 0===a?void 0:a[O].from)||void 0===r?void 0:r.id)==e.id||(null===(_=null===(c=this.studentMergeObjs)||void 0===c?void 0:c[O].to)||void 0===_?void 0:_.id)==e.id)&&(u=!0);return u}haveSelected(e){let n=!1;for(let i=0;i<this.selectObjs.length;i++)this.selectObjs[i].id==e.id&&(n=!0);return n}selectObj(e){this.haveSelected(e)?this.selectObjs=[]:this.selectObjs.push(e),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(e){var n;null!==(n=this.studentMergeObjs)&&void 0!==n&&n[e]&&this.studentMergeObjs.splice(e,1)}sendToServer(){var e,n,i,a,r,c;const _=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let u=[],g=null!==(n=null===(e=this.studentMergeObjs)||void 0===e?void 0:e.length)&&void 0!==n?n:0;for(let Z=0;Z<g;Z++)u.push({fromId:null===(a=null===(i=this.studentMergeObjs)||void 0===i?void 0:i[Z].from)||void 0===a?void 0:a.id,toId:null===(c=null===(r=this.studentMergeObjs)||void 0===r?void 0:r[Z].to)||void 0===c?void 0:c.id});this.subscriptions.add(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:_,mergeObjs:u}).subscribe(Z=>{var L;1==Z.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(null!==(L=Z.message)&&void 0!==L?L:"",!0)}))}getData(){this.initStatusObj();const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.subscriptions.add(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(e).subscribe(n=>{var i,a,r;1==n.success?(this.studentObjs=this.sortService.sortFirstNameStudents(null!==(a=null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.objs)&&void 0!==a?a:[]),this.successStatusObj()):this.errorStatusObj(null!==(r=n.message)&&void 0!==r?r:"",!0)}))}getListMergeStudent(){this.initStatusObj();const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.subscriptions.add(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(e).subscribe(n=>{var i,a,r;1==n.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(null!==(a=null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.objs)&&void 0!==a?a:[]),this.successStatusObj()):this.errorStatusObj(null!==(r=n.message)&&void 0!==r?r:"",!0)}))}revertStudent(e){this.subscriptions.add(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(e).subscribe(n=>{var i;1==n.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(null!==(i=n.message)&&void 0!==i?i:"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/class-details/"+this.classroomId,this.getData(),this.getListMergeStudent()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k.gz),t.Y36(b.v),t.Y36(x.VT),t.Y36(x._Y),t.Y36(at.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-merge-student"]],features:[t.qOj],decls:6,vars:7,consts:[[3,"headerBackTolink","headerTitle"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2",2,"width","60%"],[1,"m-2"],[3,"click",4,"ngFor","ngForOf"],[1,"p-2"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["mat-raised-button","","color","primary",1,"pl-2","pr-2","mt-2",3,"disabled","click"],[1,"d-flex"],[2,"width","60%"],[3,"click"],["class","m-2 clickable ","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],[1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.ALo(1,"mytranslate"),t.YNc(2,nn,1,0,"azt-loading-effect",1),t.YNc(3,_n,30,23,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(5,un,1,1,"app-merge-student-confirm-box",3)),2&e){const i=t.MAs(4);t.Q6J("headerBackTolink",n.backToLink)("headerTitle",t.lcZ(1,5,"lang_student_merge_student_header_title")),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",n.confirmBox.isShow)}},dependencies:[p.mk,p.sg,p.O5,en.lW,D.SP,D.uX,I.Q,Q._,on,m.bT],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}"]}),o})();var pn=d(34782);let V=(()=>{class o{constructor(e,n){this.commonService=e,this.browserStorageService=n,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}countChecked(e){var n=0;for(var i in e)!0===e[i]&&(n+=1);return n}getDefaultFilterObj(e){var n=this.localStorageSlug+e;if(this.listFilterObjs[n])return this.listFilterObjs[n];var i={getHasMark:!1,getNotMarked:!1,getNotDone:!1};"homework"==e&&(i.getResendAnswer=!1);var a=this.browserStorageService.getSimpleStorage(n),r=this.commonService.castJsonToObj(null!=a?a:"");return r&&(i=r),i}saveFilterObj(e,n){var i=this.localStorageSlug+e;this.listFilterObjs[i]=n,this.browserStorageService.saveSimpleStorage(i,this.commonService.serializeJson(n))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(b.v),t.LFG(pn.z))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var ut=d(15431),mt=d(37104);function gn(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.TgZ(2,"span",19),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.totalCustomFilter)}}function hn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"label",20),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"div",10)(5,"input",21),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return i.filterObj.getResendAnswer=!i.filterObj.getResendAnswer,t.KtG(i.changeFilter())}),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_student_profile_filter_get_resend_answer")," "),t.xp6(3),t.Q6J("checked",e.filterObj.getResendAnswer)}}let pt=(()=>{class o extends v.Q{constructor(e,n){super(e),this.commonService=e,this.studentProfileFilterService=n,this.filterType="",this.changeFilterEvent=new t.vpe,this.totalCustomFilter=0}changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[t.qOj],decls:37,vars:21,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(e,n){if(1&e&&(t.TgZ(0,"button",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"polygon",2),t.qZA(),t.kcU(),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,gn,4,1,"span",4),t.qZA()(),t.TgZ(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),t.NdJ("click",function(a){return a.stopPropagation()}),t._uU(13),t.ALo(14,"mytranslate"),t.TgZ(15,"div",10)(16,"input",11),t.NdJ("change",function(){return n.filterObj.getHasMark=!n.filterObj.getHasMark,n.changeFilter()}),t.qZA()()()(),t.TgZ(17,"li")(18,"label",12),t.NdJ("click",function(a){return a.stopPropagation()}),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"div",10)(22,"input",13),t.NdJ("change",function(){return n.filterObj.getNotMarked=!n.filterObj.getNotMarked,n.changeFilter()}),t.qZA()()()(),t.TgZ(23,"li")(24,"label",14),t.NdJ("click",function(a){return a.stopPropagation()}),t._uU(25),t.ALo(26,"mytranslate"),t.TgZ(27,"div",10)(28,"input",15),t.NdJ("change",function(){return n.filterObj.getNotDone=!n.filterObj.getNotDone,n.changeFilter()}),t.qZA()()()(),t.YNc(29,hn,6,4,"li",4),t.TgZ(30,"li"),t._UZ(31,"hr",16),t.qZA(),t.TgZ(32,"li")(33,"div",17)(34,"button",18),t._uU(35),t.ALo(36,"mytranslate"),t.qZA()()()()()()),2&e){const i=t.MAs(8);t.Q6J("matMenuTriggerFor",i),t.xp6(4),t.hij(" ",t.lcZ(5,11,"lang_testbank_testted_list_sort")," "),t.xp6(2),t.Q6J("ngIf",n.totalCustomFilter>0),t.xp6(7),t.hij(" ",t.lcZ(14,13,"lang_student_profile_filter_get_has_mark")," "),t.xp6(3),t.Q6J("checked",n.filterObj.getHasMark),t.xp6(3),t.hij(" ",t.lcZ(20,15,"lang_student_profile_filter_get_not_marked")," "),t.xp6(3),t.Q6J("checked",n.filterObj.getNotMarked),t.xp6(3),t.hij(" ",t.lcZ(26,17,"exam"==n.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),t.xp6(3),t.Q6J("checked",n.filterObj.getNotDone),t.xp6(1),t.Q6J("ngIf","homework"==n.filterType),t.xp6(6),t.Oqu(t.lcZ(36,19,"lang_buttom_close"))}},dependencies:[p.O5,j.VK,j.p6,m.bT],encapsulation:2}),o})();function fn(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",18),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",e.resultMarkObj.point)}}function xn(o,s){1&o&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function bn(o,s){if(1&o&&(t.ynx(0),t.YNc(1,fn,4,4,"span",14),t.YNc(2,xn,3,3,"span",17),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj.confirmedAt)}}function vn(o,s){1&o&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function Cn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.clickToExamObj(a))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10),t.qZA()(),t.kcU(),t.TgZ(4,"div",11)(5,"p",12),t._uU(6),t.qZA(),t.TgZ(7,"div",13),t.YNc(8,bn,3,2,"ng-container",14),t.YNc(9,vn,3,3,"span",15),t.qZA(),t.TgZ(10,"div",16),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"localizedDate"),t.qZA()()()}if(2&o){const e=s.$implicit,n=s.index;t.Gre("clickable zoom-in flex items-center ",n>0?"mt-3":""," pb-2"),t.xp6(5),t.s9C("matTooltip",e.name),t.xp6(1),t.AsE("",n+1,". ",e.name,""),t.xp6(2),t.Q6J("ngIf",e.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj),t.xp6(2),t.AsE("",t.lcZ(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",t.xi3(13,12,e.createdAt,!0),"")}}function Zn(o,s){1&o&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function On(o,s){1&o&&t._UZ(0,"azt-loading-effect")}function wn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",22),t.YNc(1,On,1,0,"azt-loading-effect",14),t.TgZ(2,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getNextExamResultObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",24),t._UZ(5,"polyline",25),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),t.Q6J("disabled",!e.examNextPage)}}let W=(()=>{class o extends v.Q{constructor(e,n,i,a){super(e),this.commonService=e,this.studentProfileV2Service=n,this.studentProfileFilterService=i,this.permissionService=a,this.backToLink="",this.examObjs=[],this.examNextPage=""}clickToExamObj(e){var n,i,a,r,c;(null===(n=e.resultMarkObj)||void 0===n?void 0:n.resultId)&&this.permissionService.hasMarkPointPermission("exam",e.permissionObj)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+e.id+"/"+(null===(i=e.resultMarkObj)||void 0===i?void 0:i.userId)+"/"+(null===(a=e.resultMarkObj)||void 0===a?void 0:a.studentId)+"/"+(null===(r=e.resultMarkObj)||void 0===r?void 0:r.resultId),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(null!==(c=e.categoryId)&&void 0!==c?c:0)+"/"+e.id+"/0","?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var e=this.studentProfileFilterService.getDefaultFilterObj("exam");e.classroomId=this.classroomId,e.studentId=this.studentId,e.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(e).subscribe(n=>{var i,a,r,c;1==n.success?(this.examObjs=this.examObjs.concat(null!==(a=null===(i=n.data)||void 0===i?void 0:i.objs)&&void 0!==a?a:[]),this.examNextPage=null!==(c=null===(r=n.data)||void 0===r?void 0:r.nextPage)&&void 0!==c?c:"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(x.LU),t.Y36(V),t.Y36(ut.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],[3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],[3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return n.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,Cn,14,15,"div",4),t.YNc(7,Zn,3,3,"div",5),t.YNc(8,wn,6,5,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_list_exam_list_submited")),t.xp6(2),t.Q6J("filterType","exam"),t.xp6(2),t.Q6J("ngForOf",n.examObjs),t.xp6(1),t.Q6J("ngIf",0==n.examObjs.length&&!n.examNextPage),t.xp6(1),t.Q6J("ngIf",n.examObjs.length>0&&n.examNextPage))},dependencies:[p.sg,p.O5,S.gM,I.Q,mt.B,pt,m.bT,m.gG],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),o})();function kn(o,s){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",11),t._uU(2,"\xa0"),t.qZA())}let Tn=(()=>{class o extends v.Q{constructor(e,n,i,a){super(e),this.commonService=e,this.studentService=n,this.dialogRef=i,this.data=a,this.studentObj=a.studentObj,this.classroomObj=a.classroomObj}confirmDelete(){this.initStatusObj(),this.subscriptions.add(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id).subscribe(e=>{var n;1==e.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(n=e.message)&&void 0!==n?n:"",!0))}))}btnCloseDialog(e){this.dialogRef.close(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(x.VT),t.Y36(f.so,8),t.Y36(f.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-parent"]],features:[t.qOj],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",5),t._uU(12),t.qZA(),t._uU(13,"\xa0 "),t.TgZ(14,"span",6),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()()(),t.TgZ(17,"div",7)(18,"button",8),t.NdJ("click",function(){return n.btnCloseDialog(!1)}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return n.confirmDelete()}),t.YNc(22,kn,3,0,"span",10),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),t.xp6(3),t.Oqu(n.studentObj.fullName),t.xp6(1),t.hij(" ",t.lcZ(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),t.xp6(2),t.s9C("matTooltip",n.classroomObj.name),t.xp6(1),t.hij(" ",n.classroomObj.name,""),t.xp6(3),t.hij("* ",t.lcZ(16,13,"lang_student_utils_delete_parent_reques"),""),t.xp6(4),t.hij(" ",t.lcZ(20,15,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[p.O5,S.gM,N.O,m.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;border-radius:5px;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 2px 0 0;white-space:nowrap}.text-note[_ngcontent-%COMP%]{display:block;font-style:italic;font-size:15px;color:#000;font-weight:600;text-align:center;margin:10px 0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),o})();function An(o,s){1&o&&t._UZ(0,"azt-loading-effect")}function yn(o,s){if(1&o&&(t._UZ(0,"img",37),t.ALo(1,"mycdn")),2&o){const e=t.oxw(2);t.s9C("src",t.lcZ(1,1,e.studentObj.avatar),t.LSH)}}function jn(o,s){if(1&o&&t._UZ(0,"azt-create-avatar",38),2&o){const e=t.oxw(2);t.Q6J("nameCreateAvatar",e.studentObj.fullName)("size",128)}}function Sn(o,s){1&o&&(t.TgZ(0,"div",39),t.O4$(),t.TgZ(1,"svg",40),t._UZ(2,"path",41)(3,"path",42),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_da_co_tai_khoan")," "))}function Mn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.editStudentDialog(i.studentObj))}),t.O4$(),t.TgZ(1,"svg",46),t._UZ(2,"path",47)(3,"path",48),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_buttom_edit")," "))}function Nn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.deleteStudentDialog(i.studentObj))}),t.O4$(),t.TgZ(1,"svg",49),t._UZ(2,"path",50)(3,"path",51)(4,"path",52)(5,"line",53)(6,"line",54),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function In(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.deleteParentOfStudentDialog(i.studentObj))}),t.O4$(),t.TgZ(1,"svg",55),t._UZ(2,"path",41)(3,"path",56)(4,"path",57),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()}2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_student_profile_utils_account_student_required_verifie")," "))}function Ln(o,s){if(1&o&&(t.TgZ(0,"div",43),t.YNc(1,Mn,6,3,"button",44),t.ALo(2,"editPermission"),t.YNc(3,Nn,9,3,"button",44),t.ALo(4,"fullPermission"),t.ALo(5,"editPermission"),t.YNc(6,In,7,3,"button",44),t.ALo(7,"editPermission"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.xi3(2,3,e.permissionObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(4,6,e.permissionObj,"student")||t.xi3(5,9,e.permissionObj,"student")),t.xp6(3),t.Q6J("ngIf",0!=e.studentObj.parentId&&t.xi3(7,12,e.permissionObj,"student"))}}function qn(o,s){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.deleteStudentDialog(i.studentObj))}),t.O4$(),t.TgZ(1,"svg",49),t._UZ(2,"path",50)(3,"path",51)(4,"path",52)(5,"line",53)(6,"line",54),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Un(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",43)(1,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.editStudentDialog(i.studentObj))}),t.O4$(),t.TgZ(2,"svg",46),t._UZ(3,"path",47)(4,"path",48),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.YNc(7,qn,9,3,"button",44),t.ALo(8,"fullPermission"),t.ALo(9,"editPermission"),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_buttom_edit")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(8,4,e.permissionObj,"student")||t.xi3(9,7,e.permissionObj,"student"))}}function Pn(o,s){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t.YNc(4,yn,2,3,"img",7),t.YNc(5,jn,1,2,"azt-create-avatar",8),t.qZA(),t.TgZ(6,"div",9)(7,"div",10),t._uU(8),t.qZA(),t.YNc(9,Sn,6,3,"div",11),t.qZA()()(),t.TgZ(10,"div",12)(11,"div",13),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"div",14)(15,"div",15),t.O4$(),t.TgZ(16,"svg",16),t._UZ(17,"path",17),t.qZA(),t.kcU(),t.TgZ(18,"span",18),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"div",19),t.O4$(),t.TgZ(22,"svg",16),t._UZ(23,"rect",20)(24,"path",21),t.qZA(),t.kcU(),t.TgZ(25,"span",22),t._uU(26),t.qZA()(),t.TgZ(27,"div",19),t.O4$(),t.TgZ(28,"svg",16),t._UZ(29,"rect",23)(30,"line",24)(31,"line",25)(32,"line",26)(33,"path",27)(34,"path",28)(35,"path",29)(36,"path",30)(37,"path",31)(38,"path",32),t.qZA(),t.kcU(),t.TgZ(39,"span",18),t._uU(40),t.ALo(41,"mytranslate"),t.ALo(42,"localizedDate"),t.qZA()(),t.TgZ(43,"div",19),t.O4$(),t.TgZ(44,"svg",16),t._UZ(45,"path",33)(46,"circle",34),t.qZA(),t.kcU(),t.TgZ(47,"span",18),t._uU(48),t.ALo(49,"mytranslate"),t.ALo(50,"mytranslate"),t.ALo(51,"mytranslate"),t.qZA()(),t.TgZ(52,"div",19),t.O4$(),t.TgZ(53,"svg",16),t._UZ(54,"polyline",35),t.qZA(),t.kcU(),t.TgZ(55,"span",18),t._uU(56),t.ALo(57,"mytranslate"),t.ALo(58,"localizedDate"),t.qZA()()()()(),t.YNc(59,Ln,8,15,"div",36),t.ALo(60,"editPermission"),t.YNc(61,Un,10,10,"div",36),t.ALo(62,"editPermission")),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.studentObj.avatar),t.xp6(1),t.Q6J("ngIf",!e.studentObj.avatar),t.xp6(2),t.s9C("matTooltip",e.studentObj.fullName),t.xp6(1),t.Oqu(e.studentObj.fullName),t.xp6(1),t.Q6J("ngIf",1==e.studentObj.isVerified),t.xp6(3),t.Oqu(t.lcZ(13,18,"lang_auto_thong_tin")),t.xp6(7),t.AsE(" ",t.lcZ(20,20,"lang_number_phone"),": ",e.studentObj.phone," "),t.xp6(6),t.s9C("matTooltip",e.studentObj.email),t.xp6(1),t.hij("Email: ",e.studentObj.email,""),t.xp6(14),t.AsE(" ",t.lcZ(41,22,"lang_birthday"),": ",t.xi3(42,24,e.studentObj.birthday,!1)," "),t.xp6(8),t.AsE(" ",t.lcZ(49,27,"lang_gender"),": ",1==e.studentObj.gender?t.lcZ(50,29,"lang_gender_male"):t.lcZ(51,31,"lang_gender_female")," "),t.xp6(8),t.AsE(" ",t.lcZ(57,33,"lang_student_profile_utils_account_student_Last_login"),": ",t.xi3(58,35,e.studentObj.lastActivity,!0)," "),t.xp6(3),t.Q6J("ngIf",0!=e.studentObj.parentId&&t.xi3(60,38,e.permissionObj,"student")),t.xp6(2),t.Q6J("ngIf",0==e.studentObj.parentId&&t.xi3(62,41,e.permissionObj,"student"))}}let Dn=(()=>{class o extends v.Q{constructor(e,n,i){super(e),this.commonService=e,this.studentProfileV2Service=n,this.dialog=i,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new t.vpe,this.studentObj={},this.classroomObj={}}deleteStudentDialog(e){this.dialog.open(it,{data:{studentObj:e,classroomObj:this.classroomObj},width:"550px"}).afterClosed().subscribe(i=>{i&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(e){this.dialog.open(st,{data:{studentObj:e,classroomObj:this.classroomObj},width:"550px"}).afterClosed().subscribe(i=>{i&&(this.reInitComponentEvent.emit(),this.getData())})}deleteParentOfStudentDialog(e){this.dialog.open(Tn,{data:{studentObj:e,classroomObj:this.classroomObj},width:"550px"}).afterClosed().subscribe(i=>{i&&(this.reInitComponentEvent.emit(),this.getData())})}getData(){this.initStatusObj(),this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId}).subscribe(n=>{var i,a,r,c;1==n.success?(this.studentObj=null!==(a=null===(i=n.data)||void 0===i?void 0:i.studentObj)&&void 0!==a?a:{},this.classroomObj=null!==(c=null===(r=n.data)||void 0===r?void 0:r.classroomObj)&&void 0!==c?c:{},this.permissionObj=this.classroomObj.permissionObj,this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.getData()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(x.LU),t.Y36(f.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["detail-account-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"intro-y","box","px-5","pt-5"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[1,"grid","grid-cols-12","items-center"],[1,"col-span-3","lg:col-span-2","avt-profile","w-20","h-20","sm:w-24","sm:h-24","flex-none","image-fit","relative"],["class","border rounded-full","alt","","width","128","height","128",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"ml-5","col-span-9","lg:col-span-10"],[1,"truncate","sm:whitespace-normal","font-medium","text-lg",3,"matTooltip"],["class","text-slate-500 flex items-center",4,"ngIf"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],[1,"font-medium","lg:mt-3"],[1,"flex","flex-col","justify-center","lg:items-start","mt-4"],[1,"sm:whitespace-normal","flex","items-center",2,"width","100%"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"truncate"],[1,"sm:whitespace-normal","flex","items-center","mt-3",2,"width","100%"],["x","2","y","4","width","20","height","16","rx","2"],["d","m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"],[1,"truncate",3,"matTooltip"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["points","22 12 18 12 15 21 9 3 6 12 2 12"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],["alt","","width","128","height","128",1,"border","rounded-full",3,"src"],[3,"nameCreateAvatar","size"],[1,"text-slate-500","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["d","m9 12 2 2 4-4"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["class","py-4 px-2 mx-2 flex items-center hover:bg-slate-200",3,"click",4,"ngIf"],[1,"py-4","px-2","mx-2","flex","items-center","hover:bg-slate-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-primary"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-warning"],["d","M12 8v4"],["d","M12 16h.01"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,An,1,0,"azt-loading-effect",1),t.YNc(2,Pn,63,44,"ng-template",null,2,t.W1O),t.qZA()),2&e){const i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",i)}},dependencies:[p.O5,S.gM,I.Q,lt.g,m.bT,m.GT,m.Gf,m.BU,m.gG],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),o})();function Jn(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",22),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",e.resultMarkObj.point)}}function Qn(o,s){1&o&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_not_mark_result")," "))}function Yn(o,s){if(1&o&&(t.TgZ(0,"span"),t.YNc(1,Jn,4,4,"span",18),t.YNc(2,Qn,3,3,"span",21),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj.confirmedAt)}}function Fn(o,s){1&o&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_no_result")," "))}function En(o,s){if(1&o&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_student_profile_resend_answer_required"),": ",e.resendAnswerObj.resendNote," ")}}function Gn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.clickToHomeworkObj(a))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),t.qZA()(),t.kcU(),t.TgZ(8,"div",15)(9,"p",16),t._uU(10),t.qZA(),t.TgZ(11,"div",17),t.YNc(12,Yn,3,2,"span",18),t.YNc(13,Fn,3,3,"span",19),t.YNc(14,En,3,4,"span",19),t.qZA(),t.TgZ(15,"div",20),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"localizedDate"),t.qZA()()()}if(2&o){const e=s.$implicit,n=s.index;t.Gre("clickable zoom-in flex items-center ",n>0?"mt-5":""," pb-2"),t.xp6(9),t.s9C("matTooltip",e.name),t.xp6(1),t.AsE("",n+1,". ",e.name,""),t.xp6(2),t.Q6J("ngIf",e.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj&&!e.resendAnswerObj),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj&&e.resendAnswerObj),t.xp6(2),t.AsE("",t.lcZ(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",t.xi3(18,13,e.createdAt,!0),"")}}function zn(o,s){1&o&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function Hn(o,s){1&o&&t._UZ(0,"azt-loading-effect")}function Bn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",26),t.YNc(1,Hn,1,0,"azt-loading-effect",18),t.TgZ(2,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getNextHomeworkAnswerObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",28),t._UZ(5,"polyline",29),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!e.homeworkNextPage)}}let $n=(()=>{class o extends v.Q{constructor(e,n,i,a){super(e),this.commonService=e,this.studentProfileV2Service=n,this.studentProfileFilterService=i,this.permissionService=a,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}clickToHomeworkObj(e){var n,i,a;(null===(n=e.resultMarkObj)||void 0===n?void 0:n.resultId)&&this.permissionService.hasMarkPointPermission("homework",e.permissionObj)?this.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+(null===(i=e.resultMarkObj)||void 0===i?void 0:i.resultId)+"/"+e.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(null!==(a=e.classroomId)&&void 0!==a?a:0)+"/"+e.id+"/"+e.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var e=this.studentProfileFilterService.getDefaultFilterObj("homework");e.classroomId=this.classroomId,e.studentId=this.studentId,e.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(e).subscribe(n=>{var i,a,r,c;1==n.success?(this.homeworkObjs=this.homeworkObjs.concat(null!==(a=null===(i=n.data)||void 0===i?void 0:i.objs)&&void 0!==a?a:[]),this.homeworkNextPage=null!==(c=null===(r=n.data)||void 0===r?void 0:r.nextPage)&&void 0!==c?c:"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(x.LU),t.Y36(V),t.Y36(ut.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],[3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],[3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return n.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,Gn,19,16,"div",4),t.YNc(7,zn,3,3,"div",5),t.YNc(8,Bn,6,5,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_homework_answer_list_submited")),t.xp6(2),t.Q6J("filterType","homework"),t.xp6(2),t.Q6J("ngForOf",n.homeworkObjs),t.xp6(1),t.Q6J("ngIf",0==n.homeworkObjs.length&&!n.homeworkNextPage),t.xp6(1),t.Q6J("ngIf",n.homeworkObjs.length>0&&n.homeworkNextPage))},dependencies:[p.sg,p.O5,S.gM,I.Q,mt.B,pt,m.bT,m.gG],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),o})();const Kn=[{path:"",component:tn,canActivate:[w.v],children:[{path:"merge-student/:id",component:mn},{path:"profile-student/:classroom_id/:id",component:(()=>{class o extends v.Q{constructor(e,n){super(e),this.commonService=e,this.activeRoute=n,this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink=""}reInitOtherComponent(){var e,n;null===(e=this.listExam)||void 0===e||e.reInitData(),null===(n=this.listHomework)||void 0===n||n.reInitData()}ngOnInit(){var e,n=this.commonService.getMyParam(this.activeRoute,"classroom_id"),i=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(n||"",10),this.studentId=parseInt(i||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.commonService.getMyQueryParam("backto")&&(this.paramBackToLink=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:""),this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.commonService.gaEvent("teacher_student_profile"),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.v),t.Y36(k.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["student-profile"]],viewQuery:function(e,n){if(1&e&&(t.Gf(W,5),t.Gf(W,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.listExam=i.first),t.iGM(i=t.CRH())&&(n.listHomework=i.first)}},features:[t.qOj],decls:12,vars:14,consts:[[3,"headerBackTolink","headerTitle"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentId","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","classroomId","backToLink"],["listExam",""],["listHomework",""]],template:function(e,n){1&e&&(t.TgZ(0,"teacher-layout",0),t.ALo(1,"mytranslate"),t.TgZ(2,"div",1)(3,"div",2)(4,"detail-account-student",3),t.NdJ("reInitComponentEvent",function(){return n.reInitOtherComponent()}),t.qZA(),t.TgZ(5,"div",1)(6,"div",4),t._UZ(7,"student-profile-list-exams",5,6),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"student-profile-list-homeworks",5,7),t.qZA()()()()()),2&e&&(t.Q6J("headerBackTolink","/admin/student/class-details/"+n.classroomId)("headerTitle",t.lcZ(1,12,"lang_student_profile_header_title")),t.xp6(4),t.Q6J("studentId",n.studentId)("classroomId",n.classroomId)("backToLink",n.backToLink)("paramBackToLink",n.paramBackToLink),t.xp6(3),t.Q6J("studentId",n.studentId)("classroomId",n.classroomId)("backToLink",n.backToLink),t.xp6(3),t.Q6J("studentId",n.studentId)("classroomId",n.classroomId)("backToLink",n.backToLink))},dependencies:[Q._,Dn,$n,W,m.bT],encapsulation:2}),o})()},{path:"manage-class/:id",component:Xo},{path:"class-details/:id",component:Se},{path:"student-list",redirectTo:"manage-class/0",pathMatch:"full"}]}];let Vn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[k.Bz.forChild(Kn),k.Bz,h.fQ]}),o})(),Wn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[k.Bz,p.ez,H.j,Y.Z_,l.u5,l.UX,f.Is,z.Z,F.xC,Vn,E.QG,G.W,B.d,U.qyJ.pick(U.ciZ)]}),o})()}}]);