"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[149],{74438:(k,b,c)=>{c.d(b,{V:()=>m});var e=c(65879),l=c(39621),v=c(79107),f=c(96814),t=c(11964);function o(_,g){1&_&&(e.ynx(0),e._uU(1),e.ALo(2,"mytranslate"),e.BQk()),2&_&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_remove_all_classroom")," "))}function u(_,g){1&_&&(e._uU(0),e.ALo(1,"mytranslate")),2&_&&e.hij(" ",e.lcZ(1,1,"lang_select_all_classroom")," ")}let m=(()=>{class _ extends l.Q{toggleAllCheckBox(h){let d=h.target.checked,s=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName);if(this.formArray)for(var a=0;a<this.formArray.controls.length;a++)this.objs[a]&&null!=this.objs[a].permissionObj&&!this.commonService.filterArray(s,this.objs[a].id)&&this.formArray.controls[a].setValue(d);this.calculateIsCheckAll(),this.changeCheckboxEvent.emit(void 0)}clearAllCheckBox(){var h=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName);if(this.formArray)for(var d=0;d<this.formArray.controls.length;d++)this.objs[d]&&null!=this.objs[d].permissionObj&&!this.commonService.filterArray(h,this.objs[d].id)&&this.formArray.controls[d].setValue(!1);this.calculateIsCheckAll(),this.changeCheckboxEvent.emit(void 0)}checkAllCheckBox(){var h=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName);if(this.formArray)for(var d=0;d<this.formArray.controls.length;d++)this.objs[d]&&null!=this.objs[d].permissionObj&&!this.commonService.filterArray(h,this.objs[d].id)&&this.formArray.controls[d].setValue(!0);this.calculateIsCheckAll(),this.changeCheckboxEvent.emit(void 0)}calculateIsCheckAll(){var h=!0,d=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName);if(this.formArray)for(var s=0;s<this.formArray.controls.length;s++)this.objs[s]&&null!=this.objs[s].permissionObj&&!this.commonService.filterArray(d,this.objs[s].id)&&(this.formArray.controls[s].value||(h=!1));this.isCheckAll=h}ngOnInit(){super.ngOnInit(),this.formArray=this.form?.get(this.formArrayName),this.formArray&&(this.formArray.valueChanges.subscribe(h=>{this.calculateIsCheckAll()}),this.calculateIsCheckAll())}constructor(h){super(),this.sAztClassroomCheckboxService=h,this.changeCheckboxEvent=new e.vpe,this.formArrayName="",this.objs=[],this.isCheckAll=!1}}return _.\u0275fac=function(h){return new(h||_)(e.Y36(v.f))},_.\u0275cmp=e.Xpm({type:_,selectors:[["azt-list-classroom-checkall"]],inputs:{form:"form",formArrayName:"formArrayName",objs:"objs",permissionName:"permissionName"},outputs:{changeCheckboxEvent:"changeCheckboxEvent"},features:[e.qOj],decls:7,vars:4,consts:[[3,"hidden"],[1,"form-check"],["id","checkbox-all","type","checkbox",1,"form-check-input",3,"checked","change"],["for","checkbox-all",1,"form-check-label"],[4,"ngIf","ngIfElse"],["elseTemplate",""]],template:function(h,d){if(1&h&&(e.TgZ(0,"span",0)(1,"div",1)(2,"input",2),e.NdJ("change",function(a){return d.toggleAllCheckBox(a)}),e.qZA(),e.TgZ(3,"label",3),e.YNc(4,o,3,3,"ng-container",4),e.YNc(5,u,2,3,"ng-template",null,5,e.W1O),e.qZA()()()),2&h){const s=e.MAs(6);e.Q6J("hidden",d.objs.length<=0),e.xp6(2),e.Q6J("checked",d.isCheckAll),e.xp6(2),e.Q6J("ngIf",d.isCheckAll)("ngIfElse",s)}},dependencies:[f.O5,t.JV],encapsulation:2}),_})()},10463:(k,b,c)=>{c.d(b,{B:()=>P});var e=c(65879),l=c(56223),v=c(35187),f=c(39621),t=c(19347),o=c(5961),u=c(38885),m=c(96814),_=c(775),g=c(11964);function h(r,x){1&r&&(e.TgZ(0,"div",11)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}let d=(()=>{class r extends f.Q{btnCloseDialog(){this.dialogRef.close()}saveClass(){if(this.form.invalid||this.statusObj.loading)this.showErrorSnack("lang_auto_vui_long_dien_day_du_thong_tin");else{this.initStatusObj();let i=(new Date).getFullYear(),p={classroomName:this.commonService.getFormObj(this.form).className,year:`${i} - ${i+1}`};this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(p).subscribe(C=>{1==C.success?(this.successStatusObj(),this.showSuccessSnack("lang_auto_tao_thanh_cong_lop_hoc"),this.dialogRef.close(C.data)):(this.stopStatusObj(),this.showErrorSnack("lang_auto_tao_lop_hoc_khong_thanh_cong_vui_long_kiem_tra_lai_du_lieu"))})}}ngOnInit(){this.form=this.fb.group({className:new l.NI("",[l.kI.required,o._.noWhiteSpace])}),super.ngOnInit()}constructor(i,n,p,C){super(),this.fb=i,this.classroomGroupService=n,this.dialogRef=p,this.data=C,this.form=new l.cw({})}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(l.qu),e.Y36(u.c8),e.Y36(t.so,8),e.Y36(t.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["create-classroom"]],features:[e.qOj],decls:18,vars:15,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],[1,"mt-2"],["type","text","formControlName","className",1,"form-control",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","create-classroom-dialog-U1melptHG5",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-classroom-dialog-UgZXPvjLFu",1,"btn","w-24","btn-primary",3,"disabled","click"],[1,"text-xs","text-danger","font-medium","mt-1"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.ALo(9,"mytranslate"),e.qZA(),e.YNc(10,h,4,3,"div",7),e.qZA()(),e.TgZ(11,"div",8)(12,"button",9),e.NdJ("click",function(){return n.btnCloseDialog()}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){return n.saveClass()}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",e.lcZ(6,7,"lang_auto_tao_lop")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(9,9,"lang_auto_nhap_ten_lop")),e.xp6(2),e.Q6J("ngIf",n.form.controls.className.dirty&&n.form.controls.className.errors),e.xp6(3),e.hij(" ",e.lcZ(14,11,"lang_auto_dong")," "),e.xp6(2),e.Q6J("disabled",n.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(17,13,"lang_auto_luu")," "))},dependencies:[m.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,_.M,g.JV],encapsulation:2}),r})();var s=c(79107),a=c(92596);function A(r,x){if(1&r){const i=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._uU(3),e.ALo(4,"mytranslate"),e.TgZ(5,"a",5),e.NdJ("click",function(){e.CHM(i);const p=e.oxw();return e.KtG(p.openDialogCreateClassroom())}),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()}2&r&&(e.xp6(3),e.hij(" ",e.lcZ(4,3,"lang_auto_thayco_chua_tao_lop_vui_long_click")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"lang_testbank_test_config_come_in")," "),e.xp6(2),e.hij(" ",e.lcZ(9,7,"lang_testbank_test_config_create_class"),". "))}function y(r,x){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&r){const i=e.oxw(3).index,n=e.oxw(2);e.s9C("matTooltip",n.objs[i].name),e.xp6(1),e.hij(" ",e.Dn7(2,2,n.objs[i].name,0,25)+"..."," ")}}function O(r,x){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).index,n=e.oxw(2);e.xp6(1),e.hij(" ",n.objs[i].name," ")}}function E(r,x){1&r&&(e.TgZ(0,"span",17),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_testbank_test_config_share")," "))}function N(r,x){if(1&r){const i=e.EpF();e.TgZ(0,"div",11)(1,"input",12),e.NdJ("change",function(){e.CHM(i);const p=e.oxw(2).index,C=e.oxw(2);return e.KtG(C.changeCheckboxEventLocal(C.objs[p]))}),e.qZA(),e.TgZ(2,"label",13),e.YNc(3,y,3,6,"span",14),e.YNc(4,O,2,1,"span",1),e.YNc(5,E,3,3,"span",15),e.ALo(6,"fullPermission"),e.qZA()()}if(2&r){const i=e.oxw(2).index,n=e.oxw(2);let p,C;e.xp6(1),e.s9C("id","azt-checkbox-item-"+n.objs[i].id),e.s9C("value",n.objs[i].id),e.Q6J("formControlName",i),e.xp6(1),e.s9C("for","azt-checkbox-item-"+n.objs[i].id),e.xp6(1),e.Q6J("ngIf",(null!==(p=null==n.objs[i].name?null:n.objs[i].name.length)&&void 0!==p?p:0)>25),e.xp6(1),e.Q6J("ngIf",(null!==(C=null==n.objs[i].name?null:n.objs[i].name.length)&&void 0!==C?C:0)<=25),e.xp6(1),e.Q6J("ngIf",!e.xi3(6,7,n.objs[i],"classroom"))}}function j(r,x){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&r){const i=e.oxw(3).index,n=e.oxw(2);e.s9C("matTooltip",n.objs[i].name),e.xp6(1),e.hij(" ",e.Dn7(2,2,n.objs[i].name,0,25)+"..."," ")}}function S(r,x){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).index,n=e.oxw(2);e.xp6(1),e.hij(" ",n.objs[i].name," ")}}function w(r,x){1&r&&(e.TgZ(0,"span",17),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_testbank_test_config_share")," "))}function T(r,x){if(1&r){const i=e.EpF();e.TgZ(0,"div",11)(1,"input",18),e.NdJ("change",function(){e.CHM(i);const p=e.oxw(2).index,C=e.oxw(2);return e.KtG(C.changeCheckboxEventLocal(C.objs[p]))}),e.qZA(),e.TgZ(2,"label",19),e.YNc(3,j,3,6,"span",14),e.YNc(4,S,2,1,"span",1),e.YNc(5,w,3,3,"span",15),e.ALo(6,"fullPermission"),e.qZA()()}if(2&r){const i=e.oxw(2).index,n=e.oxw(2);let p,C;e.xp6(1),e.s9C("id","azt-checkbox-item-"+i),e.s9C("value",n.objs[i].id),e.Q6J("disabled",!0)("formControlName",i),e.xp6(1),e.s9C("for","azt-checkbox-item-"+i),e.xp6(1),e.Q6J("ngIf",(null!==(p=null==n.objs[i].name?null:n.objs[i].name.length)&&void 0!==p?p:0)>25),e.xp6(1),e.Q6J("ngIf",(null!==(C=null==n.objs[i].name?null:n.objs[i].name.length)&&void 0!==C?C:0)<=25),e.xp6(1),e.Q6J("ngIf",!e.xi3(6,8,n.objs[i],"classroom"))}}function I(r,x){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,N,7,10,"div",10),e.ALo(2,"createPermission"),e.YNc(3,T,7,11,"div",10),e.ALo(4,"createPermission"),e.qZA()),2&r){const i=e.oxw().index,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null!=n.objs[i].permissionObj&&e.xi3(2,2,n.objs[i],n.listPermissionTypes[n.permissionName])),e.xp6(2),e.Q6J("ngIf",!(null!=n.objs[i].permissionObj&&e.xi3(4,5,n.objs[i],n.listPermissionTypes[n.permissionName])))}}function L(r,x){if(1&r&&(e.TgZ(0,"div",9),e.YNc(1,I,5,8,"div",1),e.qZA()),2&r){const i=x.index,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.objs[i])}}function M(r,x){if(1&r&&(e.TgZ(0,"div")(1,"form",6)(2,"div",7),e.YNc(3,L,2,1,"div",8),e.qZA()()()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("ngForOf",i.formArray.controls)}}let P=(()=>{class r extends f.Q{changeCheckboxEventLocal(i){this.changeCheckboxEvent.emit(i)}initClassroomCheckbox(){this.formArray.clear();var i=[];if(this.homeworkObj?.classroomId&&i.push(this.homeworkObj.classroomId),this.examClassroomObjs.length)for(var n=0;n<this.examClassroomObjs.length;n++){let C=this.examClassroomObjs[n].classroomId;C&&i.push(C)}for(null!=this.shareClassroomIds&&(i=this.shareClassroomIds),n=0;n<this.objs.length;n++){var p=!1;let D=this.objs[n].id;null!=D&&i.includes(D)&&(p=!0),this.addNewCheckBox(this.formArray,p)}}addNewCheckBox(i,n){const p=new l.p4(n);i.push(p)}checkShowCreateClassroom(){var i=this.sAztClassroomCheckboxService.findClassroomWithFullPermission(this.objs,this.permissionName);this.showCreateNewClassroom=i.length===this.objs.length}changeClassroomObjs(i){this.objs.push(i),this.checkShowCreateClassroom(),this.initClassroomCheckbox(),this.objsChange.emit(this.objs)}openDialogCreateClassroom(){this.dialog.open(d,{data:{},width:"500px",restoreFocus:!1}).afterClosed().subscribe(n=>{n&&n.obj&&this.changeClassroomObjs(n.obj)})}ngOnInit(){super.ngOnInit(),this.checkShowCreateClassroom();for(var i=0;i<this.objs.length;i++)this.objs[i].name=this.commonService.myTranslateInstant(this.objs[i].name)??"";this.formArray=this.form?.get(this.formArrayName),this.formArray&&this.initClassroomCheckbox()}constructor(i,n){super(),this.dialog=i,this.sAztClassroomCheckboxService=n,this.changeCheckboxEvent=new e.vpe,this.formArrayName="",this.objs=[],this.objsChange=new e.vpe,this.permissionName=v.y.homework,this.examClassroomObjs=[],this.shareClassroomIds=void 0,this.listPermissionTypes=v.y,this.showCreateNewClassroom=!1}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(t.uw),e.Y36(s.f))},r.\u0275cmp=e.Xpm({type:r,selectors:[["azt-list-classroom-checkbox"]],inputs:{form:"form",formArrayName:"formArrayName",objs:"objs",permissionName:"permissionName",homeworkObj:"homeworkObj",examClassroomObjs:"examClassroomObjs",shareClassroomIds:"shareClassroomIds"},outputs:{changeCheckboxEvent:"changeCheckboxEvent",objsChange:"objsChange"},features:[e.qOj],decls:2,vars:2,consts:[["class","mt-2",4,"ngIf"],[4,"ngIf"],[1,"mt-2"],[1,"p-3"],[1,"text-create"],["azt-track-service","azt-list-classroom-checkbox-6scHm7Ch1-",1,"btn-text-primary",3,"click"],[3,"formGroup"],["formArrayName","classroomIds",1,"grid","grid-cols-12","gap-3","p-3"],["class","col-span-12 md:col-span-6 mt-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","mt-2"],["class","azt-checkbox-item",4,"ngIf"],[1,"azt-checkbox-item"],["type","checkbox",1,"form-check-input",3,"id","formControlName","value","change"],[1,"form-check-label",2,"vertical-align","middle",3,"for"],[3,"matTooltip",4,"ngIf"],["class","ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[3,"matTooltip"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["type","checkbox",1,"form-check-input",3,"id","disabled","formControlName","value","change"],[1,"form-check-label",3,"for"]],template:function(i,n){1&i&&(e.YNc(0,A,10,9,"div",0),e.YNc(1,M,4,2,"div",1)),2&i&&(e.Q6J("ngIf",n.showCreateNewClassroom),e.xp6(1),e.Q6J("ngIf",n.form))},dependencies:[m.sg,m.O5,a.gM,l._Y,l.Wl,l.JJ,l.JL,l.sg,l.u,l.CE,_.M,m.OU,g.JV,g.NK,g.nq],encapsulation:2}),r})()},79107:(k,b,c)=>{c.d(b,{f:()=>t});var e=c(35187),l=c(65879),v=c(87384),f=c(94281);let t=(()=>{class o{constructor(m,_){this.commonService=m,this.permissionService=_}findClassroomWithNoPermission(m,_){var g=[];return m.forEach(h=>{(null==h.permissionObj||!this.permissionService.hasCreatePermission(e.y[_],h))&&(this.commonService.filterArray(g,h.id)||void 0!==h.id&&g.push(h.id))}),g}findClassroomWithFullPermission(m,_){let g=[];return m.forEach(h=>{(null==h.permissionObj||!this.permissionService.hasFullPermission(e.y[_],h))&&g.push(h)}),g}getClassroomIdsChecked(m,_,g){for(var h=[],d=0;d<g.length;d++)if(g[d]&&m[d]){var s=m[d].id;null!=s&&!this.commonService.filterArray(_,s)&&h.push(s)}return h}}return o.\u0275fac=function(m){return new(m||o)(l.LFG(v.z),l.LFG(f.j))},o.\u0275prov=l.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},16019:(k,b,c)=>{c.d(b,{WG:()=>g,o8:()=>u});var e=c(29023),l=c(65879),v=c(16676),f=c.n(v),t=c(87384);const o=f()||v,u=new l.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function m(){return{useUtc:!1}}});function _(h,d){const s=Array(h);for(let a=0;a<h;a++)s[a]=d(a);return s}let g=(()=>{class h extends e.fM{constructor(s){super(),this._options=s,this.commonService=(0,l.f3M)(t.z),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},o.locale(),this.setLocale(this.commonService.getCurrentLang()||o.locale())}setLocale(s){super.setLocale(s);const a=o.localeData(s);this._localeData={firstDayOfWeek:a.firstDayOfWeek(),longMonths:a.months(),shortMonths:a.monthsShort(),dates:_(31,A=>this.createDate(2017,0,A+1).format("D")),longDaysOfWeek:a.weekdays(),shortDaysOfWeek:a.weekdaysShort(),narrowDaysOfWeek:a.weekdaysMin()}}getYear(s){return this.clone(s).year()}getMonth(s){return this.clone(s).month()}getDate(s){return this.clone(s).date()}getDayOfWeek(s){return this.clone(s).day()}getMonthNames(s){return"long"===s?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(s){return"long"===s?this._localeData.longDaysOfWeek:"short"===s?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(s){return this.clone(s).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(s){return this.clone(s).daysInMonth()}clone(s){return s.clone().locale(this.locale)}createDate(s,a,A){if(a<0||a>11)throw Error(`Invalid month index "${a}". Month index has to be between 0 and 11.`);if(A<1)throw Error(`Invalid date "${A}". Date has to be greater than 0.`);const y=this._createMoment({year:s,month:a,date:A}).locale(this.locale);if(!y.isValid())throw Error(`Invalid date "${A}" for month with index "${a}".`);return y}today(){return this._createMoment().locale(this.locale)}parse(s,a){return s&&"string"==typeof s?this._createMoment(s,a,this.locale):s?this._createMoment(s).locale(this.locale):null}format(s,a){if(s=this.clone(s),!this.isValid(s))throw Error("MomentDateAdapter: Cannot format invalid date.");return s.format(a)}addCalendarYears(s,a){return this.clone(s).add({years:a})}addCalendarMonths(s,a){return this.clone(s).add({months:a})}addCalendarDays(s,a){return this.clone(s).add({days:a})}toIso8601(s){return this.clone(s).format()}deserialize(s){let a;if(s instanceof Date)a=this._createMoment(s).locale(this.locale);else if(this.isDateInstance(s))return this.clone(s);if("string"==typeof s){if(!s)return null;a=this._createMoment(s,o.ISO_8601).locale(this.locale)}return a&&this.isValid(a)?this._createMoment(a).locale(this.locale):super.deserialize(s)}isDateInstance(s){return o.isMoment(s)}isValid(s){return this.clone(s).isValid()}invalid(){return o.invalid()}getHour(s){return s.hours()}getMinute(s){return s.minutes()}getSecond(s){return s.seconds()}setHour(s,a){s.hours(a)}setMinute(s,a){s.minutes(a)}setSecond(s,a){s.seconds(a)}_createMoment(s,a,A){const{strict:y,useUtc:O}=this._options||{};return O?o.utc(s,a,A,y):o(s,a,A,y)}}return h.\u0275fac=function(s){return new(s||h)(l.LFG(u,8))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})()},61675:(k,b,c)=>{c.d(b,{C:()=>v});var e=c(65879),l=c(19347);let v=(()=>{class f{constructor(o){this.dialog=o,this.open=(u,m)=>this.dialog.open(u,m)}}return f.\u0275fac=function(o){return new(o||f)(e.LFG(l.uw))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},81373:(k,b,c)=>{c.d(b,{Y:()=>l});var e=c(65879);let l=(()=>{class v{constructor(t){this.el=t,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator1=".",this.decimalSeparator2=",",this.allowNegatives=!1,this.allowPaste=!0,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=t.nativeElement}ngOnChanges(t){if(t.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),t.min){const o=Number(this.min);this.min=isNaN(o)?-1/0:o}if(t.max){const o=Number(this.max);this.max=isNaN(o)?1/0:o}}onBeforeInput(t){if(isNaN(Number(t.data))){if(t.data===this.decimalSeparator1||t.data===this.decimalSeparator2||t.data===this.negativeSign&&this.allowNegatives)return;t.preventDefault(),t.stopPropagation()}}onKeyDown(t){if(this.navigationKeys.indexOf(t.key)>-1||("a"===t.key||"KeyA"===t.code)&&!0===t.ctrlKey||("c"===t.key||"KeyC"===t.code)&&!0===t.ctrlKey||("v"===t.key||"KeyV"===t.code)&&!0===t.ctrlKey||("x"===t.key||"KeyX"===t.code)&&!0===t.ctrlKey||("a"===t.key||"KeyA"===t.code)&&!0===t.metaKey||("c"===t.key||"KeyC"===t.code)&&!0===t.metaKey||("v"===t.key||"KeyV"===t.code)&&!0===t.metaKey||("x"===t.key||"KeyX"===t.code)&&!0===t.metaKey)return;let o="";var u=t.key;if(t.key===this.decimalSeparator2&&(u=this.decimalSeparator1),this.decimal&&u===this.decimalSeparator1)return o=this.forecastValue(u),o.split(this.decimalSeparator1).length>2||(this.hasDecimalPoint=o.indexOf(this.decimalSeparator1)>-1,this.setNewValue(u)),void t.preventDefault();if(u===this.negativeSign&&this.allowNegatives)return o=this.forecastValue(u),o.charAt(0)!==this.negativeSign||o.split(this.negativeSign).length>2?void t.preventDefault():void(this.hasNegativeSign=o.split(this.negativeSign).length>-1);if(" "===u||isNaN(Number(u)))return void t.preventDefault();if(o=o||this.forecastValue(u),this.regex&&!this.regex.test(o))return void t.preventDefault();const m=Number(o);(m>this.max||m<this.min)&&t.preventDefault()}onPaste(t){if(!0===this.allowPaste){let o="";window.clipboardData?o=window.clipboardData.getData("text"):t.clipboardData&&t.clipboardData.getData&&(o=t.clipboardData.getData("text/plain")),this.pasteData(o),t.preventDefault()}else t.preventDefault(),t.stopPropagation()}onDrop(t){const o=t.dataTransfer?.getData("text")??"";this.inputElement.focus(),this.pasteData(o),t.preventDefault()}pasteData(t){t=t.replace(",",".");const o=this.sanitizeInput(t);if(!o.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,o))if(this.inputElement.setRangeText){const{selectionStart:m,selectionEnd:_}=this.inputElement;this.inputElement.setRangeText(o,m??0,_??0,"end"),typeof window.InstallTrigger<"u"&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,o);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}setNewValue(t){t=t.replace(",","."),this.insertAtCursor(this.inputElement,t),this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}insertAtCursor(t,o){const u=t.selectionStart??0,m=t.selectionEnd??0;t.value=t.value.substring(0,u)+o+t.value.substring(m,t.value.length);const _=u+o.length;t.focus(),t.setSelectionRange(_,_),this.triggerEvent(t,"input")}triggerEvent(t,o){if("createEvent"in document){const u=document.createEvent("HTMLEvents");u.initEvent(o,!1,!0),t.dispatchEvent(u)}}sanitizeInput(t){let u,o="";u=this.decimal&&this.isValidDecimal(t)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator1}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),o=t.replace(u,"");const m=this.inputElement.maxLength;if(m>0){const _=m-this.inputElement.value.length+(o.includes(`${this.negativeSign}`)?1:0);o=_>0?o.substring(0,_):""}return o}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(t){if(this.hasDecimalPoint){const o=this.getSelection();return o&&o.indexOf(this.decimalSeparator1)>-1?t.split(this.decimalSeparator1).length<=2:t.indexOf(this.decimalSeparator1)<0}return t.split(this.decimalSeparator1).length<=2}getSelection(){return this.inputElement.value.substring(this.inputElement.selectionStart??0,this.inputElement.selectionEnd??0)}forecastValue(t){const u=this.inputElement.selectionEnd??0,m=this.inputElement.value;return m.substring(0,this.inputElement.selectionStart??0)+t+m.substring(u)}}return v.\u0275fac=function(t){return new(t||v)(e.Y36(e.SBq))},v.\u0275dir=e.lG2({type:v,selectors:[["","appOnlyNumber",""]],hostBindings:function(t,o){1&t&&e.NdJ("beforeinput",function(m){return o.onBeforeInput(m)})("keydown",function(m){return o.onKeyDown(m)})("paste",function(m){return o.onPaste(m)})("drop",function(m){return o.onDrop(m)})},inputs:{decimal:"decimal",decimalSeparator1:"decimalSeparator1",decimalSeparator2:"decimalSeparator2",allowNegatives:"allowNegatives",allowPaste:"allowPaste",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[e.TTD]}),v})()},35187:(k,b,c)=>{c.d(b,{y:()=>e});var e=function(l){return l[l.homework=0]="homework",l[l.exam=1]="exam",l[l.classroom=2]="classroom",l[l.student=3]="student",l}(e||{})},217:(k,b,c)=>{c.d(b,{h:()=>e});let e=(()=>{class l{static classroomCheckBoxValidator(f){const t=f.get("whoAllow"),o=f.get("classroomIds");return t&&o?2==t?.value&&l.countCheckBox(o.value)<1?(o?.setErrors({checkboxValidator:!0}),{identityRevealed:!0}):(o?.setErrors(null),null):null}static countCheckBox(f){for(var t=0,o=0;o<f.length;o++)f[o]&&(t+=1);return t}}return l.classroomCheckBoxValidatorWithoutWhoAllow=v=>{const f=v.get("classroomIds");return f?l.countCheckBox(f.value)<1?(f?.setErrors({classroomCheckBoxValidatorWithoutWhoAllow:!0}),{identityRevealed:!0}):(f?.setErrors(null),null):null},l})()}}]);