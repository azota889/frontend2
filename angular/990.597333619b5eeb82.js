"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[990],{12011:(jt,bt,m)=>{m.d(bt,{Dh:()=>W,GT:()=>X,cc:()=>Y,hO:()=>at,on:()=>R,pX:()=>K,xv:()=>it});var C=m(94650),_=m(29260),a=m(80263);jt=m.hmd(jt);const p=["ngOnDestroy"],K=(t,S,j,nt={})=>new Proxy(t,{get:(q,gt)=>j.runOutsideAngular(()=>{var rt;if(t[gt])return!(null===(rt=nt?.spy)||void 0===rt)&&rt.get&&nt.spy.get(gt,t[gt]),t[gt];if(p.indexOf(gt)>-1)return()=>{};const G=S.toPromise().then(mt=>{const tt=mt&&mt[gt];return"function"==typeof tt?tt.bind(mt):tt&&tt.then?tt.then(xt=>j.run(()=>xt)):j.run(()=>tt)});return new Proxy(()=>{},{get:(mt,tt)=>G[tt],apply:(mt,tt,xt)=>G.then(Et=>{var B;const ut=Et&&Et(...xt);return!(null===(B=nt?.spy)||void 0===B)&&B.apply&&nt.spy.apply(gt,xt,ut),ut})})})}),X=(t,S)=>{S.forEach(j=>{Object.getOwnPropertyNames(j.prototype||j).forEach(nt=>{Object.defineProperty(t.prototype,nt,Object.getOwnPropertyDescriptor(j.prototype||j,nt))})})};class ht{constructor(S){return S}}const W=new C.OlP("angularfire2.app.options"),it=new C.OlP("angularfire2.app.name");function R(t,S,j){const q="object"==typeof j&&j||{};q.name=q.name||"string"==typeof j&&j||"[DEFAULT]";const rt=_.Z.apps.filter(G=>G&&G.name===q.name)[0]||S.runOutsideAngular(()=>_.Z.initializeApp(t,q));try{JSON.stringify(t)!==JSON.stringify(rt.options)&&D("error",`${rt.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ht(rt)}const D=(t,...S)=>{(0,C.X6Q)()&&typeof console<"u"&&console[t](...S)},lt={provide:ht,useFactory:R,deps:[W,C.R0b,[new C.FiY,it]]};let at=(()=>{class t{constructor(j){_.Z.registerVersion("angularfire",a.q4.full,"core"),_.Z.registerVersion("angularfire",a.q4.full,"app-compat"),_.Z.registerVersion("angular",C.q4F.full,j.toString())}static initializeApp(j,nt){return{ngModule:t,providers:[{provide:W,useValue:j},{provide:it,useValue:nt}]}}}return t.\u0275fac=function(j){return new(j||t)(C.LFG(C.Lbi))},t.\u0275mod=C.oAB({type:t}),t.\u0275inj=C.cJS({providers:[lt]}),t})();function Y(t,S,j,nt,q){const[,gt,rt]=globalThis.\u0275AngularfireInstanceCache.find(G=>G[0]===t)||[];if(gt)return function F(t,S){try{return t.toString()===S.toString()}catch{return t===S}}(q,rt)||(y("error",`${S} was already initialized on the ${j} Firebase App with different settings.${M?" You may need to reload as Firebase is not HMR aware.":""}`),y("warn",{is:q,was:rt})),gt;{const G=nt();return globalThis.\u0275AngularfireInstanceCache.push([t,G,q]),G}}const M=!!jt.hot,y=(t,...S)=>{(0,C.X6Q)()&&typeof console<"u"&&console[t](...S)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},80263:(jt,bt,m)=>{m.d(bt,{q4:()=>or,iC:()=>Go,HU:()=>to,vb:()=>Bo,JM:()=>Jo});var C=m(94650),_=m(70259),a=m(15861),p=m(49681),K=m(42090),X=m(34859),ht=m(41877),W=m(98766);const it="@firebase/installations",R="0.6.4",D=1e4,lt=`w:${R}`,at="FIS_v2",Y="https://firebaseinstallations.googleapis.com/v1",F=36e5,S=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function j(r){return r instanceof K.ZR&&r.code.includes("request-failed")}function nt({projectId:r}){return`${Y}/projects/${r}/installations`}function q(r){return{token:r.token,requestStatus:2,expiresIn:Et(r.expiresIn),creationTime:Date.now()}}function gt(r,c){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(r,c){const g=(yield c.json()).error;return S.create("request-failed",{requestName:r,serverCode:g.code,serverMessage:g.message,serverStatus:g.status})})).apply(this,arguments)}function G({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function tt(r){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(r){const c=yield r();return c.status>=500&&c.status<600?r():c})).apply(this,arguments)}function Et(r){return Number(r.replace("s","000"))}function H(){return(H=(0,a.Z)(function*({appConfig:r,heartbeatServiceProvider:c},{fid:u}){const g=nt(r),f=G(r),b=c.getImmediate({optional:!0});if(b){const Q=yield b.getHeartbeatsHeader();Q&&f.append("x-firebase-client",Q)}const O={method:"POST",headers:f,body:JSON.stringify({fid:u,authVersion:at,appId:r.appId,sdkVersion:lt})},P=yield tt(()=>fetch(g,O));if(P.ok){const Q=yield P.json();return{fid:Q.fid||u,registrationStatus:2,refreshToken:Q.refreshToken,authToken:q(Q.authToken)}}throw yield gt("Create Installation",P)})).apply(this,arguments)}function dt(r){return new Promise(c=>{setTimeout(c,r)})}const Nt=/^[cdef][\w-]{21}$/,z="";function Ue(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const u=function je(r){return function ft(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}(r).substr(0,22)}(r);return Nt.test(u)?u:z}catch{return z}}function Bt(r){return`${r.appName}!${r.appId}`}const Yt=new Map;function ve(r,c){const u=Bt(r);st(u,c),function I(r,c){const u=function U(){return!T&&"BroadcastChannel"in self&&(T=new BroadcastChannel("[Firebase] FID Change"),T.onmessage=r=>{st(r.data.key,r.data.fid)}),T}();u&&u.postMessage({key:r,fid:c}),function V(){0===Yt.size&&T&&(T.close(),T=null)}()}(u,c)}function st(r,c){const u=Yt.get(r);if(u)for(const g of u)g(c)}let T=null;const ot="firebase-installations-database",Tt=1,vt="firebase-installations-store";let yt=null;function et(){return yt||(yt=(0,W.X3)(ot,Tt,{upgrade:(r,c)=>{0===c&&r.createObjectStore(vt)}})),yt}function wt(r,c){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(r,c){const u=Bt(r),f=(yield et()).transaction(vt,"readwrite"),b=f.objectStore(vt),w=yield b.get(u);return yield b.put(c,u),yield f.done,(!w||w.fid!==c.fid)&&ve(r,c.fid),c})).apply(this,arguments)}function de(r){return ie.apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(r){const c=Bt(r),g=(yield et()).transaction(vt,"readwrite");yield g.objectStore(vt).delete(c),yield g.done})).apply(this,arguments)}function Rt(r,c){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(r,c){const u=Bt(r),f=(yield et()).transaction(vt,"readwrite"),b=f.objectStore(vt),w=yield b.get(u),O=c(w);return void 0===O?yield b.delete(u):yield b.put(O,u),yield f.done,O&&(!w||w.fid!==O.fid)&&ve(r,O.fid),O})).apply(this,arguments)}function be(r){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,a.Z)(function*(r){let c;const u=yield Rt(r.appConfig,g=>{const f=function ei(r){return ao(r||{fid:Ue(),registrationStatus:0})}(g),b=function ni(r,c){if(0===c.registrationStatus){if(!navigator.onLine)return{installationEntry:c,registrationPromise:Promise.reject(S.create("app-offline"))};const u={fid:c.fid,registrationStatus:1,registrationTime:Date.now()},g=function oi(r,c){return Re.apply(this,arguments)}(r,u);return{installationEntry:u,registrationPromise:g}}return 1===c.registrationStatus?{installationEntry:c,registrationPromise:ii(r)}:{installationEntry:c}}(r,f);return c=b.registrationPromise,b.installationEntry});return u.fid===z?{installationEntry:yield c}:{installationEntry:u,registrationPromise:c}}),Fe.apply(this,arguments)}function Re(){return Re=(0,a.Z)(function*(r,c){try{const u=yield function ut(r,c){return H.apply(this,arguments)}(r,c);return wt(r.appConfig,u)}catch(u){throw j(u)&&409===u.customData.serverCode?yield de(r.appConfig):yield wt(r.appConfig,{fid:c.fid,registrationStatus:0}),u}}),Re.apply(this,arguments)}function ii(r){return De.apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(r){let c=yield io(r.appConfig);for(;1===c.registrationStatus;)yield dt(100),c=yield io(r.appConfig);if(0===c.registrationStatus){const{installationEntry:u,registrationPromise:g}=yield be(r);return g||u}return c})).apply(this,arguments)}function io(r){return Rt(r,c=>{if(!c)throw S.create("installation-not-found");return ao(c)})}function ao(r){return function ai(r){return 1===r.registrationStatus&&r.registrationTime+D<Date.now()}(r)?{fid:r.fid,registrationStatus:0}:r}function ze(){return(ze=(0,a.Z)(function*({appConfig:r,heartbeatServiceProvider:c},u){const g=function si(r,{fid:c}){return`${nt(r)}/${c}/authTokens:generate`}(r,u),f=function mt(r,{refreshToken:c}){const u=G(r);return u.append("Authorization",function B(r){return`${at} ${r}`}(c)),u}(r,u),b=c.getImmediate({optional:!0});if(b){const Q=yield b.getHeartbeatsHeader();Q&&f.append("x-firebase-client",Q)}const O={method:"POST",headers:f,body:JSON.stringify({installation:{sdkVersion:lt,appId:r.appId}})},P=yield tt(()=>fetch(g,O));if(P.ok)return q(yield P.json());throw yield gt("Generate Auth Token",P)})).apply(this,arguments)}function Je(r){return Be.apply(this,arguments)}function Be(){return Be=(0,a.Z)(function*(r,c=!1){let u;const g=yield Rt(r.appConfig,b=>{if(!so(b))throw S.create("not-registered");const w=b.authToken;if(!c&&function ui(r){return 2===r.requestStatus&&!function di(r){const c=Date.now();return c<r.creationTime||r.creationTime+r.expiresIn<c+F}(r)}(w))return b;if(1===w.requestStatus)return u=function ci(r,c){return Wt.apply(this,arguments)}(r,c),b;{if(!navigator.onLine)throw S.create("app-offline");const O=function _i(r){const c={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:c})}(b);return u=function li(r,c){return Ye.apply(this,arguments)}(r,O),O}});return u?yield u:g.authToken}),Be.apply(this,arguments)}function Wt(){return(Wt=(0,a.Z)(function*(r,c){let u=yield ro(r.appConfig);for(;1===u.authToken.requestStatus;)yield dt(100),u=yield ro(r.appConfig);const g=u.authToken;return 0===g.requestStatus?Je(r,c):g})).apply(this,arguments)}function ro(r){return Rt(r,c=>{if(!so(c))throw S.create("not-registered");return function gi(r){return 1===r.requestStatus&&r.requestTime+D<Date.now()}(c.authToken)?Object.assign(Object.assign({},c),{authToken:{requestStatus:0}}):c})}function Ye(){return Ye=(0,a.Z)(function*(r,c){try{const u=yield function ri(r,c){return ze.apply(this,arguments)}(r,c),g=Object.assign(Object.assign({},c),{authToken:u});return yield wt(r.appConfig,g),u}catch(u){if(!j(u)||401!==u.customData.serverCode&&404!==u.customData.serverCode){const g=Object.assign(Object.assign({},c),{authToken:{requestStatus:0}});yield wt(r.appConfig,g)}else yield de(r.appConfig);throw u}}),Ye.apply(this,arguments)}function so(r){return void 0!==r&&2===r.registrationStatus}function Ge(){return(Ge=(0,a.Z)(function*(r){const c=r,{installationEntry:u,registrationPromise:g}=yield be(c);return g?g.catch(console.error):Je(c).catch(console.error),u.fid})).apply(this,arguments)}function Ve(){return Ve=(0,a.Z)(function*(r,c=!1){const u=r;return yield function mi(r){return Ke.apply(this,arguments)}(u),(yield Je(u,c)).token}),Ve.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(r){const{registrationPromise:c}=yield be(r);c&&(yield c)})).apply(this,arguments)}function $e(r){return S.create("missing-app-config-values",{valueName:r})}const xe="installations",ae=r=>{const c=r.getProvider("app").getImmediate(),u=function vi(r){if(!r||!r.options)throw $e("App Configuration");if(!r.name)throw $e("App Name");const c=["projectId","apiKey","appId"];for(const u of c)if(!r.options[u])throw $e(u);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}(c);return{app:c,appConfig:u,heartbeatServiceProvider:(0,p._getProvider)(c,"heartbeat"),_delete:()=>Promise.resolve()}},re=r=>{const c=r.getProvider("app").getImmediate(),u=(0,p._getProvider)(c,xe).getImmediate();return{getId:()=>function pi(r){return Ge.apply(this,arguments)}(u),getToken:f=>function hi(r){return Ve.apply(this,arguments)}(u,f)}};(function _e(){(0,p._registerComponent)(new X.wA(xe,ae,"PUBLIC")),(0,p._registerComponent)(new X.wA("installations-internal",re,"PRIVATE"))})(),(0,p.registerVersion)(it,R),(0,p.registerVersion)(it,R,"esm2017");const Xe="@firebase/remote-config",Lt=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Si{constructor(c,u,g,f){this.client=c,this.storage=u,this.storageCache=g,this.logger=f}isCachedDataFresh(c,u){if(!u)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const g=Date.now()-u,f=g<=c;return this.logger.debug(`Config fetch cache check. Cache age millis: ${g}. Cache max age millis (minimumFetchIntervalMillis setting): ${c}. Is cache hit: ${f}.`),f}fetch(c){var u=this;return(0,a.Z)(function*(){const[g,f]=yield Promise.all([u.storage.getLastSuccessfulFetchTimestampMillis(),u.storage.getLastSuccessfulFetchResponse()]);if(f&&u.isCachedDataFresh(c.cacheMaxAgeMillis,g))return f;c.eTag=f&&f.eTag;const b=yield u.client.fetch(c),w=[u.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===b.status&&w.push(u.storage.setLastSuccessfulFetchResponse(b)),yield Promise.all(w),b})()}}function ho(r=navigator){return r.languages&&r.languages[0]||r.language}class mo{constructor(c,u,g,f,b,w){this.firebaseInstallations=c,this.sdkVersion=u,this.namespace=g,this.projectId=f,this.apiKey=b,this.appId=w}fetch(c){var u=this;return(0,a.Z)(function*(){const[g,f]=yield Promise.all([u.firebaseInstallations.getId(),u.firebaseInstallations.getToken()]),w=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${u.projectId}/namespaces/${u.namespace}:fetch?key=${u.apiKey}`,O={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":c.eTag||"*"},P={sdk_version:u.sdkVersion,app_instance_id:g,app_instance_id_token:f,app_id:u.appId,language_code:ho()},Q={method:"POST",headers:O,body:JSON.stringify(P)},$=fetch(w,Q),J=new Promise((It,Ht)=>{c.signal.addEventListener(()=>{const Pe=new Error("The operation was aborted.");Pe.name="AbortError",Ht(Pe)})});let Qt;try{yield Promise.race([$,J]),Qt=yield $}catch(It){let Ht="fetch-client-network";throw"AbortError"===It?.name&&(Ht="fetch-timeout"),Lt.create(Ht,{originalErrorMessage:It?.message})}let kt=Qt.status;const eo=Qt.headers.get("ETag")||void 0;let me,le;if(200===Qt.status){let It;try{It=yield Qt.json()}catch(Ht){throw Lt.create("fetch-client-parse",{originalErrorMessage:Ht?.message})}me=It.entries,le=It.state}if("INSTANCE_STATE_UNSPECIFIED"===le?kt=500:"NO_CHANGE"===le?kt=304:("NO_TEMPLATE"===le||"EMPTY_CONFIG"===le)&&(me={}),304!==kt&&200!==kt)throw Lt.create("fetch-status",{httpStatus:kt});return{status:kt,eTag:eo,config:me}})()}}class Li{constructor(c,u){this.client=c,this.storage=u}fetch(c){var u=this;return(0,a.Z)(function*(){const g=(yield u.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return u.attemptFetch(c,g)})()}attemptFetch(c,{throttleEndTimeMillis:u,backoffCount:g}){var f=this;return(0,a.Z)(function*(){yield function Ii(r,c){return new Promise((u,g)=>{const f=Math.max(c-Date.now(),0),b=setTimeout(u,f);r.addEventListener(()=>{clearTimeout(b),g(Lt.create("fetch-throttle",{throttleEndTimeMillis:c}))})})}(c.signal,u);try{const b=yield f.client.fetch(c);return yield f.storage.deleteThrottleMetadata(),b}catch(b){if(!function Oi(r){if(!(r instanceof K.ZR&&r.customData))return!1;const c=Number(r.customData.httpStatus);return 429===c||500===c||503===c||504===c}(b))throw b;const w={throttleEndTimeMillis:Date.now()+(0,K.$s)(g),backoffCount:g+1};return yield f.storage.setThrottleMetadata(w),f.attemptFetch(c,w)}})()}}class Pi{constructor(c,u,g,f,b){this.app=c,this._client=u,this._storageCache=g,this._storage=f,this._logger=b,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function we(r,c){const u=r.target.error||void 0;return Lt.create(c,{originalErrorMessage:u&&u?.message})}const $t="app_namespace_store";class Qi{constructor(c,u,g,f=function ji(){return new Promise((r,c)=>{try{const u=indexedDB.open("firebase_remote_config",1);u.onerror=g=>{c(we(g,"storage-open"))},u.onsuccess=g=>{r(g.target.result)},u.onupgradeneeded=g=>{0===g.oldVersion&&g.target.result.createObjectStore($t,{keyPath:"compositeKey"})}}catch(u){c(Lt.create("storage-open",{originalErrorMessage:u?.message}))}})}()){this.appId=c,this.appName=u,this.namespace=g,this.openDbPromise=f}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(c){return this.set("last_fetch_status",c)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(c){return this.set("last_successful_fetch_timestamp_millis",c)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(c){return this.set("last_successful_fetch_response",c)}getActiveConfig(){return this.get("active_config")}setActiveConfig(c){return this.set("active_config",c)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(c){return this.set("active_config_etag",c)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(c){return this.set("throttle_metadata",c)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(c){var u=this;return(0,a.Z)(function*(){const g=yield u.openDbPromise;return new Promise((f,b)=>{const O=g.transaction([$t],"readonly").objectStore($t),P=u.createCompositeKey(c);try{const Q=O.get(P);Q.onerror=$=>{b(we($,"storage-get"))},Q.onsuccess=$=>{const J=$.target.result;f(J?J.value:void 0)}}catch(Q){b(Lt.create("storage-get",{originalErrorMessage:Q?.message}))}})})()}set(c,u){var g=this;return(0,a.Z)(function*(){const f=yield g.openDbPromise;return new Promise((b,w)=>{const P=f.transaction([$t],"readwrite").objectStore($t),Q=g.createCompositeKey(c);try{const $=P.put({compositeKey:Q,value:u});$.onerror=J=>{w(we(J,"storage-set"))},$.onsuccess=()=>{b()}}catch($){w(Lt.create("storage-set",{originalErrorMessage:$?.message}))}})})()}delete(c){var u=this;return(0,a.Z)(function*(){const g=yield u.openDbPromise;return new Promise((f,b)=>{const O=g.transaction([$t],"readwrite").objectStore($t),P=u.createCompositeKey(c);try{const Q=O.delete(P);Q.onerror=$=>{b(we($,"storage-delete"))},Q.onsuccess=()=>{f()}}catch(Q){b(Lt.create("storage-delete",{originalErrorMessage:Q?.message}))}})})()}createCompositeKey(c){return[this.appId,this.appName,this.namespace,c].join()}}class Ae{constructor(c){this.storage=c}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var c=this;return(0,a.Z)(function*(){const u=c.storage.getLastFetchStatus(),g=c.storage.getLastSuccessfulFetchTimestampMillis(),f=c.storage.getActiveConfig(),b=yield u;b&&(c.lastFetchStatus=b);const w=yield g;w&&(c.lastSuccessfulFetchTimestampMillis=w);const O=yield f;O&&(c.activeConfig=O)})()}setLastFetchStatus(c){return this.lastFetchStatus=c,this.storage.setLastFetchStatus(c)}setLastSuccessfulFetchTimestampMillis(c){return this.lastSuccessfulFetchTimestampMillis=c,this.storage.setLastSuccessfulFetchTimestampMillis(c)}setActiveConfig(c){return this.activeConfig=c,this.storage.setActiveConfig(c)}}function Fi(){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}!function Ni(){(0,p._registerComponent)(new X.wA("remote-config",function r(c,{instanceIdentifier:u}){const g=c.getProvider("app").getImmediate(),f=c.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Lt.create("registration-window");if(!(0,K.hl)())throw Lt.create("indexed-db-unavailable");const{projectId:b,apiKey:w,appId:O}=g.options;if(!b)throw Lt.create("registration-project-id");if(!w)throw Lt.create("registration-api-key");if(!O)throw Lt.create("registration-app-id");const P=new Qi(O,g.name,u=u||"firebase"),Q=new Ae(P),$=new ht.Yd(Xe);$.logLevel=ht.in.ERROR;const J=new mo(f,p.SDK_VERSION,u,b,w,O),Qt=new Li(J,P),kt=new Si(Qt,P,Q,$),eo=new Pi(g,kt,Q,P,$);return function Ti(r){const c=(0,K.m9)(r);c._initializePromise||(c._initializePromise=c._storageCache.loadFromStorage().then(()=>{c._isInitializationComplete=!0}))}(eo),eo},"PUBLIC").setMultipleInstances(!0)),(0,p.registerVersion)(Xe,"0.4.4"),(0,p.registerVersion)(Xe,"0.4.4","esm2017")}();const Ri="/firebase-messaging-sw.js",Di="/firebase-cloud-messaging-push-scope",fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zi="https://fcmregistrations.googleapis.com/v1",vo="google.c.a.c_id",Ji="google.c.a.c_l",Bi="google.c.a.ts",Yi="google.c.a.e";var se=(()=>{return(r=se||(se={})).PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked",se;var r})();function Dt(r){const c=new Uint8Array(r);return btoa(String.fromCharCode(...c)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gi(r){const u=(r+"=".repeat((4-r.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),g=atob(u),f=new Uint8Array(g.length);for(let b=0;b<g.length;++b)f[b]=g.charCodeAt(b);return f}const rn="fcm_token_details_db",Vi=5,bo="fcm_token_object_Store";function sn(){return sn=(0,a.Z)(function*(r){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(b=>b.name).includes(rn))return null;let c=null;return(yield(0,W.X3)(rn,Vi,{upgrade:(g=(0,a.Z)(function*(f,b,w,O){var P;if(b<2||!f.objectStoreNames.contains(bo))return;const Q=O.objectStore(bo),$=yield Q.index("fcmSenderId").get(r);if(yield Q.clear(),$)if(2===b){const J=$;if(!J.auth||!J.p256dh||!J.endpoint)return;c={token:J.fcmToken,createTime:null!==(P=J.createTime)&&void 0!==P?P:Date.now(),subscriptionOptions:{auth:J.auth,p256dh:J.p256dh,endpoint:J.endpoint,swScope:J.swScope,vapidKey:"string"==typeof J.vapidKey?J.vapidKey:Dt(J.vapidKey)}}}else if(3===b){const J=$;c={token:J.fcmToken,createTime:J.createTime,subscriptionOptions:{auth:Dt(J.auth),p256dh:Dt(J.p256dh),endpoint:J.endpoint,swScope:J.swScope,vapidKey:Dt(J.vapidKey)}}}else if(4===b){const J=$;c={token:J.fcmToken,createTime:J.createTime,subscriptionOptions:{auth:Dt(J.auth),p256dh:Dt(J.p256dh),endpoint:J.endpoint,swScope:J.swScope,vapidKey:Dt(J.vapidKey)}}}}),function(b,w,O,P){return g.apply(this,arguments)})})).close(),yield(0,W.Lj)(rn),yield(0,W.Lj)("fcm_vapid_details_db"),yield(0,W.Lj)("undefined"),function Ki(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:c}=r;return"number"==typeof r.createTime&&r.createTime>0&&"string"==typeof r.token&&r.token.length>0&&"string"==typeof c.auth&&c.auth.length>0&&"string"==typeof c.p256dh&&c.p256dh.length>0&&"string"==typeof c.endpoint&&c.endpoint.length>0&&"string"==typeof c.swScope&&c.swScope.length>0&&"string"==typeof c.vapidKey&&c.vapidKey.length>0}(c)?c:null;var g}),sn.apply(this,arguments)}const Hi="firebase-messaging-database",Wi=1,Xt="firebase-messaging-store";let cn=null;function ln(){return cn||(cn=(0,W.X3)(Hi,Wi,{upgrade:(r,c)=>{0===c&&r.createObjectStore(Xt)}})),cn}function xo(r){return un.apply(this,arguments)}function un(){return un=(0,a.Z)(function*(r){const c=pn(r),g=yield(yield ln()).transaction(Xt).objectStore(Xt).get(c);if(g)return g;{const f=yield function Gt(r){return sn.apply(this,arguments)}(r.appConfig.senderId);if(f)return yield dn(r,f),f}}),un.apply(this,arguments)}function dn(r,c){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(r,c){const u=pn(r),f=(yield ln()).transaction(Xt,"readwrite");return yield f.objectStore(Xt).put(c,u),yield f.done,c})).apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(r){const c=pn(r),g=(yield ln()).transaction(Xt,"readwrite");yield g.objectStore(Xt).delete(c),yield g.done})).apply(this,arguments)}function pn({appConfig:r}){return r.appId}const At=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ta(r,c){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(r,c){const u=yield bn(r),g=wo(c),f={method:"POST",headers:u,body:JSON.stringify(g)};let b;try{b=yield(yield fetch(vn(r.appConfig),f)).json()}catch(w){throw At.create("token-subscribe-failed",{errorInfo:w?.toString()})}if(b.error)throw At.create("token-subscribe-failed",{errorInfo:b.error.message});if(!b.token)throw At.create("token-subscribe-no-token");return b.token})).apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(r,c){const u=yield bn(r),g=wo(c.subscriptionOptions),f={method:"PATCH",headers:u,body:JSON.stringify(g)};let b;try{b=yield(yield fetch(`${vn(r.appConfig)}/${c.token}`,f)).json()}catch(w){throw At.create("token-update-failed",{errorInfo:w?.toString()})}if(b.error)throw At.create("token-update-failed",{errorInfo:b.error.message});if(!b.token)throw At.create("token-update-no-token");return b.token})).apply(this,arguments)}function yo(r,c){return fn.apply(this,arguments)}function fn(){return(fn=(0,a.Z)(function*(r,c){const g={method:"DELETE",headers:yield bn(r)};try{const b=yield(yield fetch(`${vn(r.appConfig)}/${c}`,g)).json();if(b.error)throw At.create("token-unsubscribe-failed",{errorInfo:b.error.message})}catch(f){throw At.create("token-unsubscribe-failed",{errorInfo:f?.toString()})}})).apply(this,arguments)}function vn({projectId:r}){return`${zi}/projects/${r}/registrations`}function bn(r){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*({appConfig:r,installations:c}){const u=yield c.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${u}`})})).apply(this,arguments)}function wo({p256dh:r,auth:c,endpoint:u,vapidKey:g}){const f={web:{endpoint:u,auth:c,p256dh:r}};return g!==fo&&(f.web.applicationPubKey=g),f}const na=6048e5;function yn(){return yn=(0,a.Z)(function*(r){const c=yield function ia(r,c){return Tn.apply(this,arguments)}(r.swRegistration,r.vapidKey),u={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:c.endpoint,auth:Dt(c.getKey("auth")),p256dh:Dt(c.getKey("p256dh"))},g=yield xo(r.firebaseDependencies);if(g){if(function aa(r,c){return c.vapidKey===r.vapidKey&&c.endpoint===r.endpoint&&c.auth===r.auth&&c.p256dh===r.p256dh}(g.subscriptionOptions,u))return Date.now()>=g.createTime+na?function te(r,c){return An.apply(this,arguments)}(r,{token:g.token,createTime:Date.now(),subscriptionOptions:u}):g.token;try{yield yo(r.firebaseDependencies,g.token)}catch(f){console.warn(f)}return Co(r.firebaseDependencies,u)}return Co(r.firebaseDependencies,u)}),yn.apply(this,arguments)}function wn(){return wn=(0,a.Z)(function*(r){const c=yield xo(r.firebaseDependencies);c&&(yield yo(r.firebaseDependencies,c.token),yield function $i(r){return gn.apply(this,arguments)}(r.firebaseDependencies));const u=yield r.swRegistration.pushManager.getSubscription();return!u||u.unsubscribe()}),wn.apply(this,arguments)}function An(){return An=(0,a.Z)(function*(r,c){try{const u=yield function ea(r,c){return mn.apply(this,arguments)}(r.firebaseDependencies,c),g=Object.assign(Object.assign({},c),{token:u,createTime:Date.now()});return yield dn(r.firebaseDependencies,g),u}catch(u){throw yield function Ao(r){return wn.apply(this,arguments)}(r),u}}),An.apply(this,arguments)}function Co(r,c){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(r,c){const g={token:yield ta(r,c),createTime:Date.now(),subscriptionOptions:c};return yield dn(r,g),g.token})).apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(r,c){return(yield r.pushManager.getSubscription())||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gi(c)})})).apply(this,arguments)}function To(r){const c={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return function ra(r,c){if(!c.notification)return;r.notification={};const u=c.notification.title;u&&(r.notification.title=u);const g=c.notification.body;g&&(r.notification.body=g);const f=c.notification.image;f&&(r.notification.image=f);const b=c.notification.icon;b&&(r.notification.icon=b)}(c,r),function sa(r,c){c.data&&(r.data=c.data)}(c,r),function ca(r,c){var u,g,f,b,w;if(!(c.fcmOptions||null!==(u=c.notification)&&void 0!==u&&u.click_action))return;r.fcmOptions={};const O=null!==(f=null===(g=c.fcmOptions)||void 0===g?void 0:g.link)&&void 0!==f?f:null===(b=c.notification)||void 0===b?void 0:b.click_action;O&&(r.fcmOptions.link=O);const P=null===(w=c.fcmOptions)||void 0===w?void 0:w.analytics_label;P&&(r.fcmOptions.analyticsLabel=P)}(c,r),c}function ge(r,c){const u=[];for(let g=0;g<r.length;g++)u.push(r.charAt(g)),g<c.length&&u.push(c.charAt(g));return u.join("")}function Zn(r){return At.create("missing-app-config-values",{valueName:r})}ge("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ge("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class da{constructor(c,u,g){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const f=function ua(r){if(!r||!r.options)throw Zn("App Configuration Object");if(!r.name)throw Zn("App Name");const c=["projectId","apiKey","appId","messagingSenderId"],{options:u}=r;for(const g of c)if(!u[g])throw Zn(g);return{appName:r.name,projectId:u.projectId,apiKey:u.apiKey,appId:u.appId,senderId:u.messagingSenderId}}(c);this.firebaseDependencies={app:c,appConfig:f,installations:u,analyticsProvider:g}}_delete(){return Promise.resolve()}}function Zo(r){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(r){try{r.swRegistration=yield navigator.serviceWorker.register(Ri,{scope:Di}),r.swRegistration.update().catch(()=>{})}catch(c){throw At.create("failed-service-worker-registration",{browserErrorMessage:c?.message})}})).apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(r,c){if(!c&&!r.swRegistration&&(yield Zo(r)),c||!r.swRegistration){if(!(c instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");r.swRegistration=c}})).apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(r,c){c?r.vapidKey=c:r.vapidKey||(r.vapidKey=fo)})).apply(this,arguments)}function ee(){return ee=(0,a.Z)(function*(r,c){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield function ga(r,c){return In.apply(this,arguments)}(r,c?.vapidKey),yield function _a(r,c){return Sn.apply(this,arguments)}(r,c?.serviceWorkerRegistration),function oa(r){return yn.apply(this,arguments)}(r)}),ee.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(r,c,u){const g=function ha(r){switch(r){case se.NOTIFICATION_CLICKED:return"notification_open";case se.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(c);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(g,{message_id:u[vo],message_name:u[Ji],message_time:u[Bi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function On(){return On=(0,a.Z)(function*(r,c){const u=c.data;if(!u.isFirebaseMessaging)return;r.onMessageHandler&&u.messageType===se.PUSH_RECEIVED&&("function"==typeof r.onMessageHandler?r.onMessageHandler(To(u)):r.onMessageHandler.next(To(u)));const g=u.data;(function la(r){return"object"==typeof r&&!!r&&vo in r})(g)&&"1"===g[Yi]&&(yield function pa(r,c,u){return Te.apply(this,arguments)}(r,u.messageType,g))}),On.apply(this,arguments)}const ko="@firebase/messaging",fa=r=>{const c=new da(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",u=>function ma(r,c){return On.apply(this,arguments)}(c,u)),c},Io=r=>{const c=r.getProvider("messaging").getImmediate();return{getToken:g=>function Ce(r,c){return ee.apply(this,arguments)}(c,g)}};function Oo(){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(){try{yield(0,K.eu)()}catch{return!1}return typeof window<"u"&&(0,K.hl)()&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function va(){(0,p._registerComponent)(new X.wA("messaging",fa,"PUBLIC")),(0,p._registerComponent)(new X.wA("messaging-internal",Io,"PRIVATE")),(0,p.registerVersion)(ko,"0.12.4"),(0,p.registerVersion)(ko,"0.12.4","esm2017")}();const ne="analytics",ya="firebase_id",wa="origin",Aa=6e4,Ca="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lo="https://www.googletagmanager.com/gtag/js",Ct=new ht.Yd("@firebase/analytics");function Eo(r){return Promise.all(r.map(c=>c.catch(u=>u)))}function Pn(){return(Pn=(0,a.Z)(function*(r,c,u,g,f,b){const w=g[f];try{if(w)yield c[w];else{const P=(yield Eo(u)).find(Q=>Q.measurementId===f);P&&(yield c[P.appId])}}catch(O){Ct.error(O)}r("config",f,b)})).apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(r,c,u,g,f){try{let b=[];if(f&&f.send_to){let w=f.send_to;Array.isArray(w)||(w=[w]);const O=yield Eo(u);for(const P of w){const Q=O.find(J=>J.measurementId===P),$=Q&&c[Q.appId];if(!$){b=[];break}b.push($)}}0===b.length&&(b=Object.values(c)),yield Promise.all(b),r("event",g,f||{})}catch(b){Ct.error(b)}})).apply(this,arguments)}const Zt=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_t=30,Mo=new class Ma{constructor(c={},u=1e3){this.throttleMetadata=c,this.intervalMillis=u}getThrottleMetadata(c){return this.throttleMetadata[c]}setThrottleMetadata(c,u){this.throttleMetadata[c]=u}deleteThrottleMetadata(c){delete this.throttleMetadata[c]}};function ke(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}function Un(){return(Un=(0,a.Z)(function*(r){var c;const{appId:u,apiKey:g}=r,f={method:"GET",headers:ke(g)},b=Ca.replace("{app-id}",u),w=yield fetch(b,f);if(200!==w.status&&304!==w.status){let O="";try{const P=yield w.json();null!==(c=P.error)&&void 0!==c&&c.message&&(O=P.error.message)}catch{}throw Zt.create("config-fetch-failed",{httpStatus:w.status,responseMessage:O})}return w.json()})).apply(this,arguments)}function Se(){return(Se=(0,a.Z)(function*(r,c=Mo,u){const{appId:g,apiKey:f,measurementId:b}=r.options;if(!g)throw Zt.create("no-app-id");if(!f){if(b)return{measurementId:b,appId:g};throw Zt.create("no-api-key")}const w=c.getThrottleMetadata(g)||{backoffCount:0,throttleEndTimeMillis:Date.now()},O=new Qa;return setTimeout((0,a.Z)(function*(){O.abort()}),void 0!==u?u:Aa),Po({appId:g,apiKey:f,measurementId:b},w,O,c)})).apply(this,arguments)}function Po(r,c,u){return jn.apply(this,arguments)}function jn(){return jn=(0,a.Z)(function*(r,{throttleEndTimeMillis:c,backoffCount:u},g,f=Mo){var b;const{appId:w,measurementId:O}=r;try{yield function Ua(r,c){return new Promise((u,g)=>{const f=Math.max(c-Date.now(),0),b=setTimeout(u,f);r.addEventListener(()=>{clearTimeout(b),g(Zt.create("fetch-throttle",{throttleEndTimeMillis:c}))})})}(g,c)}catch(P){if(O)return Ct.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${O} provided in the "measurementId" field in the local Firebase config. [${P?.message}]`),{appId:w,measurementId:O};throw P}try{const P=yield function Pa(r){return Un.apply(this,arguments)}(r);return f.deleteThrottleMetadata(w),P}catch(P){const Q=P;if(!function ja(r){if(!(r instanceof K.ZR&&r.customData))return!1;const c=Number(r.customData.httpStatus);return 429===c||500===c||503===c||504===c}(Q)){if(f.deleteThrottleMetadata(w),O)return Ct.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${O} provided in the "measurementId" field in the local Firebase config. [${Q?.message}]`),{appId:w,measurementId:O};throw P}const $=503===Number(null===(b=Q?.customData)||void 0===b?void 0:b.httpStatus)?(0,K.$s)(u,f.intervalMillis,_t):(0,K.$s)(u,f.intervalMillis),J={throttleEndTimeMillis:Date.now()+$,backoffCount:u+1};return f.setThrottleMetadata(w,J),Ct.debug(`Calling attemptFetch again in ${$} millis`),Po(r,J,g,f)}}),jn.apply(this,arguments)}class Qa{constructor(){this.listeners=[]}addEventListener(c){this.listeners.push(c)}abort(){this.listeners.forEach(c=>c())}}let Qn,Jn;function Nn(){return(Nn=(0,a.Z)(function*(r,c,u,g,f){if(f&&f.global)r("event",u,g);else{const b=yield c;r("event",u,Object.assign(Object.assign({},g),{send_to:b}))}})).apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(){if(!(0,K.hl)())return Ct.warn(Zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(r){return Ct.warn(Zt.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}return!0})).apply(this,arguments)}function Bn(){return Bn=(0,a.Z)(function*(r,c,u,g,f,b,w){var O;const P=function qa(r){return Se.apply(this,arguments)}(r);P.then(kt=>{u[kt.measurementId]=kt.appId,r.options.measurementId&&kt.measurementId!==r.options.measurementId&&Ct.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${kt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kt=>Ct.error(kt)),c.push(P);const Q=function za(){return Ie.apply(this,arguments)}().then(kt=>{if(kt)return g.getId()}),[$,J]=yield Promise.all([P,Q]);(function La(r){const c=window.document.getElementsByTagName("script");for(const u of Object.values(c))if(u.src&&u.src.includes(Lo)&&u.src.includes(r))return u;return null})(b)||function Ta(r,c){const u=document.createElement("script");u.src=`${Lo}?l=${r}&id=${c}`,u.async=!0,document.head.appendChild(u)}(b,$.measurementId),Jn&&(f("consent","default",Jn),function Uo(r){Jn=r}(void 0)),f("js",new Date);const Qt=null!==(O=w?.config)&&void 0!==O?O:{};return Qt[wa]="firebase",Qt.update=!0,null!=J&&(Qt[ya]=J),f("config",$.measurementId,Qt),Qn&&(f("set",Qn),function jo(r){Qn=r}(void 0)),$.measurementId}),Bn.apply(this,arguments)}class Ba{constructor(c){this.app=c}_delete(){return delete zt[this.app.options.appId],Promise.resolve()}}let zt={},Qo=[];const No={};let Ro,Jt,Oe="dataLayer",Fo="gtag",Yn=!1;function Ga(r,c,u){!function Ya(){const r=[];if((0,K.ru)()&&r.push("This is a browser extension environment."),(0,K.zI)()||r.push("Cookies are not available."),r.length>0){const c=r.map((g,f)=>`(${f+1}) ${g}`).join(" "),u=Zt.create("invalid-analytics-context",{errorInfo:c});Ct.warn(u.message)}}();const g=r.options.appId;if(!g)throw Zt.create("no-app-id");if(!r.options.apiKey){if(!r.options.measurementId)throw Zt.create("no-api-key");Ct.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zt[g])throw Zt.create("already-exists",{id:g});if(!Yn){!function Za(r){let c=[];Array.isArray(window[r])?c=window[r]:window[r]=c}(Oe);const{wrappedGtag:b,gtagCore:w}=function Oa(r,c,u,g,f){let b=function(...w){window[g].push(arguments)};return window[f]&&"function"==typeof window[f]&&(b=window[f]),window[f]=function Ia(r,c,u,g){function b(){return b=(0,a.Z)(function*(w,O,P){try{"event"===w?yield function Sa(r,c,u,g,f){return qn.apply(this,arguments)}(r,c,u,O,P):"config"===w?yield function ka(r,c,u,g,f,b){return Pn.apply(this,arguments)}(r,c,u,g,O,P):"consent"===w?r("consent","update",P):r("set",O)}catch(Q){Ct.error(Q)}}),b.apply(this,arguments)}return function f(w,O,P){return b.apply(this,arguments)}}(b,r,c,u),{gtagCore:b,wrappedGtag:window[f]}}(zt,Qo,No,Oe,Fo);Jt=b,Ro=w,Yn=!0}return zt[g]=function Ja(r,c,u,g,f,b,w){return Bn.apply(this,arguments)}(r,Qo,No,c,Ro,Oe,u),new Ba(r)}function Ka(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}const Do="@firebase/analytics";!function Wa(){(0,p._registerComponent)(new X.wA(ne,(c,{options:u})=>Ga(c.getProvider("app").getImmediate(),c.getProvider("installations-internal").getImmediate(),u),"PUBLIC")),(0,p._registerComponent)(new X.wA("analytics-internal",function r(c){try{const u=c.getProvider(ne).getImmediate();return{logEvent:(g,f,b)=>function Ha(r,c,u,g){r=(0,K.m9)(r),function Na(r,c,u,g,f){return Nn.apply(this,arguments)}(Jt,zt[r.app.options.appId],c,u,g).catch(f=>Ct.error(f))}(u,g,f,b)}}catch(u){throw Zt.create("interop-component-reg-failed",{reason:u})}},"PRIVATE")),(0,p.registerVersion)(Do,"0.9.4"),(0,p.registerVersion)(Do,"0.9.4","esm2017")}();var $a=m(233),Xa=m(34986),tr=m(18505),er=m(49468),nr=m(85363);const or=new C.GfV("7.5.0"),Vn="__angularfire_symbol__analyticsIsSupportedValue",Kn="__angularfire_symbol__analyticsIsSupported",Hn="__angularfire_symbol__remoteConfigIsSupportedValue",Wn="__angularfire_symbol__remoteConfigIsSupported",pe="__angularfire_symbol__messagingIsSupportedValue",Le="__angularfire_symbol__messagingIsSupported";function Jo(r,c,u){if(c){if(1===c.length)return c[0];const b=c.filter(w=>w.app===u);if(1===b.length)return b[0]}return u.container.getProvider(r).getImmediate({optional:!0})}globalThis[Kn]||(globalThis[Kn]=Ka().then(r=>globalThis[Vn]=r).catch(()=>globalThis[Vn]=!1)),globalThis[Le]||(globalThis[Le]=Oo().then(r=>globalThis[pe]=r).catch(()=>globalThis[pe]=!1)),globalThis[Wn]||(globalThis[Wn]=Fi().then(r=>globalThis[Hn]=r).catch(()=>globalThis[Hn]=!1));const Bo=(r,c)=>{const u=c?[c]:(0,_.C6)(),g=[];return u.forEach(f=>{f.container.getProvider(r).instances.forEach(w=>{g.includes(w)||g.push(w)})}),g};function ce(){}class he{constructor(c,u=$a.N){this.zone=c,this.delegate=u}now(){return this.delegate.now()}schedule(c,u,g){const f=this.zone;return this.delegate.schedule(function(w){f.runGuarded(()=>{c.apply(this,[w])})},u,g)}}class Vt{constructor(c){this.zone=c,this.task=null}call(c,u){const g=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ce,{},ce,ce)),u.pipe((0,tr.b)({next:g,complete:g,error:g})).subscribe(c).add(g)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let to=(()=>{class r{constructor(u){this.ngZone=u,this.outsideAngular=u.runOutsideAngular(()=>new he(Zone.current)),this.insideAngular=u.run(()=>new he(Zone.current,Xa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return r.\u0275fac=function(u){return new(u||r)(C.LFG(C.R0b))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Kt(){const r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return r}function Go(r){return Kt(),function Ee(r){return function(u){return(u=u.lift(new Vt(r.ngZone))).pipe((0,er.R)(r.outsideAngular),(0,nr.Q)(r.insideAngular))}}(Kt())(r)}},41559:(jt,bt,m)=>{m.d(bt,{T:()=>at});var C=m(35559),_=m(50727),a=m(55330),p=m(94650),K=m(51009),X=m(36895),ht=m(69359),W=m(1033);function it(Y,F){if(1&Y&&(p.TgZ(0,"div",19)(1,"b",20),p._uU(2),p.qZA(),p._UZ(3,"div",21),p.ALo(4,"safeContentQuestion"),p.ALo(5,"mathJaxContent"),p.qZA()),2&Y){const M=F.$implicit;let y;p.xp6(2),p.hij("",null!==(y=M.alpha)&&void 0!==y?y:M.key,"."),p.xp6(1),p.Q6J("innerHtml",p.lcZ(4,2,p.lcZ(5,4,M.content||"")),p.oJD)}}function R(Y,F){if(1&Y&&(p.TgZ(0,"div",17),p.YNc(1,it,6,6,"div",18),p.qZA()),2&Y){const M=p.oxw();p.Q6J("answerSizeManager",1),p.xp6(1),p.Q6J("ngForOf",null==M.data.obj||null==M.data.obj.question?null:M.data.obj.question.answers)}}function D(Y,F){if(1&Y&&(p.TgZ(0,"h2",22),p._uU(1),p.ALo(2,"mytranslate"),p.qZA()),2&Y){const M=p.oxw();p.xp6(1),p.AsE(" ",p.lcZ(2,2,"lang_auto_dap_an"),": ",null==M.data.obj||null==M.data.obj.question||null==M.data.obj.question.answerResult?null:M.data.obj.question.answerResult.join(", ")," ")}}function lt(Y,F){if(1&Y&&(p.TgZ(0,"div",9)(1,"h2",23),p._uU(2),p.ALo(3,"mytranslate"),p.qZA(),p._UZ(4,"div",24),p.ALo(5,"safeContentQuestion"),p.ALo(6,"mathJaxContent"),p.qZA()),2&Y){const M=p.oxw();p.xp6(2),p.hij(" ",p.lcZ(3,2,"lang_auto_loi_giai")," "),p.xp6(2),p.Q6J("innerHtml",p.lcZ(5,4,p.lcZ(6,6,null==M.data.obj||null==M.data.obj.question?null:M.data.obj.question.help)),p.oJD)}}let at=(()=>{class Y extends a.Q{closeDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(M,y,t){super(M),this.commonService=M,this.dialogRef=y,this.data=t,this.subscriptions=new _.w0}}return Y.\u0275fac=function(M){return new(M||Y)(p.Y36(K.v),p.Y36(C.hV),p.Y36(C.eJ))},Y.\u0275cmp=p.Xpm({type:Y,selectors:[["view-detail-question-share"]],features:[p.qOj],decls:43,vars:38,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto",2,"max-height","calc(100vh - 100px)"],[1,"text-md","mr-auto"],[1,"text-md","mr-auto","mt-2"],[1,"flex","w-full","mt-2"],[1,"text-md"],[1,"text-md","ml-10"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","py-2","mt-2"],[1,"font-medium","text-md","text-center","mb-2"],[1,"tex2jax_process","box-content",2,"width","auto",3,"innerHTML"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],["class","border-t border-slate-200/60 dark:border-darkmode-400 py-2 mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","view-detail-question-shared-KfIEXO44141",1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content",3,"innerHtml"],[1,"font-medium","text-md","text-left","text-success","my-2"],[1,"font-medium","text-md","text-center"],[1,"help-content","box","px-3","mt-1",2,"display","inherit","border-top-right-radius","0","border-top-left-radius","0","box-shadow","none","overflow","auto","padding-bottom","20px",3,"innerHtml"]],template:function(M,y){1&M&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),p._uU(5),p.ALo(6,"mytranslate"),p.TgZ(7,"b"),p._uU(8),p.ALo(9,"mytranslate"),p.qZA()(),p.TgZ(10,"h2",5),p._uU(11),p.ALo(12,"mytranslate"),p.TgZ(13,"b"),p._uU(14),p.ALo(15,"mytranslate"),p.qZA()(),p.TgZ(16,"div",6)(17,"h2",7),p._uU(18),p.ALo(19,"mytranslate"),p.TgZ(20,"b"),p._uU(21),p.ALo(22,"mytranslate"),p.qZA()(),p.TgZ(23,"h2",8),p._uU(24),p.ALo(25,"mytranslate"),p.TgZ(26,"b"),p._uU(27),p.ALo(28,"mytranslate"),p.qZA()()(),p.TgZ(29,"div",9)(30,"h2",10),p._uU(31),p.ALo(32,"mytranslate"),p.qZA(),p._UZ(33,"div",11),p.ALo(34,"safeContentQuestion"),p.ALo(35,"mathJaxContent"),p.YNc(36,R,2,2,"div",12),p.YNc(37,D,3,4,"h2",13),p.qZA(),p.YNc(38,lt,7,8,"div",14),p.qZA()()(),p.TgZ(39,"div",15)(40,"button",16),p.NdJ("click",function(){return y.closeDialog()}),p._uU(41),p.ALo(42,"mytranslate"),p.qZA()()()),2&M&&(p.xp6(5),p.hij(" ",p.lcZ(6,14,"lang_test_market_question_info"),": "),p.xp6(3),p.Oqu(p.lcZ(9,16,null==y.data.obj?null:y.data.obj.knowledgeName)),p.xp6(3),p.hij(" ",p.lcZ(12,18,"lang_auto_muc_do_nhan_biet"),": "),p.xp6(3),p.Oqu(p.lcZ(15,20,null==y.data.obj?null:y.data.obj.questionTagName)),p.xp6(4),p.hij(" ",p.lcZ(19,22,"lang_auto_lop_hoc"),": "),p.xp6(3),p.Oqu(p.lcZ(22,24,null==y.data.obj?null:y.data.obj.levelName)),p.xp6(3),p.hij(" ",p.lcZ(25,26,"lang_auto_mon_hoc"),": "),p.xp6(3),p.Oqu(p.lcZ(28,28,null==y.data.obj?null:y.data.obj.subjectName)),p.xp6(4),p.hij(" ",p.lcZ(32,30,"lang_auto_noi_dung_cau_hoi")," "),p.xp6(2),p.Q6J("innerHTML",p.lcZ(34,32,p.lcZ(35,34,null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.content)),p.oJD),p.xp6(3),p.Q6J("ngIf",1==(null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.answerType)&&(null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.answers)&&(null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.answers.length)>0),p.xp6(1),p.Q6J("ngIf",null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.answerResult),p.xp6(1),p.Q6J("ngIf",null==y.data.obj||null==y.data.obj.question?null:y.data.obj.question.help),p.xp6(3),p.hij(" ",p.lcZ(42,36,"lang_auto_dong")," "))},dependencies:[X.sg,X.O5,ht.s,W.bT,W.QA,W.Ev],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),Y})()},83055:(jt,bt,m)=>{m.d(bt,{C:()=>Qe});var C=m(70655),_=m(7100),a=m(94650),p=m(24006),K=m(8277),X=m(3238),ht=m(24149),W=m(96551),it=m(72491),R=m(55330),D=m(51442),lt=m(51009),at=m(57677),Y=m(45511),F=m(36895),M=m(24363),y=m(18455),t=m(29203),S=m(46289),j=m(49692),nt=m(93194),q=m(1033);function gt(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function rt(L,st){if(1&L&&(a.TgZ(0,"mat-option",58),a._uU(1),a.qZA()),2&L){const I=st.$implicit;a.Q6J("value",I.id),a.xp6(1),a.hij(" ",I.name," ")}}function G(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function mt(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function tt(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function xt(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Et(L,st){1&L&&(a.TgZ(0,"span"),a._uU(1,"OK"),a.qZA())}function B(L,st){1&L&&(a.TgZ(0,"span"),a._uU(1,"OK"),a.qZA())}function ut(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function H(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function dt(L,st){1&L&&(a.TgZ(0,"div",57),a._uU(1),a.ALo(2,"mytranslate"),a.qZA()),2&L&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"lang_test_market_must_accept_policy")," "))}function ft(L,st){if(1&L){const I=a.EpF();a.TgZ(0,"div",59)(1,"button",60),a.NdJ("click",function(){a.CHM(I);const U=a.oxw();return a.KtG(U.acceptSendRequest(!0))}),a._uU(2),a.ALo(3,"mytranslate"),a.qZA(),a.TgZ(4,"button",61),a.NdJ("click",function(){a.CHM(I);const U=a.oxw();return a.KtG(U.acceptSendRequest(!1))}),a._uU(5),a.ALo(6,"mytranslate"),a.qZA()()}if(2&L){const I=a.oxw();a.xp6(1),a.Q6J("disabled",I.form.invalid||I.sendRequest||!I.totalBalance||2!=I.citizenIdImages.length),a.xp6(1),a.hij(" ",a.lcZ(3,3,"lang_test_market_request_with_draw")," "),a.xp6(3),a.hij(" ",a.lcZ(6,5,"lang_auto_huy")," ")}}function Nt(L,st){if(1&L){const I=a.EpF();a.TgZ(0,"div",67),a.NdJ("click",function(){a.CHM(I);const U=a.oxw().$implicit,V=a.oxw(2);return a.KtG(V.removeImg(U))}),a.O4$(),a.TgZ(1,"svg",68),a._UZ(2,"line",69)(3,"line",70),a.qZA()()}}function z(L,st){if(1&L&&(a.TgZ(0,"div",63)(1,"div",64),a._UZ(2,"img",65),a.ALo(3,"mycdn"),a.qZA(),a.YNc(4,Nt,4,0,"div",66),a.qZA()),2&L){const I=st.$implicit,T=a.oxw(2);a.xp6(2),a.Q6J("src",a.lcZ(3,2,I),a.LSH),a.xp6(2),a.Q6J("ngIf",T.enableEditInfo)}}function Ue(L,st){if(1&L&&(a.TgZ(0,"div"),a.YNc(1,z,5,4,"div",62),a.qZA()),2&L){const I=a.oxw();a.xp6(1),a.Q6J("ngForOf",I.citizenIdImages)}}function je(L,st){1&L&&(a.TgZ(0,"div",73),a.O4$(),a.TgZ(1,"svg",74)(2,"g",75)(3,"g",76),a._UZ(4,"circle",77),a.TgZ(5,"path",78),a._UZ(6,"animateTransform",79),a.qZA()()()(),a.kcU(),a.TgZ(7,"h2",53),a._uU(8),a.ALo(9,"mytranslate"),a.qZA()()),2&L&&(a.xp6(8),a.hij(" ",a.lcZ(9,1,"lang_test_market_uploading_citizenID_images")," "))}function Bt(L,st){if(1&L){const I=a.EpF();a.TgZ(0,"div",73),a.O4$(),a.TgZ(1,"svg",80),a._UZ(2,"path",81)(3,"polyline",82)(4,"line",83),a.qZA(),a.kcU(),a.TgZ(5,"span",84),a._uU(6),a.ALo(7,"mytranslate"),a.qZA(),a.TgZ(8,"input",85,86),a.NdJ("change",function(U){a.CHM(I);const V=a.oxw(2);return a.KtG(V.selectFile(U))}),a.qZA()()}2&L&&(a.xp6(6),a.Oqu(a.lcZ(7,1,"lang_auto_upload_file")))}function Yt(L,st){if(1&L&&(a.TgZ(0,"div",71),a.YNc(1,je,10,3,"div",72),a.YNc(2,Bt,10,3,"div",72),a.qZA()),2&L){const I=a.oxw();a.xp6(1),a.Q6J("ngIf",I.loadingUpload),a.xp6(1),a.Q6J("ngIf",!I.loadingUpload)}}function ve(L,st){if(1&L){const I=a.EpF();a.TgZ(0,"div",87)(1,"div",59)(2,"button",88),a.NdJ("click",function(){a.CHM(I);const U=a.oxw();return a.KtG(U.acceptSendRequest(!0))}),a._uU(3),a.ALo(4,"mytranslate"),a.qZA(),a.TgZ(5,"button",89),a.NdJ("click",function(){a.CHM(I);const U=a.oxw();return a.KtG(U.acceptSendRequest(!1))}),a._uU(6),a.ALo(7,"mytranslate"),a.qZA()()()}if(2&L){const I=a.oxw();a.xp6(2),a.Q6J("disabled",I.form.invalid||I.sendRequest||!I.totalBalance||2!=I.citizenIdImages.length),a.xp6(1),a.hij(" ",a.lcZ(4,3,"lang_test_market_request_with_draw")," "),a.xp6(3),a.hij(" ",a.lcZ(7,5,"lang_auto_huy")," ")}}let Qe=(()=>{class L extends R.Q{getCurLang(){return this.commonService.getCurrentLang()}uploadFile(I){I?(this.loadingUpload=!0,(0,D.Or)(I.type)?(0,D.hv)(I).then(T=>{this.apiUploadService.uploadToCdnForCitizenId(T).subscribe(U=>{var V;1==U.success?(!(null===(V=U.data)||void 0===V)&&V.url&&this.citizenIdImages.push(U.data.url),this.loadingUpload=!1):(this.loadingUpload=!1,this.showErrorSnack("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi[SPLIT_LANG] [SPLIT_LANG]"+U.message))})}):(this.showErrorSnack("lang_auto_vui_long_dung_dinh_dang_anh"),this.loadingUpload=!1)):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}removeImg(I){var T;let U=null===(T=this.citizenIdImages)||void 0===T?void 0:T.filter(V=>V!==I);this.citizenIdImages=U}enableEdit(){var I,T,U,V,ot,Tt,vt,yt,et,wt;this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(null!==(I=this.transactionInfo.bankId)&&void 0!==I?I:1),this.form.controls.accountNameControl.setValue(null!==(T=this.transactionInfo.bankHolder)&&void 0!==T?T:""),this.form.controls.address.setValue(null!==(U=this.transactionInfo.address)&&void 0!==U?U:""),this.form.controls.contactPhone.setValue(null!==(V=this.balanceUserInfo.contactPhone)&&void 0!==V?V:""),this.form.controls.bankNumber.setValue(null!==(ot=this.transactionInfo.bankAccountNumber)&&void 0!==ot?ot:""),this.form.controls.idCard.setValue(null!==(Tt=this.balanceUserInfo.idCard)&&void 0!==Tt?Tt:""),this.form.controls.birthday.setValue(null!==(vt=this.balanceUserInfo.birthday)&&void 0!==vt?vt:""),this.form.controls.idIssuedBy.setValue(null!==(yt=this.balanceUserInfo.idIssuedBy)&&void 0!==yt?yt:""),this.form.controls.idIssuedAt.setValue(null!==(et=this.balanceUserInfo.idIssuedAt)&&void 0!==et?et:""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=null!==(wt=this.transactionInfo.bankId)&&void 0!==wt?wt:1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(I){this.currentBankId=I}removeSignatureKeyImages(I){if(0==I.length)return[];{let T=[];return I.forEach(U=>{T.push(U.substring(0,U.indexOf("?")))}),T}}acceptSendRequest(I){var T,U,V,ot,Tt,vt,yt,et,wt;if(I){this.sendRequest=!0;let Mt=this.commonService.getFormObj(this.form),de={bankId:null!==(T=Mt.bankId)&&void 0!==T?T:this.transactionInfo.bankId,bankHolder:null!==(U=Mt.accountNameControl)&&void 0!==U?U:this.transactionInfo.bankHolder,address:null!==(V=Mt.address)&&void 0!==V?V:this.transactionInfo.address,bankAccountNumber:null!==(ot=Mt.bankNumber)&&void 0!==ot?ot:this.transactionInfo.bankAccountNumber,contactPhone:null!==(Tt=Mt.contactPhone)&&void 0!==Tt?Tt:this.balanceUserInfo.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:null!==(vt=Mt.birthday)&&void 0!==vt?vt:this.balanceUserInfo.birthday,idCard:null!==(yt=Mt.idCard)&&void 0!==yt?yt:this.balanceUserInfo.idCard,idIssuedBy:null!==(et=Mt.idIssuedBy)&&void 0!==et?et:this.balanceUserInfo.idIssuedBy,idIssuedAt:null!==(wt=Mt.idIssuedAt)&&void 0!==wt?wt:this.balanceUserInfo.idIssuedAt};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(de).subscribe(ie=>{var Rt;1===ie.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(null!==(Rt=ie.message)&&void 0!==Rt?Rt:"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(I=>{var T,U,V;1===I.success?(this.listBanks=null!==(U=null===(T=I.data)||void 0===T?void 0:T.objs)&&void 0!==U?U:[],this.successStatusObj()):this.errorStatusObj(null!==(V=I.message)&&void 0!==V?V:"",!0)}))}isEmptyObj(I){for(var T in I)if(I.hasOwnProperty(T))return!1;return!0}constructor(I,T,U,V){super(T),this.formBuilder=I,this.commonService=T,this.testMarketQuestionService=U,this.apiUploadService=V,this.form=new p.cw({}),this.totalBalance=0,this.balanceUserInfo={},this.closeRequest=new a.vpe,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.loadingUpload=!1,this.citizenIdImages=[],this.currentBankId=1,this.selectFile=ot=>(0,C.mG)(this,void 0,void 0,function*(){let yt=ot.target.files;try{for(var et in yt)"length"!=et&&"item"!=et&&this.uploadFile(yt[et]);ot.target.setAttribute("value","")}catch{}})}ngOnInit(){var I,T,U,V,ot,Tt,vt,yt,et,wt;this.getBankObjs(),(!this.transactionInfo||this.isEmptyObj(this.transactionInfo))&&(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo.idImages&&this.balanceUserInfo.idImages.length?this.balanceUserInfo.idImages:[],this.isMobile=this.commonService.isMobileDevice(),this.form=this.formBuilder.group({accountNameControl:new p.NI({value:null!==(I=this.transactionInfo.bankHolder)&&void 0!==I?I:"",disabled:!this.enableEditInfo},[p.kI.required]),bankId:new p.NI({value:null!==(T=this.transactionInfo.bankId)&&void 0!==T?T:1,disabled:!this.enableEditInfo},[p.kI.required]),bankNumber:new p.NI({value:null!==(U=this.transactionInfo.bankAccountNumber)&&void 0!==U?U:"",disabled:!this.enableEditInfo},[p.kI.required,p.kI.pattern("^[A-Za-z0-9]*$")]),address:new p.NI({value:null!==(V=this.transactionInfo.address)&&void 0!==V?V:"",disabled:!this.enableEditInfo},[p.kI.required]),contactPhone:new p.NI({value:null!==(ot=this.balanceUserInfo.contactPhone)&&void 0!==ot?ot:"",disabled:!this.enableEditInfo},[p.kI.required,p.kI.pattern("^[0-9]*$"),p.kI.minLength(10)]),idCard:new p.NI({value:null!==(Tt=this.balanceUserInfo.idCard)&&void 0!==Tt?Tt:"",disabled:!this.enableEditInfo},[p.kI.required,p.kI.pattern("^[0-9]*$")]),idIssuedBy:new p.NI({value:null!==(vt=this.balanceUserInfo.idIssuedBy)&&void 0!==vt?vt:"",disabled:!this.enableEditInfo},[p.kI.required]),idIssuedAt:new p.NI({value:null!==(yt=this.balanceUserInfo.idIssuedAt)&&void 0!==yt?yt:"",disabled:!this.enableEditInfo},[p.kI.required]),birthday:new p.NI({value:null!==(et=this.balanceUserInfo.birthday)&&void 0!==et?et:"",disabled:!this.enableEditInfo},[p.kI.required]),acceptPolicy:new p.NI(!1,[p.kI.requiredTrue])}),this.currentBankId=null!==(wt=this.transactionInfo.bankId)&&void 0!==wt?wt:1}}return L.\u0275fac=function(I){return new(I||L)(a.Y36(p.qu),a.Y36(lt.v),a.Y36(at.Q_),a.Y36(Y.$))},L.\u0275cmp=a.Xpm({type:L,selectors:[["withdraw-balance"]],inputs:{transactionInfo:"transactionInfo",totalBalance:"totalBalance",balanceUserInfo:"balanceUserInfo"},outputs:{closeRequest:"closeRequest"},features:[a._Bn([{provide:_.fM,useClass:ht.HF,deps:[X.Ad,K.o8]},{provide:_.ab,useFactory:W.fX,deps:[it.O]}]),a.qOj],decls:121,vars:90,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","edit",1,"ml-5","mr-2",2,"width","1.25rem!important"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline"],["formControlName","bankId","name","bankIdInput",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"hideTime"],["idIssuedAt",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"placeholder","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["birthday",""],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-TZ9ubfQrPqw","target","blank",1,"link__color","link__hover",3,"href"],["azt-track-service","withdraw-balance-Ec3HPg0PI","target","_blank",1,"link__color","link__hover",3,"href","download"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],["class","px-4 flex items-center justify-center cursor-pointer relative my-4",4,"ngIf"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["width","40","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","black",1,"w-5","h-5","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],["id","horizontal-form-1","type","file","id","inp_hidden","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(I,T){if(1&I){const U=a.EpF();a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),a._uU(5),a.ALo(6,"mytranslate"),a.ALo(7,"number"),a.qZA()(),a.TgZ(8,"div",5)(9,"h2",6),a._uU(10),a.ALo(11,"mytranslate"),a.qZA(),a.TgZ(12,"div",7),a.NdJ("click",function(){return T.enableEdit()}),a._UZ(13,"lucide-icon",8),a._uU(14),a.ALo(15,"mytranslate"),a.qZA()(),a.TgZ(16,"form",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"label",14),a._uU(22),a.ALo(23,"mytranslate"),a.qZA(),a._UZ(24,"input",15),a.YNc(25,gt,3,3,"div",16),a.qZA(),a.TgZ(26,"div",13)(27,"label",17),a._uU(28),a.ALo(29,"mytranslate"),a.qZA(),a.TgZ(30,"mat-form-field",18)(31,"mat-select",19),a.NdJ("valueChange",function(ot){return T.currentBankId=ot})("selectionChange",function(ot){return T.selectBank(ot.value)}),a.YNc(32,rt,2,2,"mat-option",20),a.qZA()(),a.YNc(33,G,3,3,"div",16),a.qZA(),a.TgZ(34,"div",13)(35,"label",21),a._uU(36),a.ALo(37,"mytranslate"),a.qZA(),a._UZ(38,"input",22),a.YNc(39,mt,3,3,"div",16),a.qZA(),a.TgZ(40,"div",23)(41,"h2",24),a._uU(42),a.ALo(43,"mytranslate"),a.qZA()(),a.TgZ(44,"div",13)(45,"label",25),a._uU(46),a.ALo(47,"mytranslate"),a.qZA(),a._UZ(48,"input",26),a.YNc(49,tt,3,3,"div",16),a.qZA(),a.TgZ(50,"div",13)(51,"label",27),a._uU(52),a.ALo(53,"mytranslate"),a.qZA(),a._UZ(54,"input",28),a.YNc(55,xt,3,3,"div",16),a.qZA(),a.TgZ(56,"div",13)(57,"label",29),a._uU(58),a.ALo(59,"mytranslate"),a.qZA(),a.TgZ(60,"mat-form-field",30)(61,"input",31),a.NdJ("click",function(){a.CHM(U);const ot=a.MAs(67);return a.KtG(ot.open())}),a.ALo(62,"mytranslate"),a.qZA(),a.TgZ(63,"button",32),a.NdJ("click",function(ot){return a.CHM(U),a.MAs(67).open(),a.KtG(ot.stopPropagation())}),a.TgZ(64,"span",33),a._UZ(65,"lucide-icon",34),a.qZA()(),a.TgZ(66,"ngx-mat-datetime-picker",35,36),a.YNc(68,Et,2,0,"ng-template"),a.qZA()()(),a.TgZ(69,"div",13)(70,"label",37),a._uU(71),a.ALo(72,"mytranslate"),a.qZA(),a.TgZ(73,"mat-form-field",30)(74,"input",38),a.NdJ("click",function(){a.CHM(U);const ot=a.MAs(80);return a.KtG(ot.open())}),a.ALo(75,"mytranslate"),a.qZA(),a.TgZ(76,"button",39),a.NdJ("click",function(ot){return a.CHM(U),a.MAs(80).open(),a.KtG(ot.stopPropagation())}),a.TgZ(77,"span",33),a._UZ(78,"lucide-icon",34),a.qZA()(),a.TgZ(79,"ngx-mat-datetime-picker",35,40),a.YNc(81,B,2,0,"ng-template"),a.qZA()()(),a.TgZ(82,"div",13)(83,"label",41),a._uU(84),a.ALo(85,"mytranslate"),a.qZA(),a._UZ(86,"input",42),a.YNc(87,ut,3,3,"div",16),a.qZA(),a.TgZ(88,"div",13)(89,"label",43),a._uU(90),a.ALo(91,"mytranslate"),a.qZA(),a._UZ(92,"input",44),a.YNc(93,H,3,3,"div",16),a.qZA(),a.TgZ(94,"div",13)(95,"div",45),a._UZ(96,"input",46),a.TgZ(97,"label",47),a._uU(98),a.ALo(99,"mytranslate"),a.TgZ(100,"a",48),a._uU(101),a.ALo(102,"mytranslate"),a.qZA(),a._uU(103),a.ALo(104,"mytranslate"),a.TgZ(105,"a",49),a.ALo(106,"convertRawLinkOfGitHubWithLocale"),a._uU(107),a.ALo(108,"mytranslate"),a.qZA(),a._uU(109),a.ALo(110,"mytranslate"),a.qZA()(),a.YNc(111,dt,3,3,"div",16),a.qZA(),a.YNc(112,ft,7,7,"div",50),a.qZA(),a.TgZ(113,"div",51)(114,"div",52)(115,"h2",53),a._uU(116),a.ALo(117,"mytranslate"),a.qZA()(),a.YNc(118,Ue,2,1,"div",54),a.YNc(119,Yt,3,2,"div",55),a.qZA(),a.YNc(120,ve,8,7,"div",56),a.qZA()()()()()()}if(2&I){const U=a.MAs(67),V=a.MAs(80);a.xp6(5),a.AsE(" ",a.lcZ(6,44,"lang_test_market_balance"),"",a.lcZ(7,46,T.totalBalance),"\u0111 "),a.xp6(5),a.hij(" ",a.lcZ(11,48,"lang_test_market_bank_infomation")," "),a.xp6(4),a.hij(" ",a.lcZ(15,50,T.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),a.xp6(2),a.Q6J("formGroup",T.form),a.xp6(6),a.hij(" ",a.lcZ(23,52,"lang_test_market_bankHolder")," "),a.xp6(3),a.Q6J("ngIf",T.form.controls.accountNameControl.dirty&&T.form.controls.accountNameControl.errors),a.xp6(3),a.hij(" ",a.lcZ(29,54,"lang_test_market_bankName")," "),a.xp6(3),a.Q6J("value",T.currentBankId),a.xp6(1),a.Q6J("ngForOf",T.listBanks),a.xp6(1),a.Q6J("ngIf",T.form.controls.bankId.dirty&&T.form.controls.bankId.errors),a.xp6(3),a.hij(" ",a.lcZ(37,56,"lang_test_market_bankNumber")," "),a.xp6(3),a.Q6J("ngIf",T.form.controls.bankNumber.dirty&&T.form.controls.bankNumber.errors),a.xp6(3),a.hij(" ",a.lcZ(43,58,"lang_test_market_personal_infomation")," "),a.xp6(4),a.hij(" ",a.lcZ(47,60,"lang_test_market_citizen_id")," "),a.xp6(3),a.Q6J("ngIf",T.form.controls.idCard.dirty&&T.form.controls.idCard.errors),a.xp6(3),a.hij(" ",a.lcZ(53,62,"lang_test_market_issued_by")," "),a.xp6(3),a.Q6J("ngIf",T.form.controls.idIssuedBy.dirty&&T.form.controls.idIssuedBy.errors),a.xp6(3),a.hij(" ",a.lcZ(59,64,"lang_test_market_issued_at")," "),a.xp6(3),a.s9C("placeholder",a.lcZ(62,66,"lang_test_market_issued_at")),a.Q6J("ngxMatDatetimePicker",U),a.xp6(5),a.Q6J("hideTime",!0),a.xp6(5),a.hij(" ",a.lcZ(72,68,"lang_auto_ngay_sinh")," "),a.xp6(3),a.s9C("placeholder",a.lcZ(75,70,"lang_auto_ngay_sinh")),a.Q6J("ngxMatDatetimePicker",V),a.xp6(5),a.Q6J("hideTime",!0),a.xp6(5),a.hij(" ",a.lcZ(85,72,"lang_number_phone")," "),a.xp6(3),a.Q6J("ngIf",T.form.controls.contactPhone.dirty&&T.form.controls.contactPhone.errors),a.xp6(3),a.hij(" ",a.lcZ(91,74,"lang_test_market_address")," "),a.xp6(3),a.Q6J("ngIf",T.form.controls.address.dirty&&T.form.controls.address.errors),a.xp6(5),a.hij(" ",a.lcZ(99,76,"lang_test_market_Azota_policy_1"),""),a.xp6(2),a.s9C("href","/"+T.getCurLang()+"/admin/test-market/privacy",a.LSH),a.xp6(1),a.Oqu(a.lcZ(102,78,"lang_test_market_Azota_policy_2")),a.xp6(2),a.hij("\xa0",a.lcZ(104,80,"lang_auto_va"),"\xa0"),a.xp6(2),a.s9C("href",a.lcZ(106,82,"azota_assets/contract/contract_azota_vn.docx?raw=true"),a.LSH),a.s9C("download","contract_azota_vn.docx"),a.xp6(2),a.Oqu(a.lcZ(108,84,"lang_test_market_Azota_policy_contract")),a.xp6(2),a.hij("",a.lcZ(110,86,"lang_test_market_Azota_policy_3")," "),a.xp6(2),a.Q6J("ngIf",T.form.controls.acceptPolicy.dirty&&T.form.controls.acceptPolicy.errors&&!T.form.controls.acceptPolicy.value),a.xp6(1),a.Q6J("ngIf",!T.isMobile),a.xp6(4),a.hij(" ",a.lcZ(117,88,"lang_test_market_upload_citizenID_images")," "),a.xp6(2),a.Q6J("ngIf",T.citizenIdImages.length>0),a.xp6(1),a.Q6J("ngIf",T.enableEditInfo),a.xp6(1),a.Q6J("ngIf",T.isMobile)}},dependencies:[F.sg,F.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,M.CK,y.v_,y.nX,t.k0,S.x8,_.AB,_.g2,p.sg,p.u,j.M,nt.Nh5,F.JJ,q.bT,q.GT,q.Rh],encapsulation:2}),L})()},94990:(jt,bt,m)=>{m.r(bt),m.d(bt,{AuthModule:()=>rl});var C=m(36895),_=m(12011),a=m(24006),p=m(34793),K=m(39102),X=m(93194),ht=m(34108),W=m(63728),it=m(59650),R=m(47470),D=m(75658),lt=m(76310),at=m(92340),Y=m(8785),F=m(51178),M=m(39841),y=m(55330),t=m(94650),S=m(51009),j=m(76056),nt=m(4307),q=m(57677),gt=m(36307),rt=m(91350),G=m(20371),mt=m(30004),tt=m(7100),xt=m(80529),Et=m(3238),B=m(18455),ut=m(35559),H=m(11481),dt=m(34782),ft=m(24363),Nt=m(46289),z=m(1033);function Ue(n,s){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function je(n,s){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Bt(n,s){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Yt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",17),t.NdJ("valueChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.department_select=i)})("selectionChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.selectDepartment(i.value))}),t.ALo(3,"mytranslate"),t.YNc(4,Bt,2,2,"mat-option",7),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,3,"lang_testbank_utils_school_info_select_department")),t.Q6J("value",e.department_select),t.xp6(2),t.Q6J("ngForOf",e.departments)}}function ve(n,s){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Qe(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",18),t._uU(2,"\xa0"),t.qZA())}let L=(()=>{class n extends y.Q{ngOnInit(){var e,o;"boolean"!=typeof this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,(null!==(e=this.infoSchool.typeId)&&void 0!==e?e:0)<=3?this.GetDistrictsByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)}))}):(null!==(o=this.infoSchool.typeId)&&void 0!==o?o:0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),this.form=this.formBuilder.group({LocationName:new a.p4("",a.kI.required),LevelName:new a.p4("",a.kI.required),DepartmentName:new a.p4("",a.kI.required),SchoolName:new a.p4("",a.kI.required)}),super.ngOnInit()}initData(){this.GetProvinces(),this.GetTypeSchool()}selectLocation(e){this.location_select=e,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}selectLevel(e){this.schools=[],this.school_select=null,this.level_select=e,e<=3?(this.getListSchool(),this.GetDistrictsByProvince()):e>3&&this.getListSchoolByProvince()}selectDepartment(e){this.schools=[],this.school_select=null,this.department_select=e,this.getListSchool()}selectSchool(e){this.school_select=e}saveInfo(){var e;if(this.school_select)if(-1===this.school_select)this.btnCloseDialog(!0);else{let o={schoolId:null!==(e=this.school_select)&&void 0!==e?e:0};this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost(o).subscribe(i=>{var l,d;i&&1==i.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(null!==(d=null===(l=i.data)||void 0===l?void 0:l.obj)&&void 0!==d&&d)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")})}else this.showErrorSnack("lang_auto_vui_long_chon_truong_minh_dang_giang_day")}btnCloseDialog(e){this.dialogRef.close(e)}GetProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(e=>{var o,i;e&&(this.locations=null!==(i=null===(o=e.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:new Array,this.locations=this.sortName(this.locations))})}GetTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(e=>{var o,i;e&&(this.levels=null!==(i=null===(o=e.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:new Array)})}GetDistrictsByProvince(e=(()=>{})){var o;this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(null!==(o=this.location_select)&&void 0!==o?o:0).subscribe(i=>{var l,d;i&&(this.departments=null!==(d=null===(l=i.data)||void 0===l?void 0:l.objs)&&void 0!==d?d:new Array,this.departments=this.sortName(this.departments),e())})}getListSchoolByProvince(e=(()=>{})){var o;if(this.location_select&&this.level_select){let i=null!==(o=this.commonService.myTranslateInstant("lang_auto_other"))&&void 0!==o?o:"";this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(l=>{var d,h,v,x;l&&(this.schools=null!==(h=null===(d=l.data)||void 0===d?void 0:d.objs)&&void 0!==h?h:new Array,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:i,districtId:null!==(v=this.department_select)&&void 0!==v?v:0,typeId:null!==(x=this.level_select)&&void 0!==x?x:0}),e())})}}getListSchool(e=(()=>{})){var o;if(this.department_select&&this.level_select){let i=null!==(o=this.commonService.myTranslateInstant("lang_auto_other"))&&void 0!==o?o:"";this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(l=>{var d,h,v,x;l&&(this.schools=null!==(h=null===(d=l.data)||void 0===d?void 0:d.objs)&&void 0!==h?h:new Array,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:i,districtId:null!==(v=this.department_select)&&void 0!==v?v:0,typeId:null!==(x=this.level_select)&&void 0!==x?x:0}),e())})}}sortName(e){return e.sort((o,i)=>{var l,d,h,v;return null!==(v=null===(l=o.name)||void 0===l?void 0:l.trim().localeCompare(null!==(h=null===(d=i.name)||void 0===d?void 0:d.trim())&&void 0!==h?h:""))&&void 0!==v?v:-1}),e}constructor(e,o,i,l,d,h,v,x){super(e),this.commonService=e,this.dom=o,this.formBuilder=i,this.schoolConfigService=l,this.schoolInfoService=d,this.browserStorageService=h,this.dialogRef=v,this.infoSchool=!1,this.form=new a.nJ({}),this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=x.infoSchool}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(H.H7),t.Y36(a.QS),t.Y36(q.Tt),t.Y36(q.pX),t.Y36(dt.z),t.Y36(ut.hV,8),t.Y36(ut.eJ,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-school-info"]],features:[t.qOj],decls:32,vars:31,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["name","LocationName",3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],[1,"mt-3","mb-2","text-right"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"disabled","click"],[4,"ngIf"],[3,"value"],["name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",2),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-select",6),t.NdJ("valueChange",function(l){return o.location_select=l})("selectionChange",function(l){return o.selectLocation(l.value)}),t.ALo(11,"mytranslate"),t.YNc(12,Ue,2,2,"mat-option",7),t.qZA()()(),t.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-select",8),t.NdJ("valueChange",function(l){return o.level_select=l})("selectionChange",function(l){return o.selectLevel(l.value)}),t.ALo(16,"mytranslate"),t.YNc(17,je,2,2,"mat-option",7),t.qZA()()(),t.YNc(18,Yt,5,5,"div",9),t.TgZ(19,"div",10)(20,"mat-form-field",5)(21,"mat-select",11),t.NdJ("valueChange",function(l){return o.school_select=l})("selectionChange",function(l){return o.selectSchool(l.value)}),t.ALo(22,"mytranslate"),t.YNc(23,ve,2,2,"mat-option",7),t.qZA()()()(),t.TgZ(24,"div",12)(25,"button",13),t.NdJ("click",function(){return o.btnCloseDialog(!1)}),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"button",14),t.NdJ("click",function(){return o.saveInfo()}),t.YNc(29,Qe,3,0,"span",15),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()),2&e){let i;t.xp6(2),t.hij(" ",t.lcZ(3,17,"lang_auto_cap_nhat_thong_tin_truong")," "),t.xp6(3),t.hij(" ",t.lcZ(6,19,"lang_testbank_utils_school_info_note_tutorial")," "),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(3),t.s9C("placeholder",t.lcZ(11,21,"lang_testbank_utils_school_info_select_province")),t.Q6J("value",o.location_select),t.xp6(2),t.Q6J("ngForOf",o.locations),t.xp6(3),t.s9C("placeholder",t.lcZ(16,23,"lang_testbank_utils_school_info_select_level")),t.Q6J("value",o.level_select),t.xp6(2),t.Q6J("ngForOf",o.levels),t.xp6(1),t.Q6J("ngIf",(null!==(i=o.level_select)&&void 0!==i?i:0)<=3),t.xp6(3),t.s9C("placeholder",t.lcZ(22,25,"lang_testbank_utils_school_info_select_school")),t.Q6J("value",o.school_select),t.xp6(2),t.Q6J("ngForOf",o.schools),t.xp6(3),t.hij(" ",t.lcZ(27,27,"lang_testbank_utils_school_info_later")," "),t.xp6(2),t.Q6J("disabled",o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!0===o.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(31,29,"lang_buttom_save")," ")}},dependencies:[C.sg,C.O5,ft.CK,B.v_,Nt.x8,a._Y,a.JL,a.sg,z.bT],encapsulation:2}),n})();var st=m(24149),I=m(96551),T=m(72491),U=m(41303),V=m(51442),ot=m(88386),Tt=m(45511),vt=m(29203),yt=m(64123),et=m(49692);function wt(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function Mt(n,s){1&n&&(t.TgZ(0,"div",69),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function de(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1,"OK"),t.qZA())}function ie(n,s){if(1&n&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.desc)}}function Rt(n,s){if(1&n&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ne(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",73)(1,"div",74)(2,"p",75),t._uU(3),t.qZA()(),t.TgZ(4,"div",76)(5,"mat-form-field",48)(6,"mat-label"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"mat-select",49),t.NdJ("selectionChange",function(i){const d=t.CHM(e).$implicit,h=t.oxw(3);return t.KtG(h.selectSubject(i,d))}),t.YNc(10,Rt,2,2,"mat-option",50),t.qZA()()()()}if(2&n){const e=s.$implicit,o=t.oxw(3);let i;t.xp6(3),t.Oqu(null==e.class?null:e.class.desc),t.xp6(4),t.Oqu(t.lcZ(8,4,"lang_auto_chon_mon")),t.xp6(2),t.Q6J("value",e.subjectsIds),t.xp6(1),t.Q6J("ngForOf",o.valueSubjectSurvey[null!==(i=null==e.class?null:e.class.value)&&void 0!==i?i:0])}}const be=function(n,s){return{"lg:col-span-12":n,"lg:col-span-6":s}};function Fe(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",71)(2,"label",41),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,Ne,11,6,"div",72),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(5,be,e.dataObjs.length>1,1==e.dataObjs.length)),t.xp6(2),t.Oqu(t.lcZ(4,3,"lang_auto_mon_hoc")),t.xp6(2),t.Q6J("ngForOf",e.dataObjs)}}function ei(n,s){1&n&&t._UZ(0,"input",77)}function ni(n,s){1&n&&(t._UZ(0,"input",78),t.ALo(1,"mytranslate")),2&n&&t.s9C("placeholder",t.lcZ(1,1,"lang_auto_nhap_email")+"...")}function oi(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("*",t.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function Re(n,s){if(1&n&&(t.TgZ(0,"div",79),t.YNc(1,oi,3,3,"div",51),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("email","email")||e.getErrorType("email","pattern"))}}function ii(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",80),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.goToConfirmEmail())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")))}function De(n,s){1&n&&t._UZ(0,"input",81)}function io(n,s){1&n&&(t._UZ(0,"input",82),t.ALo(1,"mytranslate")),2&n&&t.s9C("placeholder",t.lcZ(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function ao(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function ai(n,s){if(1&n&&(t.TgZ(0,"div",79),t.YNc(1,ao,3,3,"div",51),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","pattern")||e.getErrorType("phone","minlength")||e.getErrorType("phone","maxlength"))}}function ri(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",83),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.goToConfirm())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")))}function ze(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",84)(1,"g",85)(2,"g",86),t._UZ(3,"circle",87),t.TgZ(4,"path",88),t._UZ(5,"animateTransform",89),t.qZA()()()())}function si(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"form",4)(1,"div",5)(2,"div",6),t._UZ(3,"azt-create-avatar",7),t.qZA(),t.TgZ(4,"div",8)(5,"div",9)(6,"input",10,11),t.NdJ("change",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.fileChangeEvent(i))}),t.qZA(),t.TgZ(8,"button",12),t.NdJ("click",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.fileChangeEvent(i))}),t.O4$(),t.TgZ(9,"svg",13),t._UZ(10,"path",14)(11,"polyline",15)(12,"line",16),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(15,"div",17),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()(),t.TgZ(18,"div",18)(19,"div",19)(20,"label",20),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t._UZ(23,"input",21),t.ALo(24,"mytranslate"),t.YNc(25,Mt,3,3,"div",22),t.qZA(),t.TgZ(26,"div",19)(27,"label",23),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.TgZ(30,"mat-form-field",24)(31,"input",25),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(46);return t.KtG(i.open())}),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"button",26),t.NdJ("click",function(i){return t.CHM(e),t.MAs(46).open(),t.KtG(i.stopPropagation())}),t.O4$(),t.TgZ(34,"svg",27),t._UZ(35,"rect",28)(36,"line",29)(37,"line",30)(38,"line",31)(39,"path",32)(40,"path",33)(41,"path",34)(42,"path",35)(43,"path",36)(44,"path",37),t.qZA()(),t.kcU(),t.TgZ(45,"ngx-mat-datetime-picker",38,39),t.YNc(47,de,2,0,"ng-template"),t.qZA()()(),t.TgZ(48,"div",40)(49,"label",41),t._uU(50),t.ALo(51,"mytranslate"),t.qZA(),t.TgZ(52,"div",42),t._UZ(53,"input",43),t.TgZ(54,"button",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openDialogInfoSchool())}),t.O4$(),t.TgZ(55,"svg",13),t._UZ(56,"path",45)(57,"path",46),t.qZA(),t._uU(58),t.ALo(59,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(60,"div",47)(61,"label",41),t._uU(62),t.ALo(63,"mytranslate"),t.qZA(),t.TgZ(64,"mat-form-field",48)(65,"mat-label"),t._uU(66),t.ALo(67,"mytranslate"),t.qZA(),t.TgZ(68,"mat-select",49),t.NdJ("selectionChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.addSubject(i))}),t.YNc(69,ie,2,2,"mat-option",50),t.qZA()()(),t.YNc(70,Fe,6,8,"ng-container",51),t.TgZ(71,"div",19)(72,"label",52),t._uU(73),t.ALo(74,"mytranslate"),t.qZA(),t.YNc(75,ei,1,0,"input",53),t.YNc(76,ni,2,3,"input",54),t.YNc(77,Re,2,1,"div",55),t.YNc(78,ii,3,3,"a",56),t.qZA(),t.TgZ(79,"div",19)(80,"label",52),t._uU(81),t.ALo(82,"mytranslate"),t.qZA(),t.YNc(83,De,1,0,"input",57),t.YNc(84,io,2,3,"input",58),t.YNc(85,ai,2,1,"div",55),t.YNc(86,ri,3,3,"a",59),t.qZA(),t.TgZ(87,"div",19)(88,"label",52),t._uU(89),t.ALo(90,"mytranslate"),t.qZA(),t.TgZ(91,"div",60)(92,"div",61),t._UZ(93,"input",62),t.TgZ(94,"label",63),t._uU(95),t.ALo(96,"mytranslate"),t.qZA()(),t.TgZ(97,"div",61),t._UZ(98,"input",64),t.TgZ(99,"label",65),t._uU(100),t.ALo(101,"mytranslate"),t.qZA()()()()(),t.TgZ(102,"div",66)(103,"button",67),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.parseInfoFieldForStudentObjsInExportExcel())}),t.YNc(104,ze,6,0,"svg",68),t._uU(105),t.ALo(106,"mytranslate"),t.qZA()()()}if(2&n){const e=t.MAs(46),o=t.oxw();t.Q6J("formGroup",o.form),t.xp6(3),t.Q6J("linkAvatar",o.userObj.avatar)("nameCreateAvatar",o.userObj.fullName)("size",96),t.xp6(10),t.hij(" ",t.lcZ(14,38,"lang_auto_tai_len")," "),t.xp6(3),t.hij(" ",t.lcZ(17,40,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),t.xp6(5),t.hij(" ",t.lcZ(22,42,"lang_auto_ho_va_ten")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(24,44,"lang_auto_nhap_ho_va_ten")+"..."),t.xp6(2),t.Q6J("ngIf",o.form.controls.fullName.errors),t.xp6(3),t.Oqu(t.lcZ(29,46,"lang_auto_ngay_sinh")),t.xp6(3),t.s9C("placeholder",t.lcZ(32,48,"lang_auto_ngay_sinh")),t.Q6J("ngxMatDatetimePicker",e),t.xp6(14),t.Q6J("hideTime",!0),t.xp6(5),t.Oqu(t.lcZ(51,50,"lang_auto_thong_tin_truong")),t.xp6(3),t.s9C("value",o.infoSchool.name),t.xp6(5),t.hij(" ",t.lcZ(59,52,"lang_auto_sua")," "),t.xp6(2),t.Q6J("ngClass",t.WLB(70,be,o.dataObjs.length>=1,!o.dataObjs.length)),t.xp6(2),t.Oqu(t.lcZ(63,54,"lang_auto_khoi_hoc")),t.xp6(4),t.Oqu(t.lcZ(67,56,"lang_auto_chon_khoi")),t.xp6(2),t.Q6J("value",o.classGradePathValue),t.xp6(1),t.Q6J("ngForOf",o.valueSurvey),t.xp6(1),t.Q6J("ngIf",o.dataObjs.length>0),t.xp6(3),t.hij(" ",t.lcZ(74,58,"lang_auto_email")," "),t.xp6(2),t.Q6J("ngIf",o.userObj.email),t.xp6(1),t.Q6J("ngIf",!o.userObj.email),t.xp6(1),t.Q6J("ngIf",o.form.controls.email.invalid&&o.form.controls.email.dirty),t.xp6(1),t.Q6J("ngIf",o.userObj.email),t.xp6(3),t.hij(" ",t.lcZ(82,60,"lang_auto_so_dien_thoai")," "),t.xp6(2),t.Q6J("ngIf",o.userObj.phone),t.xp6(1),t.Q6J("ngIf",!o.userObj.phone),t.xp6(1),t.Q6J("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),t.xp6(1),t.Q6J("ngIf",o.userObj.phone),t.xp6(3),t.hij(" ",t.lcZ(90,62,"lang_auto_gioi_tinh")," "),t.xp6(6),t.hij(" ",t.lcZ(96,64,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(101,66,"lang_auto_nu")," "),t.xp6(3),t.Q6J("disabled",!o.checkValidChooseGradeAndSubject(o.dataObjs)||!o.form.valid),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(106,68,"lang_auto_cap_nhat")," ")}}function Je(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",102),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(1,"div",103)(2,"span",104),t.O4$(),t.TgZ(3,"svg",105),t._UZ(4,"path",106)(5,"line",107)(6,"line",108),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(9,"a",109),t.NdJ("click",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.fileChangeEvent(i))}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"input",110,11),t.NdJ("change",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.fileChangeEvent(i))}),t.qZA()()()}2&n&&(t.xp6(7),t.hij(" ",t.lcZ(8,2,"lang_auto_file_ban_chon_khong_phai_la_anh_vui_long")," "),t.xp6(3),t.Oqu(t.lcZ(11,4,"lang_auto_chon_lai")))}function Be(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"div",91)(2,"div",92)(3,"div",93)(4,"div",94),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",95)(8,"div",96),t.YNc(9,Je,14,6,"div",97),t.TgZ(10,"image-cropper",98),t.NdJ("imageCropped",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.imageCropped(i))})("loadImageFailed",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loadImageFailed())}),t.qZA()()(),t.TgZ(11,"div",99)(12,"button",100),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.removeDialog())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",101),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submitAvatar())}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,9,"lang_auto_cap_nhat_anh_dai_dien")),t.xp6(4),t.Q6J("ngIf",!1===e.textImageFailed),t.xp6(1),t.Q6J("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),t.xp6(3),t.Oqu(t.lcZ(14,11,"lang_auto_huy")),t.xp6(3),t.Oqu(t.lcZ(17,13,"lang_auto_cap_nhat"))}}let ci=(()=>{class n extends y.Q{selectSubject(e,o){var i,l;for(let d=0;d<this.dataObjs.length;d++)(null===(i=this.dataObjs[d].class)||void 0===i?void 0:i.value)==(null===(l=o.class)||void 0===l?void 0:l.value)&&(this.dataObjs[d].subjectsIds=e.value);this.oldDataObjs=this.dataObjs}addSubject(e){var o,i,l,d;let h=e.value.length?e.value:[];this.classGrade=[],h.forEach(A=>{let k=this.valueSurvey.find(E=>E.value==A);k&&!this.commonService.filterArray(this.classGrade,k)&&this.classGrade.push(k)});let v=this.oldDataObjs.length,x=this.classGrade.length;this.dataObjs.forEach((A,k)=>{this.classGrade.find(Z=>{var N;return Z.value==(null===(N=A.class)||void 0===N?void 0:N.value)})||this.dataObjs.splice(k,1)},this.dataObjs);for(let A=0;A<x;A++)if(this.dataObjs.find(E=>{var Z;return(null===(Z=E.class)||void 0===Z?void 0:Z.value)==this.classGrade[A].value})||this.dataObjs.push({class:this.classGrade[A],subjectsIds:[]}),v>0)for(let E=0;E<v;E++)(null===(i=null===(o=this.dataObjs)||void 0===o?void 0:o[A].class)||void 0===i?void 0:i.value)==(null===(d=null===(l=this.oldDataObjs)||void 0===l?void 0:l[E].class)||void 0===d?void 0:d.value)&&(this.dataObjs[A]=this.oldDataObjs[E])}checkValidChooseGradeAndSubject(e){let o=!0;return e.length?e.forEach(i=>{(!i.subjectsIds||!i.subjectsIds.length)&&(o=!1)}):o=!1,o}saveInfoSurvey(){var e,o,i,l,d,h,v,x,A;let k=[],E=[];for(let Z=0;Z<this.dataObjs.length;Z++)if(this.commonService.filterArray(E,null===(e=this.dataObjs[Z].class)||void 0===e?void 0:e.value)||E.push(Number(null===(o=this.dataObjs[Z].class)||void 0===o?void 0:o.value)),this.dataObjs[Z].subjectsIds)for(let N=0;N<(null!==(d=null===(l=null===(i=this.dataObjs)||void 0===i?void 0:i[Z].subjectsIds)||void 0===l?void 0:l.length)&&void 0!==d?d:0);N++){let ct={classId:null===(v=null===(h=this.dataObjs)||void 0===h?void 0:h[Z].class)||void 0===v?void 0:v.value,subjectId:null===(A=null===(x=this.dataObjs)||void 0===x?void 0:x[Z].subjectsIds)||void 0===A?void 0:A[N]};k.push(ct)}k.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:k}).subscribe(Z=>{Z&&1==Z.success?this.classGradePathValue=E:this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}getGradeAndSubjectObj(){this.subscriptions.add(this.documentConfigService.apiDocumentConfigGetSubjectAndLevelObjsGet().subscribe(e=>{var o,i,l,d,h;if(1==e.success){let v=null!==(i=null===(o=e.data)||void 0===o?void 0:o.schoolLevelObjs)&&void 0!==i?i:[],x=null!==(d=null===(l=e.data)||void 0===l?void 0:l.schoolSubjectObjs)&&void 0!==d?d:[];v.forEach(Z=>{let N={value:Z.id,desc:this.commonService.myTranslateInstant(Z.name)};this.commonService.filterArray(this.valueSurvey,N)||this.valueSurvey.push(N)});let A=[],k=[],E=[];x.forEach(Z=>{let N={type:0,id:Z.id,name:this.commonService.myTranslateInstant(Z.name)};Z.from&&Z.to&&Z.from>=1&&Z.to<=5?(N.type=1,this.commonService.filterArray(A,N)||A.push(N)):Z.from&&Z.to&&Z.from>=6&&Z.to<=9?(N.type=2,this.commonService.filterArray(k,N)||k.push(N)):(N.type=3,this.commonService.filterArray(E,N)||E.push(N));for(var ct=1;ct<=5;ct++)this.valueSubjectSurvey[ct]=A;for(ct=6;ct<=9;ct++)this.valueSubjectSurvey[ct]=k;for(ct=10;ct<=13;ct++)this.valueSubjectSurvey[ct]=E}),this.checkSurveySubmitted()}else this.errorStatusObj(null!==(h=e.message)&&void 0!==h?h:"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(e=>{var o,i;e&&1==e.success?((null!==(i=null===(o=e.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:[]).forEach(d=>{let h=this.valueSurvey.find(v=>v.value==d.classId);if(h){h.value&&!this.commonService.filterArray(this.classGradePathValue,h.value)&&this.classGradePathValue.push(h.value);let v=this.dataObjs.filter(x=>{var A;return(null===(A=x.class)||void 0===A?void 0:A.value)==h?.value});v&&v.length?this.dataObjs.forEach(x=>{var A,k;(null===(A=x.class)||void 0===A?void 0:A.value)==h?.value&&d.subjectId&&(null===(k=x.subjectsIds)||void 0===k||k.push(d.subjectId))},this.dataObjs):this.dataObjs.push({class:h,subjectsIds:d.subjectId?[d.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}fileChangeEvent(e){var o,i;const l=e.target;null!==(o=l?.files)&&void 0!==o&&o.length&&l.files[0].size<=5242880?(0,V.Or)(l?.files[0].type)?(this.imageChangedEvent=e,this.imageFileName=null!==(i=l?.files)&&void 0!==i&&i.length?l.files[0].name:"",this.textImageFailed=!0):this.showErrorSnack("lang_auto_vui_long_tai_len_file_anh"):this.showErrorSnack("lang_auto_vui_long_chon_anh_co_kich_thuoc_nho_hon_5mb")}b64toFile(e,o){e=e.replace("data:image/png;base64,","");let d=window.atob(e),h=[];for(let x=0;x<d.length;x+=512){let A=d.slice(x,x+512),k=new Array(A.length);for(let Z=0;Z<A.length;Z++)k[Z]=A.charCodeAt(Z);let E=new Uint8Array(k);h.push(E)}return new File(h,o,{type:"image/png"})}imageCropped(e){var o,i;this.croppedImage=null!==(o=e.base64)&&void 0!==o?o:"";let l=this.b64toFile(null!==(i=e.base64)&&void 0!==i?i:"",this.imageFileName);this.saveAvatar=l}submitAvatar(){var e;(null===(e=this.imageChangedEvent)||void 0===e?void 0:e.target).files=null,this.imageChangedEvent=void 0,this.initStatusObj(),this.uploadFile(this.saveAvatar)}removeDialog(){var e;(null===(e=this.imageChangedEvent)||void 0===e?void 0:e.target).files=null,this.imageChangedEvent=void 0}loadImageFailed(){this.textImageFailed=!1}uploadFile(e){e?(this.isSubmit=!1,(0,V.Or)(e.type)&&(0,V.hv)(e).then(o=>{this.apiUploadService.uploadToCdnForAvatar(o).subscribe(i=>{var l,d;if(i.type!=xt.dt.UploadProgress)if(1==i.success){let h={avatarUrl:null!==(d=null===(l=i.data)||void 0===l?void 0:l.url)&&void 0!==d?d:""};this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(h).subscribe(v=>{1==v.success?(this.successStatusObj(),this.userObj=this.baseApiService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)}))}else this.errorStatusObj("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi_split_lang"+i.message,!0)})})):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}openDialogInfoSchool(){this.dialog.open(L,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.infoSchool=o)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(e=>{var o,i;this.infoSchool=null!==(i=null===(o=e.data)||void 0===o?void 0:o.obj)&&void 0!==i?i:{}})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let e=this.commonService.getFormObj(this.form),o=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),i=e.birthday?new Date(Date.parse(e.birthday)):o,l={fullName:e.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(i),gender:e.gender,email:e.email,phone:e.phone};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(l).subscribe(d=>{var h,v;1==d.success?(this.saveInfoSurvey(),this.saveUserObj.emit(d.data),this.userObj=null!==(h=d.data)&&void 0!==h?h:{},this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(null!==(v=d.message)&&void 0!==v?v:"",!0)}))}}initData(){let e=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1);this.form.patchValue({fullName:this.userService.isAnonymousName(this.userObj)?"":this.userObj.fullName,email:this.userObj.email?this.userObj.email:"",phone:this.userObj.phone?this.userObj.phone:"",gender:1!=this.userObj.gender?"0":"1"}),this.form.controls.birthday.setValue(e)}getErrorType(e,o){var i,l,d,h,v,x;return!(null===(d=null===(l=null===(i=this.form.controls)||void 0===i?void 0:i[e])||void 0===l?void 0:l.errors)||void 0===d||!d[o])&&(null===(x=null===(v=null===(h=this.form.controls)||void 0===h?void 0:h[e])||void 0===v?void 0:v.errors)||void 0===x?void 0:x[o])}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var e="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",e)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var e="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",e)}checkEnableChangeEmailOrPhone(e,o){if("email"==o){if(!e||!e.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==o&&(!e||e.length>15))return!0;return!1}ngOnInit(){this.form=this.formBuilder.group({classGrade:new a.p4([]),subjectObjs:new a.p4([]),fullName:new a.p4("",[a.kI.required,U._.noWhiteSpace]),gender:new a.p4(""),birthday:new a.p4(""),phone:new a.p4("",[a.kI.pattern("^[0-9]{10}$")]),email:new a.p4("",[a.kI.email,a.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)])}),this.userObj.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.form.valueChanges.subscribe(e=>{let o=JSON.stringify(e);o!=this.prevData&&(this.prevData=o,this.form.patchValue(e))}),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(e,o,i,l,d,h,v,x,A,k,E){super(e),this.commonService=e,this.formBuilder=o,this.userInfoService=i,this.userService=l,this.baseApiService=d,this.timeService=h,this.dialog=v,this.apiUploadService=x,this.schoolConfigService=A,this.surveyConfigService=k,this.documentConfigService=E,this.userObj={},this.isTeacherDashboard=!1,this.saveUserObj=new t.vpe,this.form=new a.nJ({}),this.prevData="",this.returnUrl="",this.backLink="",this.imageChangedEvent=void 0,this.croppedImage="",this.imageFileName="",this.textImageFailed=void 0,this.isSubmit=!1,this.infoSchool={},this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classGrade=[],this.classGradePathValue=[],this.loadingStatus=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(a.QS),t.Y36(q.$C),t.Y36(ot.K),t.Y36(j._),t.Y36(T.O),t.Y36(ut.on),t.Y36(Tt.$),t.Y36(q.Tt),t.Y36(q.XG),t.Y36(q.Cq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[t._Bn([C.uU,{provide:tt.fM,useClass:st.HF,deps:[Et.Ad,st.o8]},{provide:tt.ab,useFactory:I.fX,deps:[T.O]},{provide:B.Qi,useValue:{floatLabel:"never"}}]),t.qOj],decls:5,vars:3,consts:[[1,"intro-x","box","p-5"],[4,"ngIf","ngIfElse"],["doneLoad",""],["style","position: fixed; left: 0; top: 0; z-index: 9999; background: #303030b0; width: 100%; height: 100%; padding: 20px",4,"ngIf"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["type","file","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-slate-500","mt-1"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","ngxMatDatetimePicker","click"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"hideTime"],["birthDay",""],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],[1,"col-span-12","m-0",3,"ngClass"],["appearance","outline"],["multiple","",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email",3,"placeholder",4,"ngIf"],["style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[3,"value"],[1,"col-span-12",3,"ngClass"],["class","flex w-full mb-2",4,"ngFor","ngForOf"],[1,"flex","w-full","mb-2"],[1,"text-left","w-20",2,"align-self","center"],[1,"text-md","font-medium","mb-0","mr-2"],[1,"w-full"],["type","text","formControlName","email","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email",1,"form-control","mr-2","mb-1",3,"placeholder"],[2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[2,"position","fixed","left","0","top","0","z-index","9999","background","#303030b0","width","100%","height","100%","padding","20px"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"font-medium","text-base","mr-auto"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],["azt-track-service","setting-general-HnOp3TjmEf","class","profile-img",3,"click",4,"ngIf"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped","loadImageFailed"],[1,"modal-footer"],["azt-track-service","setting-general-9QkXoEEUWs","control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","setting-general-2hxpex74KA","id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"],["azt-track-service","setting-general-HnOp3TjmEf",1,"profile-img",3,"click"],[1,"text-center","relative"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["azt-track-service","setting-general-bT6OQEh_x6",1,"text-primary","mr-1","cursor-pointer",3,"click"],["accept","image/*;capture=camera","type","file",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,wt,1,0,"azt-loading-effect",1),t.YNc(2,si,107,73,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Be,18,15,"div",3)),2&e){const i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",o.imageChangedEvent)}},dependencies:[C.mk,C.sg,C.O5,a._Y,a.Fj,a._,a.JJ,a.JL,ft.CK,B.v_,B.$V,B.nX,vt.k0,Nt.x8,tt.AB,tt.g2,a.sg,a.u,rt.Q,yt.g,et.M,W.ap,z.bT],styles:[".source-image {\n\t\tmargin: auto !important;\n\t}\n\t.modal-dialog[_ngcontent-%COMP%] {\n\t\tmax-width: 500px;\n\t\tmargin: auto;\n\t}"]}),n})();var Wt=m(68272);function ro(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",19)(3,"circle",20),t.qZA()())}function li(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),t.qZA()())}function Ye(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function so(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Ye,3,3,"span",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.oldPassword.errors.required)}}function ui(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",19)(3,"circle",20),t.qZA()())}function di(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),t.qZA()())}function _i(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function gi(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function pi(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,_i,3,3,"span",8),t.YNc(2,gi,3,3,"span",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.newPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.newPassword.errors.minlength)}}function Ge(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",26)(1,"g",27)(2,"g",28),t._UZ(3,"circle",29),t.TgZ(4,"path",30),t._UZ(5,"animateTransform",31),t.qZA()()()())}let hi=(()=>{class n extends y.Q{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let e=this.commonService.getFormObj(this.form),o={password:e.newPassword,oldPassword:e.oldPassword};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(o).subscribe(i=>{var l;1==i.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(null!==(l=i.message)&&void 0!==l?l:"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){this.gaService.gaEvent("sign_in_forgot_password");let e=this.commonService.getMyParam(this.activeRoute,"roleType"),o=this.commonService.getMyParam(this.activeRoute,"modeType");var i="?return_url="+encodeURIComponent(`/auth/account-setting/${e}/${o}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",i)}constructor(e,o,i,l,d){super(e),this.commonService=e,this.formBuilder=o,this.userInfoService=i,this.activeRoute=l,this.gaService=d,this.form=new a.nJ({}),this.showPasswordOld=!1,this.showPasswordNew=!1}ngOnInit(){this.form=this.formBuilder.group({oldPassword:new a.p4("",[a.kI.required]),newPassword:new a.p4("",[a.kI.required,a.kI.minLength(6)])})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(a.QS),t.Y36(q.$C),t.Y36(p.gz),t.Y36(Wt.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["setting-password"]],features:[t.qOj],decls:36,vars:32,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500","w-5","h-5"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","fade"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"input",6),t.ALo(9,"mytranslate"),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.togglePasswordOld()}),t.YNc(11,ro,4,0,"span",8),t.YNc(12,li,6,0,"span",8),t.qZA()(),t.TgZ(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,so,2,1,"div",10),t.qZA(),t.TgZ(17,"div",3)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",5),t._UZ(22,"input",12),t.ALo(23,"mytranslate"),t.TgZ(24,"button",13),t.NdJ("click",function(){return o.togglePasswordNew()}),t.YNc(25,ui,4,0,"span",8),t.YNc(26,di,6,0,"span",8),t.qZA()(),t.YNc(27,pi,3,2,"div",10),t.qZA()(),t.TgZ(28,"div",14)(29,"a",15),t.NdJ("click",function(){return o.forgotPassword()}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.TgZ(32,"button",16),t.NdJ("click",function(){return o.parseInfoFieldForStudentObjsInExportExcel()}),t.YNc(33,Ge,6,0,"svg",17),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.hij(" ",t.lcZ(6,18,"lang_auto_mat_khau_hien_tai")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(9,20,"lang_auto_nhap_mat_khau")+"..."),t.Q6J("type",o.showPasswordOld?"text":"password"),t.xp6(3),t.Q6J("ngIf",o.showPasswordOld),t.xp6(1),t.Q6J("ngIf",!o.showPasswordOld),t.xp6(2),t.hij(" ",t.lcZ(15,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),t.xp6(2),t.Q6J("ngIf",o.form.controls.oldPassword.errors&&(o.form.controls.oldPassword.dirty||o.form.controls.oldPassword.touched)),t.xp6(3),t.Oqu(t.lcZ(20,24,"lang_auto_mat_khau_moi")),t.xp6(3),t.s9C("placeholder",t.lcZ(23,26,"lang_auto_nhap_mat_khau")+"..."),t.Q6J("type",o.showPasswordNew?"text":"password"),t.xp6(3),t.Q6J("ngIf",o.showPasswordNew),t.xp6(1),t.Q6J("ngIf",!o.showPasswordNew),t.xp6(1),t.Q6J("ngIf",o.form.controls.newPassword.errors&&(o.form.controls.newPassword.dirty||o.form.controls.newPassword.touched)),t.xp6(3),t.Oqu(t.lcZ(31,28,"lang_auto_quen_mat_khau")),t.xp6(2),t.Q6J("disabled",o.form.invalid),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(35,30,"lang_auto_cap_nhat")," "))},dependencies:[C.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,et.M,z.bT],encapsulation:2}),n})();function Ve(n,s){1&n&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auth_remove_teacher_role")))}function mi(n,s){if(1&n&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function Ke(n,s){if(1&n&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function fi(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",7)(1,"g",8)(2,"g",9),t._UZ(3,"circle",10),t.TgZ(4,"path",11),t._UZ(5,"animateTransform",12),t.qZA()()()())}let He=(()=>{class n extends y.Q{becomeTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(e=>{var o;1==e.success?this.baseApiService.redirectLoginByRole(""):this.errorStatusObj(null!==(o=e.message)&&void 0!==o?o:"",!0)}))}becomeStudent(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(e=>{var o;1==e.success?this.baseApiService.redirectLoginByRole(this.commonService.getLocalRouter("/student/dashboard/0")):this.errorStatusObj(null!==(o=e.message)&&void 0!==o?o:"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(e,o,i){super(e),this.commonService=e,this.baseApiService=o,this.userInfoService=i,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(j._),t.Y36(q.$C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[t.qOj],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"h5"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,Ve,3,3,"span",3),t.YNc(4,mi,3,3,"span",3),t.YNc(5,Ke,3,3,"span",3),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return o.isTeacherDashboard?o.becomeStudent():o.becomeTeacher()}),t.YNc(7,fi,6,0,"svg",5),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("ngIf",o.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf",!o.isTeacherDashboard&&!o.isMobileWebView),t.xp6(1),t.Q6J("ngIf",!o.isTeacherDashboard&&o.isMobileWebView),t.xp6(2),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[C.O5,z.bT],encapsulation:2}),n})();var co=m(58914);function Cr(n,s){if(1&n&&(t.TgZ(0,"option",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=s.$implicit,o=t.oxw();t.Q6J("value",e)("selected",e==o.form.controls.dateFormat.value),t.xp6(1),t.AsE(" ",e," - ",t.lcZ(2,4,"lang_auth_user_setting_unit_"+e)," ")}}function We(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",11)(1,"g",12)(2,"g",13),t._UZ(3,"circle",14),t.TgZ(4,"path",15),t._UZ(5,"animateTransform",16),t.qZA()()()())}let Tr=(()=>{class n extends y.Q{saveUnitObj(){var e;this.initStatusObj();var o={dateFormat:null!==(e=this.form.value.dateFormat)&&void 0!==e?e:""};this.subscriptions.add(this.userUnitService.apiUserUnitSaveObjPost(o).subscribe(i=>{var l;1==i.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(null!==(l=i.message)&&void 0!==l?l:"",!0)}))}constructor(e,o,i,l){super(e),this.commonService=e,this.timeService=o,this.userUnitService=i,this.configService=l,this.form=new a.cw({dateFormat:new a.NI("",[a.kI.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var e=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(e??null)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(T.O),t.Y36(q.Fq),t.Y36(co.E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["setting-unit"]],features:[t.qOj],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[3,"value","selected"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"select",5),t.YNc(8,Cr,3,6,"option",6),t.qZA()()(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return o.saveUnitObj()}),t.YNc(11,We,6,0,"svg",9),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.hij(" ",t.lcZ(6,5,"lang_auth_user_setting_unit_format_date")," "),t.xp6(3),t.Q6J("ngForOf",o.formatDataObjs),t.xp6(3),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[C.sg,C.O5,a._Y,a.YN,a.Kr,a.EJ,a.JJ,a.JL,a.sg,a.u,et.M,z.bT],encapsulation:2}),n})();var Zr=m(20259),vi=m(40794),$e=m(57851),xe=m(49133),bi=m(25229),ae=m(99818),re=m(97392),_e=m(35423),Xe=m(38469);const lo=function(n){return{"mt-2 sm:mt-0":n}};function xi(n,s){if(1&n&&(t.TgZ(0,"div",27),t._UZ(1,"input",28),t.TgZ(2,"label",29),t._uU(3),t.qZA()()),2&n){const e=s.$implicit,o=s.index,i=t.oxw();let l;t.Q6J("ngClass",t.VKq(5,lo,0!==o)),t.xp6(1),t.s9C("id","tag_"+e.id),t.s9C("value",e.id),t.xp6(1),t.s9C("for","tag_"+e.id),t.xp6(1),t.hij(" ",null!==(l=e[i.commonService.getCurrentLang()+"Name"])&&void 0!==l?l:e.enName," ")}}function uo(n,s){if(1&n&&(t.TgZ(0,"option",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=s.$implicit,o=t.oxw();t.Q6J("value",e.id)("selected",e.id==o.form.controls.schoolLevel.value),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.key)," ")}}function yi(n,s){if(1&n&&(t.TgZ(0,"option",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=s.$implicit,o=t.oxw();t.Q6J("value",e.id)("selected",e.id==o.form.controls.schoolSubject.value),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.key)," ")}}function Lt(n,s){1&n&&(t.ynx(0),t.TgZ(1,"div",34)(2,"span",35),t._UZ(3,"azt-loading-ui",36),t.qZA()(),t.BQk()),2&n&&(t.xp6(3),t.Q6J("type","oval"))}const _o=function(n){return{"azt-text-primary azt-font-bold":n}};function wi(n,s){if(1&n&&(t.TgZ(0,"span",47)(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA()()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(1,_o,o.form.controls.classifyMaterials.value==e.id))}}function Ai(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,wi,3,3,"span",45),t.TgZ(2,"span",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(4);return t.KtG(l.onPressNode(i))}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.isLeaf),t.xp6(2),t.hij(" ",t.lcZ(4,2,e.item)," ")}}function go(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",50),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"path",52),t.qZA()(),t.kcU(),t.TgZ(3,"string",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(4);return t.KtG(l.onPressNode(i))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,1,e.item)," ")}}const po=function(n){return{"azt-text-primary":n}};function tn(n,s){if(1&n&&(t.TgZ(0,"mat-tree-node",42),t._UZ(1,"button",43),t.YNc(2,Ai,5,4,"ng-container",32),t.YNc(3,go,6,3,"ng-template",null,44,t.W1O),t.qZA()),2&n){const e=s.$implicit,o=t.MAs(4),i=t.oxw(4);t.Q6J("ngClass",t.VKq(3,po,i.form.controls.classifyMaterials.value==e.id)),t.xp6(2),t.Q6J("ngIf",e.isLeaf)("ngIfElse",o)}}function kr(n,s){if(1&n&&(t.TgZ(0,"button",57)(1,"mat-icon",58),t._uU(2),t.qZA()()),2&n){const e=t.oxw().$implicit,o=t.oxw(4);t.uIk("aria-label","Toggle "+e.item),t.xp6(2),t.hij(" ",o.treeControl.isExpanded(e)?"expand_more":"chevron_right"," ")}}function Ci(n,s){if(1&n&&(t.TgZ(0,"span",47)(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA()()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(1,po,o.form.controls.classifyMaterials.value==e.id))}}function en(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Ci,3,3,"span",45),t.TgZ(2,"span",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(4);return t.KtG(l.onPressNode(i))}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.isLeaf),t.xp6(2),t.hij(" ",t.lcZ(4,2,e.item)," ")}}function Ti(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",50),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"path",52),t.qZA()(),t.kcU(),t.TgZ(3,"span",60),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(4);return t.KtG(l.onPressNode(i))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,1,e.item)," ")}}function Zi(n,s){1&n&&(t.TgZ(0,"span",61),t._UZ(1,"azt-loading-ui",36),t.qZA()),2&n&&(t.xp6(1),t.Q6J("type","oval"))}function nn(n,s){if(1&n&&(t.TgZ(0,"mat-tree-node",42),t.YNc(1,kr,3,2,"button",54),t.YNc(2,en,5,4,"ng-container",32),t.YNc(3,Ti,6,3,"ng-template",null,55,t.W1O),t.YNc(5,Zi,2,1,"span",56),t.qZA()),2&n){const e=s.$implicit,o=t.MAs(4),i=t.oxw(4);t.Q6J("ngClass",t.VKq(5,_o,i.form.controls.classifyMaterials.value==e.id)),t.xp6(1),t.Q6J("ngIf",!e.isLeaf),t.xp6(1),t.Q6J("ngIf",e.isLeaf)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",e.isLoading)}}function Sr(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-tree",39),t.YNc(2,tn,5,5,"mat-tree-node",40),t.YNc(3,nn,6,7,"mat-tree-node",41),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("dataSource",e.dataSource)("treeControl",e.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",e.hasChild)}}function Ir(n,s){1&n&&(t.TgZ(0,"div",34)(1,"div",62),t.O4$(),t.TgZ(2,"svg",63),t._UZ(3,"path",64)(4,"path",65)(5,"path",66)(6,"path",67),t.qZA(),t.kcU(),t.TgZ(7,"p",68),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function Or(n,s){if(1&n&&(t.TgZ(0,"ng-scrollbar",37),t.YNc(1,Sr,4,3,"ng-container",32),t.YNc(2,Ir,10,3,"ng-template",null,38,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(2);t.Q6J("visibility","hover"),t.xp6(1),t.Q6J("ngIf",o.dataSource.data.length)("ngIfElse",e)}}function Lr(n,s){if(1&n&&(t.TgZ(0,"div",12)(1,"div",31),t.YNc(2,Lt,4,1,"ng-container",32),t.YNc(3,Or,4,3,"ng-template",null,33,t.W1O),t.qZA()()),2&n){const e=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.loadingUnitSubject)("ngIfElse",e)}}function ye(n,s){1&n&&(t.TgZ(0,"span",69),t._UZ(1,"azt-loading-ui",36),t.qZA()),2&n&&(t.xp6(1),t.Q6J("type","oval"))}let Er=(()=>{class n extends y.Q{handleCloseDialog(){this.dialogRef.close()}filterSchoolSubject(e){var o,i,l;if(this.form.controls.classifyMaterials.setValue(""),0==this.subjectSelectedList.length)this.filterSubject(e??1);else{let d=!1;for(let h=0;h<this.subjectSelectedList.length;h++)e&&(e<(null!==(o=this.subjectSelectedList[h].from)&&void 0!==o?o:0)||e>(null!==(i=this.subjectSelectedList[h].to)&&void 0!==i?i:0))&&(d=!0);d&&(this.filterSubject(e??1),null===(l=this.form)||void 0===l||l.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(e){let o=this.commonService.myClone(this.data.schoolSubjectObjs);this.subjectSelectedList=o.filter(i=>!(i.from&&i.to&&e)||e>=i.from&&e<=i.to)}initData(e){let o=this.form.controls.schoolLevel.value,i=this.form.controls.schoolSubject.value;this.dataSource=new xe.LT(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!e?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(o,i).then(l=>{var d,h,v;if(this.dataSource.data=l,null!==(d=this.data.questionShared)&&void 0!==d&&d.knowledgeParentIds&&(null===(h=this.data.questionShared)||void 0===h?void 0:h.knowledgeParentIds.length)>0){let x=null===(v=this.data.questionShared)||void 0===v?void 0:v.knowledgeParentIds;for(let A=0;A<x.length;A++)(k=>{setTimeout(()=>{let E=this.dataSource.getNode(x[A]);E&&this.treeControl.expand(E)},500*A)})()}this.loadingUnitSubject=!1}))}onPressNode(e){if(e){if(e.isLeaf){let o=this.commonService.myClone(e);for(this.breadcrumbs=[o];o.prNode;)if(this.breadcrumbs.unshift(o.prNode),o=o.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(e)}}else this.breadcrumbs=[]}chooseLeafFolder(e){e.isLeaf?this.form.controls.classifyMaterials.setValue(e.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){var e,o,i;this.aztAbTestingService.sendLogShareQuestion("submit"),this.initStatusObj();let l={questionId:null===(e=this.data.questionShared)||void 0===e?void 0:e.questionId,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},d={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:null===(o=this.data.questionShared)||void 0===o?void 0:o.questionId,shareNodeLog:this.dataSource.data};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(null!==(i=l.questionId)&&void 0!==i?i:0,l).subscribe(h=>{var v,x;1===h.success?1==(null===(v=h.data)||void 0===v?void 0:v.status)&&(this.dialogRef.close(d),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(null!==(x=h.message)&&void 0!==x?x:"",!0)}))}patchValueForm(){var e,o,i,l,d,h,v,x,A,k,E,Z;let N=12,ct=40,qt=1,Ut=0;this.data.configShareQuestionLog.classifyMaterials?(qt=null!==(e=this.data.configShareQuestionLog.awarenessLevel)&&void 0!==e?e:1,N=null!==(o=this.data.configShareQuestionLog.schoolLevel)&&void 0!==o?o:12,ct=null!==(i=this.data.configShareQuestionLog.schoolSubject)&&void 0!==i?i:40,Ut=null!==(l=this.data.configShareQuestionLog.classifyMaterials)&&void 0!==l?l:0):this.data.questionShared&&(N=null!==(d=this.data.questionShared.levelId)&&void 0!==d?d:12,ct=null!==(h=this.data.questionShared.subjectId)&&void 0!==h?h:40),this.data.questionShared&&!(null===(x=null===(v=this.data.questionShared.question)||void 0===v?void 0:v.tags)||void 0===x)&&x.length&&(qt=null!==(Z=null===(E=null===(k=null===(A=this.data.questionShared.question)||void 0===A?void 0:A.tags)||void 0===k?void 0:k[0])||void 0===E?void 0:E.id)&&void 0!==Z?Z:1),this.filterSchoolSubject(N),this.form.controls.awarenessLevel.setValue(qt.toString()),this.form.controls.schoolLevel.setValue(N.toString()),this.form.controls.schoolSubject.setValue(ct.toString()),this.form.controls.classifyMaterials.setValue(Ut),this.initData()}ngOnInit(){super.ngOnInit(),this.form=this.fb.group({awarenessLevel:new a.NI("1"),schoolLevel:new a.NI("0"),schoolSubject:new a.NI("0"),classifyMaterials:new a.NI("")}),this.patchValueForm()}constructor(e,o,i,l,d,h,v,x){super(o),this.fb=e,this.commonService=o,this.documentConfigService=i,this.database=l,this.testMarketQuestionService=d,this.aztAbTestingService=h,this.dialogRef=v,this.data=x,this.form=new a.cw({}),this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=A=>A.level,this.isExpandable=A=>A.expandable,this.hasChild=(A,k)=>k.expandable,this.treeControl=new $e.C2(this.getLevel,this.isExpandable),this.dataSource=new xe.LT(this.treeControl,l)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(S.v),t.Y36(q.Cq),t.Y36(xe.P6),t.Y36(q.Q_),t.Y36(bi.Z),t.Y36(ut.hV,8),t.Y36(ut.eJ))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-share-question"]],features:[t.qOj],decls:53,vars:37,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],[3,"type"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["noDataSource",""],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["notIsLeaf",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],[1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500","flex-none","inline-block",3,"ngClass"],["name","file-text"],["matTreeNodeToggle","",1,"cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500"],["d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["notIsLeafChild",""],["class","w-4 h-4 inline-block ml-4",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"w-4","h-4","inline-block","ml-4"],[1,"text-center","mx-auto"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M38.5 70H14C12.1435 70 10.363 69.2625 9.05025 67.9497C7.7375 66.637 7 64.8565 7 63V17.5C7 13.65 10.15 10.5 14 10.5H27.755C28.9079 10.506 30.0416 10.7966 31.0552 11.3462C32.0687 11.8957 32.9309 12.6871 33.565 13.65L36.435 17.85C37.0691 18.8129 37.9313 19.6043 38.9448 20.1538C39.9584 20.7034 41.092 20.994 42.245 21H70C71.8565 21 73.637 21.7375 74.9497 23.0503C76.2625 24.363 77 26.1435 77 28V42","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M59.5 70C65.299 70 70 65.299 70 59.5C70 53.701 65.299 49 59.5 49C53.701 49 49 53.701 49 59.5C49 65.299 53.701 70 59.5 70Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M73.5 73.5L68.25 68.25","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16 26V44.3184M16 50V54.7432V50Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[1,"w-4","h-4","mr-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()(),t.TgZ(6,"div",1)(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"div",10),t.YNc(16,xi,4,7,"div",11),t.qZA()(),t.TgZ(17,"div",12)(18,"label",9),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"label",17),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"select",18),t.NdJ("change",function(){return o.filterSchoolSubject(o.form.controls.schoolLevel.value)}),t.TgZ(29,"option",19),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.YNc(32,uo,3,5,"option",20),t.qZA()()(),t.TgZ(33,"div",15)(34,"div",16)(35,"label",17),t._uU(36),t.ALo(37,"mytranslate"),t.qZA(),t.TgZ(38,"select",21),t.NdJ("change",function(){return o.initData("change")}),t.TgZ(39,"option",19),t._uU(40),t.ALo(41,"mytranslate"),t.qZA(),t.YNc(42,yi,3,5,"option",20),t.qZA()()()()()()(),t.TgZ(43,"div",7),t.YNc(44,Lr,5,2,"div",22),t.qZA()()()()(),t.TgZ(45,"div",23)(46,"button",24),t.NdJ("click",function(){return o.handleCloseDialog()}),t._uU(47),t.ALo(48,"mytranslate"),t.qZA(),t.TgZ(49,"button",25),t.NdJ("click",function(){return o.confirmAction()}),t.YNc(50,ye,2,1,"span",26),t._uU(51),t.ALo(52,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,19,"lang_test_market_edit_shared_question")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(14,21,"lang_auto_muc_do_nhan_biet")," "),t.xp6(3),t.Q6J("ngForOf",o.data.questionTags),t.xp6(3),t.hij(" ",t.lcZ(20,23,"lang_auto_don_vi_kien_thuc")," "),t.xp6(7),t.hij(" ",t.lcZ(27,25,"lang_auto_lop_hoc")," "),t.xp6(3),t.Q6J("selected",0==o.form.controls.schoolLevel.value),t.xp6(1),t.hij("",t.lcZ(31,27,"lang_auto_---chon_khoi"),"---"),t.xp6(2),t.Q6J("ngForOf",o.data.schoolLevelObjs),t.xp6(4),t.hij(" ",t.lcZ(37,29,"lang_auto_mon_hoc")," "),t.xp6(2),t.uIk("disabled",0==o.form.controls.schoolLevel.value?"":null),t.xp6(1),t.Q6J("selected",0==o.form.controls.schoolSubject.value),t.xp6(1),t.hij("",t.lcZ(41,31,"lang_auto_---chon_mon"),"---"),t.xp6(2),t.Q6J("ngForOf",o.subjectSelectedList),t.xp6(2),t.Q6J("ngIf",0!=o.form.controls.schoolSubject.value),t.xp6(3),t.hij(" ",t.lcZ(48,33,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",o.statusObj.loading||!o.form.controls.classifyMaterials.value),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(52,35,"lang_auto_sua")," "))},dependencies:[C.mk,C.sg,C.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a._,a.JJ,a.JL,ae.eB,re.Hw,_e.fQ,_e.ah,_e.eu,_e.gi,_e.uo,a.sg,a.u,et.M,Xe.J,it.KC,X.Nh5,z.bT],encapsulation:2}),n})();var ki=m(41559),Si=m(32502),ho=m(86255),mo=m(51176),Ii=m(83055);function Oi(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function Li(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"withdraw-balance",6),t.NdJ("closeRequest",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.closeRequest(i))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("transactionInfo",e.transactionInfo)("balanceUserInfo",e.balanceUserInfo)("totalBalance",e.totalBalance)}}function Ei(n,s){1&n&&(t.TgZ(0,"button",46)(1,"span",47),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_status_new")," "))}function Mi(n,s){1&n&&(t.TgZ(0,"button",48)(1,"span",47),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_status_rejected")," "))}function Pi(n,s){1&n&&(t.TgZ(0,"button",49)(1,"span",47),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_status_approved")," "))}function we(n,s){1&n&&(t.TgZ(0,"span",59),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_new")," "))}function $t(n,s){1&n&&(t.TgZ(0,"span",60),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_approved")," "))}function qi(n,s){if(1&n&&(t.TgZ(0,"span",61),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_status_rejected"),"",e.rejectedReason?t.lcZ(3,4," - "+e.rejectedReason):""," ")}}function Ui(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",62),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.editQuestionShared(i))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_sua")," "))}const ji=function(n){return{"selected-border-box":n}};function Qi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr",50),t.NdJ("click",function(){const l=t.CHM(e).index,d=t.oxw(3);return t.KtG(d.selected=l)}),t.TgZ(1,"td"),t._UZ(2,"div",51),t.ALo(3,"safeContentQuestion"),t.ALo(4,"mathJaxContent"),t.qZA(),t.TgZ(5,"td"),t.YNc(6,we,3,3,"span",52),t.YNc(7,$t,3,3,"span",53),t.YNc(8,qi,4,6,"span",54),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"td",55)(20,"div",56)(21,"a",57),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.viewQuestionDetail(l))}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.YNc(24,Ui,3,3,"a",58),t.qZA()()()}if(2&n){const e=s.$implicit,o=s.index,i=t.oxw(3);t.Q6J("ngClass",t.VKq(25,ji,o==i.selected)),t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,11,t.lcZ(4,13,null==e.question?null:e.question.content)),t.oJD),t.xp6(4),t.Q6J("ngIf","new"==e.status),t.xp6(1),t.Q6J("ngIf","approved"==e.status),t.xp6(1),t.Q6J("ngIf","rejected"==e.status),t.xp6(2),t.hij(" ",t.lcZ(11,15,e.questionTagName)," "),t.xp6(3),t.hij(" ",t.lcZ(14,17,e.knowledgeName)," "),t.xp6(3),t.AsE(" ",t.lcZ(17,19,e.levelName)," - ",t.lcZ(18,21,e.subjectName)," "),t.xp6(6),t.hij(" ",t.lcZ(23,23,"lang_test_market_view_question")," "),t.xp6(2),t.Q6J("ngIf","approved"!=e.status)}}const Ae=function(n){return{"bg-primary text-white no-hover":n}};function Ni(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",11),t._uU(8),t.ALo(9,"number"),t.qZA()()(),t.TgZ(10,"div",12)(11,"h3",10),t._uU(12),t.ALo(13,"mytranslate"),t.TgZ(14,"b",11),t._uU(15),t.ALo(16,"number"),t.qZA()()(),t.TgZ(17,"div",9)(18,"h3",10),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"b",11),t._uU(22),t.ALo(23,"number"),t.qZA()()(),t.TgZ(24,"div",12)(25,"h3",10),t._uU(26),t.ALo(27,"mytranslate"),t.TgZ(28,"b",11),t._uU(29),t.ALo(30,"number"),t.qZA()()(),t.TgZ(31,"div",13)(32,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.withdrawBalance())}),t._uU(33),t.ALo(34,"mytranslate"),t.qZA()()()(),t.TgZ(35,"div",15)(36,"div",16)(37,"button",17),t.O4$(),t.TgZ(38,"svg",18),t._UZ(39,"polygon",19),t.qZA(),t.kcU(),t.TgZ(40,"span",20),t._uU(41),t.ALo(42,"mytranslate"),t.qZA()(),t.YNc(43,Ei,4,3,"button",21),t.YNc(44,Mi,4,3,"button",22),t.YNc(45,Pi,4,3,"button",23),t.qZA(),t.TgZ(46,"mat-menu",24,25)(48,"div",26)(49,"ul",27)(50,"li")(51,"span",28),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.filterStatus(void 0))}),t._uU(52),t.ALo(53,"mytranslate"),t.qZA()(),t.TgZ(54,"li")(55,"span",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.filterStatus("new"))}),t._uU(56),t.ALo(57,"mytranslate"),t.qZA()(),t.TgZ(58,"li")(59,"span",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.filterStatus("approved"))}),t._uU(60),t.ALo(61,"mytranslate"),t.qZA()(),t.TgZ(62,"li")(63,"span",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.filterStatus("rejected"))}),t._uU(64),t.ALo(65,"mytranslate"),t.qZA()()()()()(),t.TgZ(66,"div",32)(67,"div",33)(68,"drag-scroll",34)(69,"table",35)(70,"thead")(71,"tr",36)(72,"th",37),t._uU(73),t.ALo(74,"mytranslate"),t.qZA(),t.TgZ(75,"th",38),t._uU(76),t.ALo(77,"mytranslate"),t.qZA(),t.TgZ(78,"th",38),t._uU(79),t.ALo(80,"mytranslate"),t.qZA(),t.TgZ(81,"th",39),t._uU(82),t.ALo(83,"mytranslate"),t.qZA(),t.TgZ(84,"th",39),t._uU(85),t.ALo(86,"mytranslate"),t.ALo(87,"mytranslate"),t.qZA(),t._UZ(88,"th",40),t.qZA()(),t.TgZ(89,"tbody"),t.YNc(90,Qi,25,27,"tr",41),t.qZA()()()(),t.TgZ(91,"div",42)(92,"div",43)(93,"azt-paging",44),t.NdJ("SendPage",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.getData(i))}),t.qZA()(),t.TgZ(94,"div",45),t._uU(95),t.ALo(96,"mytranslate"),t.qZA()()(),t.BQk()}if(2&n){const e=t.MAs(47),o=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,33,"lang_test_market_total_questions_share")," "),t.xp6(3),t.Oqu(t.lcZ(9,35,o.totalShared)),t.xp6(4),t.hij(" ",t.lcZ(13,37,"lang_test_market_total_questions_approve")," "),t.xp6(3),t.Oqu(t.lcZ(16,39,o.totalApproved)),t.xp6(4),t.hij(" ",t.lcZ(20,41,"lang_test_market_total_questions_used")," "),t.xp6(3),t.Oqu(t.lcZ(23,43,o.totalUsed)),t.xp6(4),t.hij(" ",t.lcZ(27,45,"lang_test_market_total_balance")," "),t.xp6(3),t.hij("",t.lcZ(30,47,o.totalBalance),"\u0111"),t.xp6(3),t.Q6J("disabled",!o.totalBalance),t.xp6(1),t.hij(" ",t.lcZ(34,49,"lang_test_market_withdraw")," "),t.xp6(4),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.hij(" ",t.lcZ(42,51,"lang_test_market_filter_status")," "),t.xp6(2),t.Q6J("ngIf","new"==o.fillStatus),t.xp6(1),t.Q6J("ngIf","rejected"==o.fillStatus),t.xp6(1),t.Q6J("ngIf","approved"==o.fillStatus),t.xp6(6),t.Q6J("ngClass",t.VKq(75,Ae,!o.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(53,53,"lang_auto_tat_ca")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(77,Ae,"new"==o.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(57,55,"lang_auto_status_new")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(79,Ae,"approved"==o.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(61,57,"lang_auto_status_approved")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(81,Ae,"rejected"==o.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(65,59,"lang_auto_status_rejected")," "),t.xp6(9),t.hij(" ",t.lcZ(74,61,"lang_auto_cau_hoi")," "),t.xp6(3),t.hij(" ",t.lcZ(77,63,"lang_auto_trang_thai")," "),t.xp6(3),t.hij(" ",t.lcZ(80,65,"lang_auto_muc_do_nhan_biet")," "),t.xp6(3),t.hij(" ",t.lcZ(83,67,"lang_auto_don_vi_kien_thuc")," "),t.xp6(3),t.AsE(" ",t.lcZ(86,69,"lang_auto_khoi_hoc")," - ",t.lcZ(87,71,"lang_auto_mon_hoc")," "),t.xp6(5),t.Q6J("ngForOf",o.shareQuestionList),t.xp6(3),t.Q6J("lengthPage",o.totalPage)("paging",o.page),t.xp6(2),t.hij(" ",o.totalShareQuestion+" "+t.lcZ(96,73,"lang_auto_cau_hoi")," ")}}function Mr(n,s){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,Li,1,3,"withdraw-balance",4),t.YNc(2,Ni,97,83,"ng-container",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isWithDraw),t.xp6(1),t.Q6J("ngIf",!e.isWithDraw)}}let on=(()=>{class n extends y.Q{constructor(e,o,i,l,d,h,v){super(e),this.commonService=e,this.testMarketQuestionService=o,this.questionService=i,this.activeRoute=l,this.questionRenderService=d,this.browserStorageService=h,this.dialog=v,this.shareQuestionList=[],this.page=1,this.totalPage=0,this.sizePage=10,this.loadingRender=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.isWithDraw=!1,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.questionTags=[],this.balanceUserInfo={},this.selected=-1,this.fillStatus="",this.configRenderService=new vi.B(!0)}ngOnInit(){(0,M.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=e??"",this.getData(this.page)})}filterStatus(e){this.fillStatus=e??"",this.browserStorageService.saveSimpleStorage("view_question_filter",e??""),this.getData(1)}withdrawBalance(){this.isWithDraw=!this.isWithDraw}closeRequest(e){e?(this.getData(this.page),this.isWithDraw=!1):this.isWithDraw=!1}getBalanceQuestionShared(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(e=>{var o,i,l,d,h,v,x,A,k,E,Z,N;1===e.success?(this.totalShared=null!==(i=null===(o=e.data)||void 0===o?void 0:o.shared)&&void 0!==i?i:0,this.totalUsed=null!==(d=null===(l=e.data)||void 0===l?void 0:l.used)&&void 0!==d?d:0,this.totalApproved=null!==(v=null===(h=e.data)||void 0===h?void 0:h.approved)&&void 0!==v?v:0,this.totalBalance=null!==(A=null===(x=e.data)||void 0===x?void 0:x.balance)&&void 0!==A?A:0,this.transactionInfo=null!==(E=null===(k=e.data)||void 0===k?void 0:k.lastTransaction)&&void 0!==E?E:{},this.balanceUserInfo=null!==(Z=e.data)&&void 0!==Z?Z:{},this.successStatusObj()):this.errorStatusObj(null!==(N=e.message)&&void 0!==N?N:"",!0)}))}getData(e){var o;this.loadingRender=!0,this.page=e,this.selected=-1,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,null!==(o=this.fillStatus)&&void 0!==o?o:void 0,void 0,void 0,void 0,e,void 0).subscribe(i=>{var l,d,h,v,x;if(1===i.success){this.shareQuestionList=null!==(d=null===(l=i.data)||void 0===l?void 0:l.objs)&&void 0!==d?d:[];let A=null!==(v=null===(h=i.data)||void 0===h?void 0:h.total)&&void 0!==v?v:1;this.totalShareQuestion=A,this.totalPage=A%this.sizePage>0?(A-A%this.sizePage)/this.sizePage+1:A>0?A/this.sizePage:1,this.page>this.totalPage&&(this.page=this.totalPage);let k=[];this.shareQuestionList.forEach(E=>{var Z;k.push(null!==(Z=E.question)&&void 0!==Z?Z:{})}),this.loadQuest(k),this.getSubjectAndLevel(),this.getTagsQuestion(),this.getBalanceQuestionShared()}else this.errorStatusObj(null!==(x=i.message)&&void 0!==x?x:"",!0)}))}loadQuest(e){this.loadingRender=!0;const o=this.commonService.castJsonToClassObjs(Zr.v,JSON.stringify(e));this.questionRenderService.parseRenderQuestions(o??[],i=>{},this.configRenderService).then(i=>{for(let l=0;l<this.shareQuestionList.length;l++)this.shareQuestionList[l].question=i[l];this.loadingRender=!1}).catch(i=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}getSubjectAndLevel(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsSubjectLevelsGet().subscribe(e=>{var o,i,l,d,h;1==e.success?(this.schoolLevelObjs=null!==(i=null===(o=e.data)||void 0===o?void 0:o.schoolLevelObjs)&&void 0!==i?i:[],this.schoolSubjectObjs=null!==(d=null===(l=e.data)||void 0===l?void 0:l.schoolSubjectObjs)&&void 0!==d?d:[],this.successStatusObj()):this.errorStatusObj(null!==(h=e.message)&&void 0!==h?h:"")}))}getTagsQuestion(){this.subscriptions.add(this.questionService.apiQuestionGetTagsGet().subscribe(e=>{var o,i,l;1===e.success?this.questionTags=null!==(i=null===(o=e.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:[]:this.errorStatusObj(null!==(l=e.message)&&void 0!==l?l:"")}))}editQuestionShared(e){this.dialog.open(Er,{width:"95vw",data:{questionShared:e,schoolLevelObjs:this.schoolLevelObjs,schoolSubjectObjs:this.schoolSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:e.levelId,schoolSubject:e.subjectId,awarenessLevel:e.questionTagId,questionId:e.questionId,classifyMaterials:e.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(i=>{if(i){let l=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=l??"",this.getData(this.page)}})}viewQuestionDetail(e){this.dialog.open(ki.T,{width:"700px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(i=>{})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(q.Q_),t.Y36(q.aE),t.Y36(p.gz),t.Y36(Si.L),t.Y36(dt.z),t.Y36(ut.on))},n.\u0275cmp=t.Xpm({type:n,selectors:[["view-share-question"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"relative"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest"],[1,"box","p-3","w-full"],[1,"grid","grid-cols-12","gap-1"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"text-md","items-center"],[1,"text-lg"],[1,"col-span-12","md:col-span-2",2,"align-self","center"],[1,"col-span-12","md:col-span-2","text-right",2,"align-self","center"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md","mr-2",3,"disabled","click"],[1,"w-full","text-right","mt-2"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","mr-2",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"azt-hidden","md:block"],["class","btn btn-sm btn-pending","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-danger","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-success","style","cursor: default",4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto","px-1",2,"min-width","1000px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","320px"],[1,"",2,"width","100px"],[1,""],[1,"whitespace-nowrap","text-center",2,"width","190px"],["azt-track-service","view-share-question-dC5aYTlKd6F","class","intro-x",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"lengthPage","paging","SendPage"],[1,"w-20","mt-3","sm:mt-0"],[1,"btn","btn-sm","btn-pending",2,"cursor","default"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-danger",2,"cursor","default"],[1,"btn","btn-sm","btn-success",2,"cursor","default"],["azt-track-service","view-share-question-dC5aYTlKd6F",1,"intro-x",3,"ngClass","click"],[1,"tex2jax_process","box-content",2,"width","300px",3,"innerHTML"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"table-report__action"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Oi,1,0,"azt-loading-effect",1),t.YNc(2,Mr,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.loadingRender)("ngIfElse",i)}},dependencies:[C.mk,C.sg,C.O5,ho.W0,ho.D8,rt.Q,mo.L,ht.HU,Ii.C,C.JJ,z.bT,z.QA,z.Ev],encapsulation:2}),n})();function Fi(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function an(n,s){1&n&&(t.TgZ(0,"span",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_new")," "))}function Ri(n,s){1&n&&(t.TgZ(0,"span",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_approved")," "))}function Di(n,s){1&n&&(t.TgZ(0,"span",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_settled")," "))}function fo(n,s){1&n&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_rejected")," "))}function zi(n,s){if(1&n&&(t.TgZ(0,"tr",15)(1,"td",16),t._uU(2),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA(),t.TgZ(4,"td")(5,"b"),t._uU(6),t.ALo(7,"number"),t.qZA()(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",17),t.YNc(17,an,3,3,"span",18),t.YNc(18,Ri,3,3,"span",19),t.YNc(19,Di,3,3,"span",19),t.YNc(20,fo,3,3,"span",20),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,10,e.createdAt)," "),t.xp6(4),t.hij("",t.lcZ(7,12,e.amount),"\u0111"),t.xp6(3),t.hij(" ",e.bankHolder," "),t.xp6(2),t.hij(" ",e.bankName," "),t.xp6(2),t.hij(" ",e.bankAccountNumber," "),t.xp6(2),t.hij(" ",e.address," "),t.xp6(2),t.Q6J("ngIf","new"==e.status),t.xp6(1),t.Q6J("ngIf","approved"==e.status),t.xp6(1),t.Q6J("ngIf","settled"==e.status),t.xp6(1),t.Q6J("ngIf","rejected"==e.status)}}function vo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"drag-scroll",6)(4,"table",7)(5,"thead")(6,"tr",8)(7,"th",9),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",9),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"th",9),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"th",9),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.TgZ(22,"th",9),t._uU(23),t.ALo(24,"mytranslate"),t.qZA(),t.TgZ(25,"th",9),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,zi,21,14,"tr",10),t.qZA()()()(),t.TgZ(30,"div",11)(31,"div",12)(32,"azt-paging",13),t.NdJ("SendPage",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.getData(i))}),t.qZA()(),t.TgZ(33,"div",14),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(8),t.hij(" ",t.lcZ(9,11,"lang_test_market_withdraw_time")," "),t.xp6(3),t.hij(" ",t.lcZ(12,13,"lang_test_market_withdraw_amount_withdrawn")," "),t.xp6(3),t.hij(" ",t.lcZ(15,15,"lang_test_market_bankHolder")," "),t.xp6(3),t.hij(" ",t.lcZ(18,17,"lang_test_market_bankName")," "),t.xp6(3),t.hij(" ",t.lcZ(21,19,"lang_test_market_bankNumber")," "),t.xp6(3),t.hij(" ",t.lcZ(24,21,"lang_test_market_address")," "),t.xp6(3),t.hij(" ",t.lcZ(27,23,"lang_auto_trang_thai")," "),t.xp6(3),t.Q6J("ngForOf",e.withdrawHistoryObjs),t.xp6(3),t.Q6J("lengthPage",e.totalPage)("paging",e.page),t.xp6(2),t.hij(" ",e.totalWithdrawTimes+" "+t.lcZ(35,25,"lang_test_market_withdraw_times")," ")}}let Ji=(()=>{class n extends y.Q{constructor(e,o,i){super(e),this.commonService=e,this.testMarketQuestionService=o,this.activeRoute=i,this.page=1,this.totalPage=0,this.sizePage=10,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[]}ngOnInit(){(0,M.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.page)})}getData(e){this.initStatusObj(),this.page=e,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(o=>{var i,l,d,h,v;if(1===o.success){this.withdrawHistoryObjs=null!==(l=null===(i=o.data)||void 0===i?void 0:i.objs)&&void 0!==l?l:[];let x=null!==(h=null===(d=o.data)||void 0===d?void 0:d.total)&&void 0!==h?h:1;this.totalWithdrawTimes=x,this.totalPage=x%this.sizePage>0?(x-x%this.sizePage)/this.sizePage+1:x>0?x/this.sizePage:1,this.successStatusObj()}else this.errorStatusObj(null!==(v=o.message)&&void 0!==v?v:"",!0)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(q.Q_),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["history-withdraw"]],features:[t.qOj],decls:4,vars:2,consts:[[1,""],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","1300px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"lengthPage","paging","SendPage"],[1,"w-20","mt-3","sm:mt-0"],[1,"intro-x"],[1,"w-90"],[2,"padding-left","45px"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Fi,1,0,"azt-loading-effect",1),t.YNc(2,vo,36,27,"ng-template",null,2,t.W1O),t.qZA()),2&e){const i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[C.sg,C.O5,rt.Q,mo.L,ht.HU,C.JJ,z.bT,z.tO],encapsulation:2}),n})();function Bi(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function Yi(n,s){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,Bi,3,3,"span",13),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.reason.errors.required)}}function Pr(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",14)(1,"g",15)(2,"g",16),t._UZ(3,"circle",17),t.TgZ(4,"path",18),t._UZ(5,"animateTransform",19),t.qZA()()()())}let se=(()=>{class n extends y.Q{saveUnitObj(){var e;this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRemoveMyAccountPost({reason:null!==(e=this.form.value.reason)&&void 0!==e?e:""}).subscribe(o=>{var i;1==o.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(null!==(i=o.message)&&void 0!==i?i:"",!0)}))}constructor(e,o,i){super(e),this.commonService=e,this.authService=o,this.mobileWebviewService=i,this.form=new a.cw({reason:new a.NI("",[a.kI.required])})}ngOnInit(){this.form.controls.reason.setValue("")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(q.e8),t.Y36(gt.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["remove-account"]],features:[t.qOj],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",6),t._UZ(11,"input",7),t.qZA(),t.YNc(12,Yi,2,1,"div",8),t.qZA()(),t.TgZ(13,"div",9)(14,"button",10),t.NdJ("click",function(){return o.saveUnitObj()}),t.YNc(15,Pr,6,0,"svg",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.hij(" ",t.lcZ(6,7,"lang_auto_xoa_tai_khoan")," "),t.xp6(3),t.hij(" ",t.lcZ(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),t.xp6(4),t.Q6J("ngIf",o.form.controls.reason.errors&&(o.form.controls.reason.dirty||o.form.controls.reason.touched)),t.xp6(2),t.Q6J("disabled",o.statusObj.loading||o.form.controls.reason.errors),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,11,"lang_auto_xac_nhan")," "))},dependencies:[C.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,et.M,z.bT],encapsulation:2}),n})();function Dt(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function Gi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label",6)(5,"span",7),t._UZ(6,"lucide-icon",8),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"input",9),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.mobLoginFingerprintOrFace())}),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("name","fingerprint"),t.xp6(1),t.hij(" ",t.lcZ(8,3,"lang_auth_user_login_with_biometric")," "),t.xp6(2),t.Q6J("formControl",e.checkLoginFingerprintOrFace)}}let rn=(()=>{class n extends y.Q{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT":"OFF_LOGIN_FINGERPRINT")}getBiometricSettingFromMob(){this.initStatusObj(),this.subscriptions.add(this.mobileWebviewService.getWebviewBiometricSettingSubscriber().subscribe(e=>{this.checkLoginFingerprintOrFace.setValue(e?.hasBiometrics),this.stopStatusObj()}))}constructor(e,o,i,l,d){super(e),this.commonService=e,this.timeService=o,this.userUnitService=i,this.configService=l,this.mobileWebviewService=d,this.checkLoginFingerprintOrFace=new a.NI(!1)}ngOnInit(){this.getBiometricSettingFromMob()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(T.O),t.Y36(q.Fq),t.Y36(co.E),t.Y36(gt.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["setting-biometrics"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],[1,"w-4","h-4","mr-2","inline-block"],[3,"name"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"]],template:function(e,o){if(1&e&&(t.YNc(0,Dt,1,0,"azt-loading-effect",0),t.YNc(1,Gi,10,5,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[C.O5,a.Wl,a.JJ,a.oH,rt.Q,X.Nh5,z.bT],encapsulation:2}),n})();function Vi(n,s){if(1&n&&(t.TgZ(0,"teacher-layout",2),t.GkF(1,3),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(3);t.Q6J("headerBackTolink",e.backLink),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function bo(n,s){if(1&n&&(t.TgZ(0,"student-layout",2),t.GkF(1,3),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(3);t.Q6J("headerBackTolink",e.backLink),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}const Gt=function(n){return{"bg-primary text-white font-medium":n}};function sn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(0))}),t.O4$(),t.TgZ(1,"svg",25),t._UZ(2,"path",26)(3,"circle",27),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"general"==e.modeView)),t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_auto_chung")," ")}}function Ki(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(1))}),t.O4$(),t.TgZ(1,"svg",25),t._UZ(2,"rect",29)(3,"path",30),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"password"==e.modeView)),t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_auto_doi_mat_khau")," ")}}function Hi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(5))}),t.TgZ(1,"span",32),t._UZ(2,"lucide-icon",33),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"setting-unit"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auth_setting_user_unit")," ")}}function Wi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(3))}),t.TgZ(1,"span",32),t._UZ(2,"lucide-icon",35),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"share-question"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_danh_sach_cau_hoi_chia_se")," ")}}function Xt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(4))}),t.TgZ(1,"span",32),t._UZ(2,"lucide-icon",37),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"history-withdraw"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_test_market_withdraw_history")," ")}}function cn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(2))}),t.TgZ(1,"span",32),t._UZ(2,"lucide-icon",39),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"setting-role"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auth_user_setting_change_role")," ")}}function ln(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",40)(1,"label",41)(2,"span",32),t._UZ(3,"lucide-icon",42),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"input",43),t.NdJ("change",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.mobLoginFingerprintOrFace())}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("name",e.checkFaceOrFingerprint?"scan-face":"fingerprint"),t.xp6(1),t.hij(" ",e.checkFaceOrFingerprint?t.lcZ(5,3,"lang_core_login_with_face"):t.lcZ(6,5,"lang_core_login_with_fingerprint")," "),t.xp6(3),t.Q6J("formControl",e.checkLoginFingerprintOrFace)}}function xo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(7))}),t.TgZ(1,"span",32),t._UZ(2,"lucide-icon",45),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"setting-biometrics"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auth_user_setting_biometric")," ")}}function un(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changModeView(6))}),t.TgZ(1,"span",32),t._UZ(2,"lucide-icon",47),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"remove-account"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_xoa_tai_khoan")," ")}}function dn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.mobLogout())}),t.O4$(),t.TgZ(1,"svg",25),t._UZ(2,"path",49)(3,"polyline",50)(4,"line",51),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_dang_xuat")," "))}function _n(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"setting-general",52),t.NdJ("saveUserObj",function(i){t.CHM(e);const l=t.oxw(2);return t.KtG(l.saveUserObjData(i))}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("userObj",e.userObj)("isTeacherDashboard",e.isTeacherDashboard)}}function $i(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-password"),t.qZA())}function gn(n,s){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-role",53),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("isTeacherDashboard",e.isTeacherDashboard)("hasTeacherRole",e.hasTeacherRole)}}function pn(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-unit"),t.qZA())}function Xi(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"view-share-question"),t.qZA())}function At(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"history-withdraw"),t.qZA())}function ta(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"remove-account"),t.qZA())}function hn(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-biometrics"),t.qZA())}const ea=function(n){return{"margin-bottom":n}};function mn(n,s){if(1&n&&(t._UZ(0,"azt-loading-effect",4),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",9)(8,"div",10)(9,"div",11),t.YNc(10,sn,6,6,"button",12),t.YNc(11,Ki,6,6,"button",13),t.YNc(12,Hi,5,6,"button",14),t.YNc(13,Wi,5,6,"button",15),t.YNc(14,Xt,5,6,"button",16),t.YNc(15,cn,5,6,"button",17),t.YNc(16,ln,8,7,"div",18),t.YNc(17,xo,5,6,"button",19),t.YNc(18,un,5,6,"button",20),t.YNc(19,dn,7,3,"button",21),t.qZA()()(),t.TgZ(20,"div",22),t.YNc(21,_n,2,2,"div",23),t.YNc(22,$i,2,0,"div",23),t.YNc(23,gn,2,2,"div",23),t.YNc(24,pn,2,0,"div",23),t.YNc(25,Xi,2,0,"div",23),t.YNc(26,At,2,0,"div",23),t.YNc(27,ta,2,0,"div",23),t.YNc(28,hn,2,0,"div",23),t.qZA()()()),2&n){const e=t.oxw();t.Q6J("hidden",!1===e.isLoading),t.xp6(5),t.hij(" ",t.lcZ(6,21,"lang_auto_cai_dat_tai_khoan")," "),t.xp6(5),t.Q6J("ngIf","setting-role"!=e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView&&e.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView&&e.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf","setting-role"==e.modeView),t.xp6(1),t.Q6J("ngIf",e.isMobileWebView),t.xp6(1),t.Q6J("ngIf",!e.isMobileWebView),t.xp6(1),t.Q6J("ngIf",e.isTeacherDashboard&&e.isMobileWebView),t.xp6(1),t.Q6J("ngIf",e.isMobileWebView),t.xp6(1),t.Q6J("ngStyle",t.VKq(23,ea,e.isMobileWebView?"200px":"0")),t.xp6(1),t.Q6J("ngIf","general"==e.modeView),t.xp6(1),t.Q6J("ngIf","password"==e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"==e.modeView),t.xp6(1),t.Q6J("ngIf","setting-unit"==e.modeView),t.xp6(1),t.Q6J("ngIf","share-question"==e.modeView),t.xp6(1),t.Q6J("ngIf","history-withdraw"==e.modeView),t.xp6(1),t.Q6J("ngIf","remove-account"==e.modeView),t.xp6(1),t.Q6J("ngIf","setting-biometrics"==e.modeView)}}let yo=(()=>{class n extends y.Q{changModeView(e){let o=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString("/auth/account-setting/0/"+e,o?"?backTo="+encodeURIComponent(o):"")}getInfo(){this.userObj=this.baseApiService.getUserObj()}saveUserObjData(e){this.userObj=e}mobLogout(){this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT":"OFF_LOGIN_FINGERPRINT")}ngOnInit(){this.baseApiService.isAnonymousRole()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}),super.ngOnInit()),this.hasTeacherRole=this.baseApiService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),(0,M.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-biometrics";break;default:this.modeView="general"}const o=this.commonService.getMyQueryParam("modeView");o&&(this.modeView=o);let i=this.commonService.getMyQueryParam("backTo");this.backLink=i??(this.isTeacherDashboard?"/admin/dashboard":"/student/dashboard/0")})}constructor(e,o,i,l,d,h){super(e),this.commonService=e,this.baseApiService=o,this.redirectService=i,this.activeRoute=l,this.authService=d,this.mobileWebviewService=h,this.userObj={},this.prevData="",this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new a.NI(!1),this.checkFaceOrFingerprint=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(j._),t.Y36(nt.V),t.Y36(p.gz),t.Y36(q.e8),t.Y36(gt.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-account-setting"]],features:[t.qOj],decls:4,vars:2,consts:[[3,"headerBackTolink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackTolink"],[3,"ngTemplateOutlet"],[3,"hidden"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","lg:col-span-3","2xl:col-span-2"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["class","form-check form-switch items-center px-3 py-2 mt-2 rounded-md w-full",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9","2xl:col-span-10",3,"ngStyle"],[4,"ngIf"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"w-4","h-4","mr-2","inline-block"],["name","ruler"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","clipboard-list"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","history"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","user"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],[3,"name"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","fingerprint"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","trash-2"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[3,"userObj","isTeacherDashboard","saveUserObj"],[3,"isTeacherDashboard","hasTeacherRole"]],template:function(e,o){1&e&&(t.YNc(0,Vi,2,2,"teacher-layout",0),t.YNc(1,bo,2,2,"student-layout",0),t.YNc(2,mn,29,25,"ng-template",null,1,t.W1O)),2&e&&(t.Q6J("ngIf",o.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf",!o.isTeacherDashboard))},dependencies:[C.mk,C.O5,C.tP,C.PC,a.Wl,a.JJ,a.oH,rt.Q,G._,mt.L,X.Nh5,ci,hi,He,Tr,on,Ji,se,rn,z.bT],encapsulation:2}),n})();var fn=m(75477);function vn(n,s){if(1&n&&(t.TgZ(0,"div",5),t.GkF(1,6),t.qZA()),2&n){t.oxw();const e=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function bn(n,s){if(1&n&&(t.TgZ(0,"div",5),t.GkF(1,6),t.qZA()),2&n){t.oxw();const e=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function xn(n,s){1&n&&t.Hsn(0)}function wo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.switchModeUI("dark"))}),t.O4$(),t.TgZ(1,"svg",20),t._UZ(2,"path",21),t.qZA(),t.kcU(),t.TgZ(3,"span",22),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_che_de_toi")))}function na(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.switchModeUI("light"))}),t.O4$(),t.TgZ(1,"svg",20),t._UZ(2,"circle",24)(3,"path",25)(4,"path",26)(5,"path",27)(6,"path",28)(7,"path",29)(8,"path",30)(9,"path",31)(10,"path",32),t.qZA(),t.kcU(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}2&n&&(t.xp6(12),t.Oqu(t.lcZ(13,1,"lang_auto_che_de_sang")))}const oa=function(n){return[n]};function yn(n,s){if(1&n&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"a",10),t.ALo(4,"mylocalize"),t._UZ(5,"img",11),t.ALo(6,"convertCdnLinkOfGitHub"),t.qZA()(),t.TgZ(7,"div",12),t._UZ(8,"azt-switch-language"),t.qZA(),t.TgZ(9,"div",13),t.YNc(10,wo,6,3,"button",14),t.YNc(11,na,14,3,"button",15),t.qZA()(),t.TgZ(12,"div",16)(13,"div",17)(14,"div",18),t.GkF(15,6),t.qZA()()()()),2&n){const e=t.oxw(),o=t.MAs(4);t.xp6(3),t.Q6J("routerLink",t.VKq(9,oa,t.lcZ(4,5,"/auth/login"))),t.xp6(2),t.Q6J("src",t.lcZ(6,7,"azota_assets/images/logo.svg"),t.LSH),t.xp6(5),t.Q6J("ngIf","light"==e.modeUI),t.xp6(1),t.Q6J("ngIf","dark"==e.modeUI),t.xp6(4),t.Q6J("ngTemplateOutlet",o)}}function Ao(n,s){if(1&n&&(t.TgZ(0,"div",7)(1,"div",16)(2,"div",17)(3,"div",18),t.GkF(4,6),t.qZA()()()()),2&n){t.oxw();const e=t.MAs(4);t.xp6(4),t.Q6J("ngTemplateOutlet",e)}}const wn=["*"];let te=(()=>{class n extends y.Q{switchModeUI(e){let o=document.getElementById("azota-app-html");this.modeUI=e,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(o.classList.remove("dark"),o.classList.add("light")):(o.classList.remove("light"),o.classList.add("dark"))}ngOnInit(){var e;super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":null!==(e=this.browserStorageService.getStorage("mode_ui"))&&void 0!==e?e:"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(e,o){super(e),this.commonService=e,this.browserStorageService=o,this.modeUI="",this.initStatusObj()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(dt.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["auth-layout"]],features:[t.qOj],ngContentSelectors:wn,decls:9,vars:2,consts:[[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"p-5","box","mx-auto","w-full",2,"max-width","500px"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,vn,2,1,"div",1),t.YNc(2,bn,2,1,"div",1),t.qZA(),t.YNc(3,xn,1,0,"ng-template",null,2,t.W1O),t.YNc(5,yn,16,11,"ng-template",null,3,t.W1O),t.YNc(7,Ao,5,1,"ng-template",null,4,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.isMobileWebView&&!o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",o.isMobileWebView&&!o.statusObj.loading))},dependencies:[p.rH,C.O5,C.tP,fn.x,z.mp,z.bT,z.Jc],encapsulation:2}),n})();function An(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_email")," "))}function Co(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function Cn(n,s){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,An,3,3,"span",2),t.YNc(2,Co,3,3,"span",2),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form.controls.email.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.email.errors.email||e.form.controls.email.errors.pattern)}}function ia(n,s){if(1&n&&(t.TgZ(0,"div",12)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.statusObj.errorMessage))}}function Tn(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",13)(2,"g",14)(3,"g",15),t._UZ(4,"circle",16),t.TgZ(5,"path",17),t._UZ(6,"animateTransform",18),t.qZA()()()()())}function aa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"form",7)(2,"div",8),t._UZ(3,"input",9),t.ALo(4,"mytranslate"),t.YNc(5,Cn,3,2,"div",10),t.YNc(6,ia,4,3,"div",10),t.qZA(),t.TgZ(7,"div",3)(8,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.confirmEmail())}),t.YNc(9,Tn,7,0,"span",2),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(2),t.s9C("placeholder",t.lcZ(4,7,"lang_auto_nhap_email_moi")),t.xp6(2),t.Q6J("ngIf",e.form.controls.email.errors&&e.form.controls.email.dirty),t.xp6(1),t.Q6J("ngIf",e.statusObj.errorMessage),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(11,9,"lang_auto_tiep_tuc")," ")}}function To(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",19)(2,"div",20)(3,"p",21),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"b"),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),t.xp6(3),t.Oqu(e.oldEmail),t.xp6(1),t.hij(" ",t.lcZ(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let ra=(()=>{class n extends y.Q{ignoreRequest(){this.baseApiService.redirectLoginByRole("")}confirmEmail(){this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeEmailPost({newEmail:this.form.controls.email.value}).subscribe(o=>{var i,l,d;1==o.success?(this.oldEmail=null!==(l=null===(i=o.data)||void 0===i?void 0:i.value)&&void 0!==l?l:"",this.successStatusObj(),this.step=2):this.errorStatusObj(null!==(d=o.message)&&void 0!==d?d:"")})))}handleClickDashboard(){this.baseApiService.redirectLoginByRole("")}backToRedirect(){let e=this.getMyQueryParam("return_url");e&&this.myNavigation(e)}ngOnInit(){this.form=this.formBuilder.group({email:new a.p4("",[a.kI.required,a.kI.email,a.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)])}),this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,o,i,l){super(o),this.baseApiService=e,this.commonService=o,this.formBuilder=i,this.userInfoService=l,this.form=new a.nJ({}),this.step=1,this.oldEmail=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j._),t.Y36(S.v),t.Y36(a.QS),t.Y36(q.$C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-account"]],features:[t.qOj],decls:13,vars:8,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[3,"formGroup"],[1,"azt-form-group"],["type","text","name","email","formControlName","email",1,"form-control",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","w-full",3,"disabled","click"],[1,"text-xs","text-danger","font-medium","mt-1"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"auth-layout")(1,"h2",0),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",1),t.YNc(5,aa,12,11,"div",2),t.YNc(6,To,10,7,"div",2),t.TgZ(7,"div",3)(8,"a",4),t.NdJ("click",function(){return o.backToRedirect()}),t.O4$(),t.TgZ(9,"svg",5),t._UZ(10,"polyline",6),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_doi_email_moi")," "),t.xp6(3),t.Q6J("ngIf",1==o.step),t.xp6(1),t.Q6J("ngIf",!o.statusObj.loading&&2==o.step),t.xp6(5),t.hij(" ",t.lcZ(12,6,"lang_auto_quay_lai")," "))},dependencies:[C.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,et.M,te,z.bT],encapsulation:2}),n})(),sa=(()=>{class n extends y.Q{get returnUrl(){var e;return null!==(e=this.commonService.getMyQueryParam("return_url"))&&void 0!==e?e:""}get confirm_type(){var e;return null!==(e=this.commonService.getMyQueryParam("confirm_type"))&&void 0!==e?e:""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(e=>{var o;if(1==e.success){let i=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+(null===(o=e?.data)||void 0===o?void 0:o.app);window.location.href=i.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(e,o){super(e),this.commonService=e,this.userInfoService=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(q.$C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-checking-service"]],features:[t.qOj],decls:4,vars:3,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(e,o){1&e&&(t.TgZ(0,"h2",0),t._UZ(1,"span",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&e&&(t.xp6(2),t.hij("\xa0 ",t.lcZ(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[z.bT],encapsulation:2}),n})();function ca(n,s){1&n&&t._UZ(0,"azt-loading-effect")}let la=(()=>{class n extends y.Q{chooseRegisterStudent(){this.baseApiService.redirectLoginByRole("")}chooseRegisterTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(e=>{var o;1==e.success?this.baseApiService.redirectLoginByRole(""):this.errorStatusObj(null!==(o=e.message)&&void 0!==o?o:"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(e,o,i){super(e),this.commonService=e,this.userInfoService=o,this.baseApiService=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(q.$C),t.Y36(j._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-download-answer-sheet"]],features:[t.qOj],decls:30,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"convertCdnLinkOfGitHub"),t.TgZ(8,"h3",7),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",8)(12,"div",9),t.YNc(13,ca,1,0,"azt-loading-effect",10),t.TgZ(14,"div",11),t.NdJ("click",function(){return o.chooseRegisterStudent()}),t.TgZ(15,"div",12),t.O4$(),t.TgZ(16,"svg",13),t._UZ(17,"path",14)(18,"path",15),t.qZA(),t.kcU(),t.TgZ(19,"p"),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()(),t.TgZ(22,"div",16),t.NdJ("click",function(){return o.chooseRegisterTeacher()}),t.TgZ(23,"div",12),t._UZ(24,"img",17),t.ALo(25,"convertCdnLinkOfGitHub"),t.TgZ(26,"p"),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()()()()()(),t._UZ(29,"div",2),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("src",t.lcZ(7,6,"azota_assets/images/logo.svg"),t.LSH),t.xp6(3),t.Oqu(t.lcZ(10,8,"lang_auto_chon_vai_tro")),t.xp6(4),t.Q6J("ngIf",o.statusObj.loading),t.xp6(7),t.Oqu(t.lcZ(21,10,"lang_auto_toi_la_hoc_sinh")),t.xp6(4),t.Q6J("src",t.lcZ(25,12,"azota_assets/images/teacher.png"),t.LSH),t.xp6(3),t.Oqu(t.lcZ(28,14,"lang_auto_toi_la_giao_vien")))},dependencies:[C.O5,rt.Q,z.bT,z.Jc],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),n})();var ge=m(65834);let ua=(()=>{class n extends y.Q{constructor(e,o,i,l,d){super(e),this.commonService=e,this.userInfoService=o,this.baseApiService=i,this.localStorageObject=l,this.userService=d}getData(e){this.subscriptions.add(this.userInfoService.apiUserInfoConfirmPassFromEmailPost({secret:e}).subscribe(i=>{var l;1==i.success?(this.showSuccessSnack("lang_auto_doi_email_thanh_cong"),this.getInfo()):(this.errorStatusObj(null!==(l=i.message)&&void 0!==l?l:"",!0),this.myNavigation("/auth/login"))}))}getInfo(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoInfoGet().subscribe(e=>{var o,i;if(1==e.success){let l=null!==(o=e.data)&&void 0!==o?o:{};this.userService.saveUserObj(l),this.successStatusObj(),this.localStorageObject.clearAllCache(),this.baseApiService.redirectLoginByRole("")}else this.errorStatusObj(null!==(i=e.message)&&void 0!==i?i:"")}))}ignoreRequest(){this.baseApiService.redirectLoginByRole("")}confirmChangeEmail(){let e=this.commonService.getMyQueryParam("secret");e?this.getData(e):this.showErrorSnack("lang_auto_vui_long_truy_cap_link_duoc_gui_den_email_cua_ban")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(q.$C),t.Y36(j._),t.Y36(ge.y),t.Y36(ot.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-email"]],features:[t.qOj],decls:28,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],[1,"p-0","mt-2","mb-2"],[1,"card-body"],[1,"card-text"],[1,"flex","mt-3",2,"justify-content","space-between"],["azt-track-service","confirm-change-email-UgUOGI7866","mat-stroked-button","",2,"width","45%",3,"click"],["azt-track-service","confirm-change-email-hppBkbJfeV","mat-stroked-button","",1,"btn-azt-primary",2,"width","45%","margin-left","15px",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._UZ(7,"img",7),t.ALo(8,"convertCdnLinkOfGitHub"),t.TgZ(9,"h3",8),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",9)(13,"p",10),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.ALo(17,"mytranslate"),t.ALo(18,"mytranslate"),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){return o.ignoreRequest()}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"button",13),t.NdJ("click",function(){return o.confirmChangeEmail()}),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()()()()(),t._UZ(27,"div",3),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("src",t.lcZ(8,9,"azota_assets/images/logo.svg"),t.LSH),t.xp6(3),t.hij(" ",t.lcZ(11,11,"lang_auto_xac_nhan_doi_email_moi")," "),t.xp6(4),t.xDo(" ",t.lcZ(15,13,"lang_auto_ban_vua_yeu_cau_thay_doi_email_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',t.lcZ(16,15,"lang_auto_xac_nhan"),'" ',t.lcZ(17,17,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',t.lcZ(18,19,"lang_auto_huy"),'" ',t.lcZ(19,21,"lang_auto_de_huy_bo_yeu_cau_nay")," "),t.xp6(8),t.hij(" ",t.lcZ(23,23,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(26,25,"lang_cms_common_confirm_btn")," "))},dependencies:[ae.eB,z.bT,z.Jc],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),n})();function Zn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",14)(9,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.ignoreRequest())}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.confirmPassword())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(2),t.xDo(" ",t.lcZ(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',t.lcZ(4,9,"lang_auto_xac_nhan"),'" ',t.lcZ(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',t.lcZ(6,13,"lang_auto_huy"),'" ',t.lcZ(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),t.xp6(8),t.hij(" ",t.lcZ(11,17,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(14,19,"lang_cms_common_confirm_btn")," "))}function da(n,s){1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_cms_common_loading"),"..."))}const Zo=function(n){return[n]},kn=function(){return{user_click:"true"}};function _a(n,s){1&n&&(t.TgZ(0,"div",22)(1,"div",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",24)(5,"div",25)(6,"a",26),t.ALo(7,"localize"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(10,Zo,t.lcZ(7,6,"/auth/login")))("queryParams",t.DdM(12,kn)),t.xp6(2),t.Oqu(t.lcZ(9,8,"lang_auto_dang_nhap_tai_khoan")))}function Sn(n,s){if(1&n&&(t.TgZ(0,"div",22)(1,"div",27),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",t.lcZ(4,5,e.hasErrorMessage),"",t.lcZ(5,7,"lang_auto__vui_long_thu_lai_sau")," ")}}function ga(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,_a,10,13,"div",20),t.YNc(2,Sn,6,9,"ng-template",null,21,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.hasErrorMessage)("ngIfElse",e)}}let In=(()=>{class n extends y.Q{ignoreRequest(){this.baseApiService.redirectLoginByRole("")}confirmPassword(){var e;this.initStatusObj();var i={secret:null!==(e=this.commonService.getMyQueryParam("secret"))&&void 0!==e?e:""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(i).subscribe(l=>{var d;1==l.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=null!==(d=l.message)&&void 0!==d?d:"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,o,i){super(o),this.baseApiService=e,this.commonService=o,this.smsService=i,this.form=new a.nJ({}),this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j._),t.Y36(S.v),t.Y36(q.tr))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password-email"]],features:[t.qOj],decls:17,vars:7,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6)(7,"div",7)(8,"span",8),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",9)(12,"div"),t.YNc(13,Zn,15,21,"div",10),t.qZA(),t.YNc(14,da,6,3,"div",11),t.YNc(15,ga,4,2,"div",11),t.qZA()()(),t._UZ(16,"div",3),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(t.lcZ(10,5,"lang_auto_doi_mat_khau_moi")),t.xp6(4),t.Q6J("ngIf",1==o.step),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!o.statusObj.loading&&2==o.step))},dependencies:[p.rH,C.O5,a._Y,a.JL,ae.eB,a.sg,F.lO,z.bT],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),n})();var Ce=m(70259),ee=m(84322),pa=m(50727);let Te=(()=>{class n{get windowRef(){return window}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const ha=["verifyCode"];function ma(n,s){1&n&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function On(n,s){if(1&n&&(t.TgZ(0,"div",7)(1,"label",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij("*** ",t.lcZ(3,1,e.statusObj.errorMessage),"")}}function ko(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resendCode())}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_khong_nhan_duoc_ma_xac_thuc")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_auto_gui_lai")))}function So(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",35),t._uU(2,"\xa0"),t.qZA())}const fa=function(n){return{"margin-left":n}};let va=(()=>{class n extends y.Q{getInitApp(){return this.app}getAuthApp(){return(0,ee.v0)(this.app)}getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,o){var i,l;return!(null===(i=this.form.controls[e].errors)||void 0===i||!i[o])&&(null===(l=this.form.controls[e].errors)||void 0===l?void 0:l[o])}get firebaseApp(){var e;return null!==(e=this.commonService.getMyQueryParam("app_name"))&&void 0!==e?e:""}get returnUrl(){var e;return null!==(e=this.commonService.getMyQueryParam("return_url"))&&void 0!==e?e:""}getConfirmType(){var e;return null!==(e=this.commonService.getMyQueryParam("confirm_type"))&&void 0!==e?e:""}skipVerifyPhone(){var e,o=Math.round((new Date).getTime()/1e3);if(this.browserStorageService.saveSimpleStorage("skip_verify_phone",o.toString()),this.baseApiService.redirectLoginByRole(""),"confirm_phone_register"==this.getConfirmType())this.commonService.myNavigation("/admin/student/manage-class/0");else{let l=null!==(e=this.getMyQueryParam("return_url"))&&void 0!==e?e:"";this.commonService.myNavigation(l)}}handleConfirmUsage(){const e=this.form.value.phone;let o=this.getConfirmType();if(""!=e)switch(o){case"forgot_password":this.gaService.gaEvent("confirm_event_forgot_password"),this.userInfoService.apiUserInfoCheckPhoneExistsGet(e).subscribe(i=>{1==i.success?this.sendLoginCode("+84"+e.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())});break;case"change_phone":this.gaService.gaEvent("confirm_event_change_phone"),this.userInfoService.apiUserInfoCheckPhoneExistsGet(e).subscribe(i=>{1!=i.success?this.sendLoginCode("+84"+e.slice(1)):(this.showErrorSnack("lang_core_duplicated_phone"),this.reRenderCaptcha())});break;default:this.gaService.gaEvent("confirm_event_confirm_phone"),this.userInfoService.apiUserInfoCheckUpdatePhoneExistsGet(e).subscribe(i=>{1!=i.success?this.sendLoginCode("+84"+e.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())})}else this.showErrorSnack("lang_auto_vui_long_nhap_so_dien_thoai"),this.reRenderCaptcha()}sendLoginCode(e){const o=this.windowRef.recaptchaVerifier;(0,ee.$g)(this.getAuthApp(),e,o).then(i=>{this.windowRef.confirmationResult=i,this.smsSent=!0,this.timeOut=60,this.countDownTime()}).catch(i=>{console.log(i),"auth/quota-exceeded"==i.code?this.userInfoService.apiUserInfoFirebaseOverQuotaGet(this.firebaseApp).subscribe(l=>{1==l.success?this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(d=>{var h,v,x,A,k;if(1==d.success)if((null===(h=d?.data)||void 0===h?void 0:h.app)!==this.firebaseApp){var E=this.commonService.getMyQueryParam("interval_app");if(E&&E!=(null===(v=d?.data)||void 0===v?void 0:v.app)){E=E||(null!==(A=null===(x=d?.data)||void 0===x?void 0:x.app)&&void 0!==A?A:"");let Z=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+(null===(k=d?.data)||void 0===k?void 0:k.app)+"&interval_app="+E;window.location.href=Z.toString()}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN")}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN");else this.showErrorSnack("lang_auto_khong_lay_duoc_thong_tin_FirebaseApp")}):this.showErrorSnack("lang_auto_khong_danh_dau_duoc_firebase_het_quoata")}):(this.gaService.gaEvent("confirm_event_error_send_code"),this.smsSent=!1,this.commonService.getTranslate("lang_auto_co_loi_xay_ra_split_lang").subscribe(l=>{this.showErrorSnack(l+" | "+i.code)}))})}verify_code(e){this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(e).then(o=>{this.isVerifying=!1;const i=o.user;let l=this.getConfirmType();"forgot_password"===l?this.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+this.firebaseApp+"&token="+encodeURIComponent(i.accessToken)):this.userInfoService.apiUserInfoUpdatePhoneOrPasswordByFirebasePost({firebaseToken:i.accessToken,password:"",appName:this.firebaseApp}).subscribe(h=>{1==h.success?(this.showSuccessSnack("lang_auto_cap_nhat_so_dien_thoai_thanh_cong"),"confirm_phone_register"==l?this.commonService.myNavigation("/admin/student/manage-class/0"):this.baseApiService.redirectLoginByRole("")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra_split_lang").subscribe(v=>{this.showErrorSnack(v+" | "+h.message)})})}).catch(o=>{console.log(o),this.isVerifying=!1,this.gaService.gaEvent("confirm_event_error_verify_code"),this.commonService.getTranslate("lang_auto_co_loi_xay_ra_split_lang").subscribe(i=>{this.showErrorSnack(i+" | "+o.code)})})):(this.isVerifying=!1,this.showErrorSnack("lang_auto_ma_xac_thuc_khong_dung_vui_long_kiem_tra_lai"))}resendCode(){var e;this.reRenderCaptcha(),null===(e=document.getElementById("recaptcha-container"))||void 0===e||e.click()}countDownTime(){void 0!==this.myCountDown&&clearInterval(this.myCountDown),this.myCountDown=window.setInterval(()=>{this.timeOut>0&&this.timeOut--},1e3)}initForm(){this.form=this.formBuilder.group({phone:["",[a.kI.required,a.kI.minLength(10),a.kI.maxLength(10),a.kI.pattern(/^[0-9]*$/)]]})}handleClickLogout(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.baseApiService.redirectLoginByRole(""):(this.baseApiService.logout(),this.redirectService.redirectSimpleLogin())}reRenderCaptcha(){}handleEnterVerify(e,o){"Enter"==e.key&&(this.gaService.gaEvent("confirm_event_verify_code_by_press_enter"),this.verify_code(o))}ngOnInit(){this.initForm();let e=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=e&&this.userInfoService.apiUserInfoInfoGet().subscribe(o=>{var i,l,d;1==o.success?1==(null===(i=o?.new_user)||void 0===i?void 0:i.isVerifyPhone)?"change_phone"!=e&&this.baseApiService.redirectLoginByRole(""):null!==(l=o?.new_user)&&void 0!==l&&l.phone&&(null===(d=o?.new_user)||void 0===d?void 0:d.phone.length)<=10?this.form.setValue({phone:""}):(this.form.setValue({phone:""}),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra_split_lang").subscribe(h=>{this.showErrorSnack(h+(o.message?" | "+o.message:""))})}),e){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}super.ngOnInit()}ngAfterViewInit(){if(this.windowRef=this.window.windowRef,this.windowRef.recaptchaVerifier=new ee.lI("recaptcha-container",{size:"invisible",callback:()=>{this.handleConfirmUsage()}},this.getAuthApp()),this.windowRef.recaptchaVerifier.render().then(e=>{this.windowRef.recaptchaWidgetId=e}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){let e=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",o=>this.handleEnterVerify(o,e))}}constructor(e,o,i,l,d,h,v,x){super(o),this.formBuilder=e,this.commonService=o,this.window=i,this.baseApiService=l,this.userInfoService=d,this.redirectService=h,this.browserStorageService=v,this.gaService=x,this.subscriptions=new pa.w0,this.form=new a.nJ({}),this.confirm_type="forgot_password",this.isVerifying=!1,this.smsSent=!1,this.timeOut=60,this.captchaWidgetId="",this.isLoading=!0,this.app=(0,Ce.ZF)(at.N[`firebaseConfig_${this.firebaseApp}`],"confirm_account"),this.getAuthApp().useDeviceLanguage()}ngOnDestroy(){if(clearInterval(this.myCountDown),this.verifyCode){let e=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",o=>this.handleEnterVerify(o,e))}super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.QS),t.Y36(S.v),t.Y36(Te),t.Y36(j._),t.Y36(q.$C),t.Y36(nt.V),t.Y36(dt.z),t.Y36(Wt.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-account"]],viewQuery:function(e,o){if(1&e&&t.Gf(ha,5),2&e){let i;t.iGM(i=t.CRH())&&(o.verifyCode=i.first)}},features:[t._Bn([Te]),t.qOj],decls:56,vars:45,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"card-body","mt-2"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group"],["id","phoneInput","type","text","formControlName","phone","name","phone","autocomplete","off",1,"form-control",3,"placeholder"],["phoneInput",""],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],["id","recaptcha-container",1,"btn","btn-primary","w-full","mt-3",3,"disabled"],[1,"mt-3","mb-2","text-center"],["azt-track-service","confirm_account-_jpaWEGGur",1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],[1,"input-group","mb-3"],["type","string","autocomplete","off",1,"form-control",3,"placeholder"],["verifyCode",""],[1,"input-group-append","ml-1"],["azt-track-service","confirm_account-S4DltugIno","id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-left","mt-3"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c456","","_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["azt-track-service","confirm_account-kCDyjoqLEl",1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"auth-layout")(1,"div",0)(2,"h2",1),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"div",9),t._UZ(14,"input",10,11),t.ALo(16,"mytranslate"),t.qZA(),t.YNc(17,ma,3,3,"div",12),t.TgZ(18,"button",13),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14)(22,"a",15),t.NdJ("click",function(){return o.skipVerifyPhone()}),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()(),t.YNc(25,On,4,3,"div",16),t.qZA()(),t.TgZ(26,"div",17)(27,"div",8)(28,"div",18),t._uU(29),t.ALo(30,"mytranslate"),t.TgZ(31,"b"),t._uU(32),t.qZA(),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t.TgZ(35,"div",19),t._uU(36),t.qZA(),t.YNc(37,ko,6,6,"div",20),t.TgZ(38,"div",21),t._UZ(39,"input",22,23),t.ALo(41,"mytranslate"),t.TgZ(42,"div",24)(43,"button",25),t.NdJ("click",function(){t.CHM(i);const d=t.MAs(40);return t.KtG(o.verify_code(d.value))}),t.YNc(44,So,3,0,"span",26),t._uU(45),t.ALo(46,"mytranslate"),t.qZA()()()()()(),t._UZ(47,"hr"),t.TgZ(48,"div",27)(49,"a",28),t.NdJ("click",function(){return o.handleClickLogout()}),t.O4$(),t.TgZ(50,"svg",29),t._UZ(51,"polyline",30),t.qZA(),t._uU(52),t.ALo(53,"mytranslate"),t.ALo(54,"mytranslate"),t.ALo(55,"mytranslate"),t.qZA()()()()()}if(2&e){const i=t.MAs(40);t.xp6(3),t.hij(" ","change_phone"==o.confirm_type?t.lcZ(4,19,"lang_auto_doi_so_diem_thoai_moi"):t.lcZ(5,21,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),t.xp6(5),t.Q6J("ngStyle",t.VKq(43,fa,o.smsSent?"-100%":"0")),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(4),t.s9C("placeholder",t.lcZ(16,23,"lang_auto_nhap_so_dien_thoai_moi")),t.xp6(3),t.Q6J("ngIf",(o.form.controls.phone.dirty||o.form.controls.phone.touched)&&o.form.controls.phone.errors),t.xp6(1),t.Q6J("disabled",o.form.errors),t.xp6(1),t.hij(" ",t.lcZ(20,25,"lang_auto_tiep_tuc")," "),t.xp6(4),t.Oqu(t.lcZ(24,27,"lang_auto_bo_qua")),t.xp6(2),t.Q6J("ngIf",o.statusObj.errorMessage),t.xp6(4),t.hij(" ",t.lcZ(30,29,"lang_auto_mot_tin_nhan_chua_ma_xac_thuc_vua_duoc_gui_toi_so_dien_thoai")," "),t.xp6(3),t.Oqu(o.form.value.phone),t.xp6(1),t.hij("",t.lcZ(34,31,"lang_auto__vui_long_nhap_ma_nay_vao_o_duoi_day_roi_an_xac_thuc")," "),t.xp6(3),t.hij("",o.timeOut," s"),t.xp6(1),t.Q6J("ngIf",0==o.timeOut),t.xp6(2),t.s9C("placeholder",t.lcZ(41,33,"lang_auto_ma_xac_thuc")),t.xp6(4),t.Q6J("disabled",""==i.value||o.isVerifying),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(46,35,"lang_auto_xac_thuc")," "),t.xp6(7),t.hij(" ","forgot_password"==o.confirm_type?t.lcZ(53,37,"lang_auto_dang_nhap_tai_khoan"):"change_phone"==o.confirm_type?t.lcZ(54,39,"lang_auto_quay_lai_man_hinh_chinh"):t.lcZ(55,41,"lang_auto_dang_xuat")," ")}},dependencies:[C.O5,C.PC,a._Y,a.Fj,a.JJ,a.JL,ae.eB,a.sg,a.u,et.M,te,z.bT],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),n})();function Oo(n,s){1&n&&(t.TgZ(0,"div",31)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Ln(n,s){if(1&n&&(t.TgZ(0,"div",31)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.msgError)}}function ba(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",32),t._UZ(2,"path",33)(3,"circle",34),t.qZA()())}function En(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",32),t._UZ(2,"path",35)(3,"path",36)(4,"path",37)(5,"line",38),t.qZA()())}function xa(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function qr(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ur(n,s){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,xa,3,3,"span",3),t.YNc(2,qr,3,3,"span",3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.minlength)}}function Mn(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",39)(1,"g",40)(2,"g",41),t._UZ(3,"circle",42),t.TgZ(4,"path",43),t._UZ(5,"animateTransform",44),t.qZA()()()())}const Ze=function(n){return[n]},jr=function(n){return{return_url:n}},ne=function(){return{user_click:"true"}};function ya(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"input",6),t.NdJ("input",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.checkValidateUser(i.form.controls.emailOrPhone.value))}),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,Oo,4,3,"div",7),t.YNc(6,Ln,3,1,"div",7),t.qZA(),t.TgZ(7,"div",8),t._UZ(8,"input",9),t.ALo(9,"mytranslate"),t.TgZ(10,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.togglePassword())}),t.YNc(11,ba,4,0,"span",3),t.YNc(12,En,6,0,"span",3),t.qZA(),t.YNc(13,Ur,3,2,"div",7),t.qZA()(),t.TgZ(14,"div",11)(15,"a",12),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",13)(19,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changePassword())}),t.YNc(20,Mn,6,0,"svg",15),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()(),t.TgZ(23,"div",16)(24,"span",17),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()(),t.TgZ(27,"div",18)(28,"button",19),t.ALo(29,"localize"),t.O4$(),t.TgZ(30,"svg",20),t._UZ(31,"path",21)(32,"path",22)(33,"path",23)(34,"path",24)(35,"line",25),t.qZA(),t.kcU(),t.TgZ(36,"span",26),t._uU(37),t.ALo(38,"mytranslate"),t.qZA()()(),t.TgZ(39,"div",27)(40,"a",28),t.ALo(41,"localize"),t.O4$(),t.TgZ(42,"svg",29),t._UZ(43,"polyline",30),t.qZA(),t._uU(44),t.ALo(45,"mytranslate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,19,"lang_auto_email_hoac_so_dien_thoai")),t.xp6(2),t.Q6J("ngIf",e.form.controls.emailOrPhone.errors&&(e.form.controls.emailOrPhone.dirty||e.form.controls.emailOrPhone.touched)&&!e.checkValidateUsername),t.xp6(1),t.Q6J("ngIf",e.checkValidateUsername),t.xp6(2),t.s9C("type",e.showPassword?"text":"password"),t.s9C("placeholder",t.lcZ(9,21,"lang_auto_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",e.showPassword),t.xp6(1),t.Q6J("ngIf",!e.showPassword),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(3),t.hij(" ",t.lcZ(17,23,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),t.xp6(3),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(22,25,"lang_auto_tiep_tuc")," "),t.xp6(4),t.hij(" ",t.lcZ(26,27,"lang_auto_hoac")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(37,Ze,t.lcZ(29,29,"/auth/confirm_forgot_password_qr")))("queryParams",t.VKq(39,jr,e.backLink)),t.xp6(9),t.hij(" ",t.lcZ(38,31,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(41,Ze,t.lcZ(41,33,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(43,ne)),t.xp6(4),t.hij(" ",t.lcZ(45,35,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function wa(n,s){if(1&n&&(t.TgZ(0,"div",48)(1,"a",53),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.uIk("href","sms:"+e.phone_send+"?body=MK "+(null==e.response_change_pass?null:e.response_change_pass.otp),t.LSH),t.xp6(1),t.Oqu(t.lcZ(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets"))}}function Aa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.changeStepByNext())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_tiep_tuc")," "))}function Ca(n,s){if(1&n&&(t.TgZ(0,"div",55),t.O4$(),t.TgZ(1,"svg",56)(2,"g",40)(3,"g",41),t._UZ(4,"circle",42),t.TgZ(5,"path",43),t._UZ(6,"animateTransform",44),t.qZA()()()(),t.kcU(),t.TgZ(7,"div",55),t._uU(8),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(8),t.Oqu(e.currentMessage)}}function Lo(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",45)(2,"div",26),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",46)(10,"strong"),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.TgZ(14,"strong"),t._uU(15),t.qZA()(),t.YNc(16,wa,4,4,"div",47),t.TgZ(17,"div",48),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",48),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"div",49),t.YNc(24,Aa,3,3,"button",50),t.YNc(25,Ca,9,1,"div",51),t.qZA()(),t.TgZ(26,"div",27)(27,"a",52),t.ALo(28,"localize"),t.O4$(),t.TgZ(29,"svg",29),t._UZ(30,"polyline",30),t.qZA(),t._uU(31),t.ALo(32,"mytranslate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,14,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),t.xp6(3),t.Oqu(null==e.data_change_pass?null:e.data_change_pass.phone),t.xp6(1),t.hij(" ",t.lcZ(8,16,"lang_auto_va_soan_tin_nhan"),": "),t.xp6(4),t.hij("MK ",null==e.response_change_pass?null:e.response_change_pass.otp,""),t.xp6(1),t.hij(" ",t.lcZ(13,18,"lang_auto_gui")," "),t.xp6(3),t.Oqu(e.phone_send),t.xp6(1),t.Q6J("ngIf",e.is_mobile),t.xp6(2),t.hij(' "',t.lcZ(19,20,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),'" '),t.xp6(3),t.hij(" ",t.lcZ(22,22,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "),t.xp6(3),t.Q6J("ngIf",2==e.step_by_step),t.xp6(1),t.Q6J("ngIf",3==e.step_by_step),t.xp6(2),t.Q6J("routerLink",t.VKq(28,Ze,t.lcZ(28,24,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(30,ne)),t.xp6(4),t.hij(" ",t.lcZ(32,26,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Ct(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",45)(2,"div",57),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",58)(6,"a",59),t.ALo(7,"localize"),t.O4$(),t.TgZ(8,"svg",29),t._UZ(9,"polyline",30),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(10,Ze,t.lcZ(7,6,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(12,ne)),t.xp6(4),t.hij(" ",t.lcZ(11,8,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Eo(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",45)(2,"div",55),t.O4$(),t.TgZ(3,"svg",60),t._UZ(4,"path",61)(5,"path",62)(6,"path",63),t.qZA()(),t.kcU(),t.TgZ(7,"div",64),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",65),t._uU(11),t.ALo(12,"mytranslate"),t.TgZ(13,"b"),t._uU(14),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"div",58)(18,"div",66)(19,"a",67),t.ALo(20,"localize"),t.O4$(),t.TgZ(21,"svg",29),t._UZ(22,"polyline",30),t.qZA(),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(8),t.hij(" ",t.lcZ(9,7,"lang_auto_kiem_tra_email_cua_ban")," "),t.xp6(3),t.hij(" ",t.lcZ(12,9,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),t.xp6(3),t.Oqu(e.form.controls.emailOrPhone.value),t.xp6(1),t.hij(" ",t.lcZ(16,11,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(17,Ze,t.lcZ(20,13,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(19,ne)),t.xp6(4),t.hij(" ",t.lcZ(24,15,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}let Ta=(()=>{class n extends y.Q{getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,o){var i,l;return!(null===(i=this.form.controls[e].errors)||void 0===i||!i[o])&&(null===(l=this.form.controls[e].errors)||void 0===l?void 0:l[o])}randomPhone(e){if(e.includes(",")){let o=e.split(",");return o[this.commonService.getRandomNumber(0,o.length-1)]}return e}togglePassword(){this.showPassword=!this.showPassword}changePassword(){if(this.form.valid){this.initStatusObj();var e=this.commonService.getFormObj(this.form),o={phone:e.emailOrPhone,password:e.password};this.smsService.apiSmsChangePassPost(o).subscribe(i=>{var l,d;1==i.success?(this.successStatusObj(),e.emailOrPhone.includes("@")?this.step_by_step=5:(this.step_by_step=2,this.response_change_pass=null!==(l=i.data)&&void 0!==l?l:{},this.data_change_pass=o)):this.errorStatusObj(null!==(d=i.message)&&void 0!==d?d:"",!0)})}}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(e=>{var o,i,l;1==e.success?(this.successStatusObj(),this.phone_send=this.randomPhone(null!==(i=null===(o=e.data)||void 0===o?void 0:o.phone)&&void 0!==i?i:"")):this.errorStatusObj(null!==(l=e.message)&&void 0!==l?l:"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(e=>{this.currentMessage=e}),this.step_by_step=3,this.loop_check=window.setInterval(()=>{var e,o;this.smsService.apiSmsCheckStatusGet(null!==(o=null===(e=this.data_change_pass)||void 0===e?void 0:e.phone)&&void 0!==o?o:"").subscribe(i=>{var l,d;1==i.success?(this.successStatusObj(),1==(null===(l=i.data)||void 0===l?void 0:l.status)&&(this.step_by_step=4,clearInterval(this.loop_check))):(this.errorStatusObj(null!==(d=i.message)&&void 0!==d?d:""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(h=>{this.currentMessage=h}),clearInterval(this.loop_check))})},1e3)}checkValidateUser(e){this.msgError="",isNaN(Number(e))?this.validateEmail(e)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==e.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}switchModeUI(e){let o=document.getElementById("azota-app-html");this.modeUI=e,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?o&&(o.classList.remove("dark"),o.classList.add("light")):o&&(o.classList.remove("light"),o.classList.add("dark"))}ngOnInit(){var e,o;this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":null!==(e=this.browserStorageService.getStorage("mode_ui"))&&void 0!==e?e:"light",this.switchModeUI(this.modeUI),this.backLink=null!==(o=this.getMyQueryParam("return_url"))&&void 0!==o?o:"",this.isOnApp=this.isMobileWebView,this.form=this.formBuilder.group({emailOrPhone:["",[a.kI.required]],password:["",[a.kI.required,a.kI.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),super.ngOnInit()}constructor(e,o,i,l,d){super(o),this.formBuilder=e,this.commonService=o,this.smsService=i,this.mobileWebviewService=l,this.browserStorageService=d,this.form=new a.nJ({}),this.step_by_step=1,this.currentMessage="",this.phone_send="",this.isOnApp=!1,this.backLink="",this.is_mobile=this.commonService.isMobileDevice(),this.checkValidateUsername=!1,this.msgError="",this.imgLanguage="",this.modeUI="",this.showPassword=!1}ngOnDestroy(){this.loop_check&&clearInterval(this.loop_check),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.QS),t.Y36(S.v),t.Y36(q.tr),t.Y36(gt.F),t.Y36(dt.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[t.qOj],decls:10,vars:8,consts:[[1,"azt-forget-password"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[4,"ngIf"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/#quen-mat-khau","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M3 7V5a2 2 0 0 1 2-2h2"],["d","M17 3h2a2 2 0 0 1 2 2v2"],["d","M21 17v2a2 2 0 0 1-2 2h-2"],["d","M7 21H5a2 2 0 0 1-2-2v-2"],["x1","7","y1","12","x2","17","y2","12"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["points","15 18 9 12 15 6"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"index-x","box","p-5","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)",1,"w-4","h-4","mx-auto"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-16","h-16","mx-auto","text-success"],["d","M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"],["d","m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"],["d","m16 19 2 2 4-4"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"routerLink","queryParams"]],template:function(e,o){1&e&&(t.TgZ(0,"auth-layout")(1,"div",0)(2,"form",1)(3,"h2",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.YNc(6,ya,46,44,"ng-container",3),t.YNc(7,Lo,33,31,"ng-container",3),t.YNc(8,Ct,12,13,"ng-container",3),t.YNc(9,Eo,25,20,"ng-container",3),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(2),t.hij(" ",t.lcZ(5,6,"lang_auto_quen_mat_khau")," "),t.xp6(2),t.Q6J("ngIf",1==o.step_by_step),t.xp6(1),t.Q6J("ngIf",2==o.step_by_step||3==o.step_by_step),t.xp6(1),t.Q6J("ngIf",!o.statusObj.loading&&4==o.step_by_step),t.xp6(1),t.Q6J("ngIf",5==o.step_by_step))},dependencies:[p.rH,C.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,et.M,te,F.lO,z.bT],styles:[".btn-toggle-password[_ngcontent-%COMP%]{position:absolute;top:6px;right:0;border:none;background:transparent;z-index:99}.btn-toggle-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#757575;transition:all .5s}.btn-toggle-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{color:#434242}"]}),n})();function Za(n,s){1&n&&(t.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_cms_common_loading"),"..."))}function ka(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Pn(n,s){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,ka,3,3,"div",10),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required")||e.getErrorType("password","minlength"))}}function Sa(n,s){if(1&n&&(t.TgZ(0,"div",14)(1,"label",28),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("*** ",t.lcZ(3,1,e.statusObj.errorMessage),"")}}function qn(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",29),t._uU(2,"\xa0"),t.qZA())}const Ia=function(n){return[n]},Oa=function(){return{user_click:"true"}};function La(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),t._UZ(4,"input",17),t.ALo(5,"mytranslate"),t.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),t._uU(9,"lock"),t.qZA()()()(),t.YNc(10,Pn,2,1,"div",20),t.qZA()(),t.YNc(11,Sa,4,3,"div",21),t.TgZ(12,"div",22)(13,"div",15)(14,"div",23)(15,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.form.invalid||i.statusObj.loading||i.changePassword())}),t.YNc(16,qn,3,0,"span",10),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()(),t._UZ(19,"hr"),t.TgZ(20,"div",25)(21,"a",26),t.ALo(22,"localize"),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.s9C("placeholder",t.lcZ(5,9,"lang_auto_mat_khau_moi")),t.xp6(6),t.Q6J("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",e.statusObj.errorMessage),t.xp6(4),t.Q6J("disabled",e.form.invalid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(18,11,"lang_auto_doi_mat_khau")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(17,Ia,t.lcZ(22,13,"/auth/login")))("queryParams",t.DdM(19,Oa)),t.xp6(2),t.Oqu(t.lcZ(24,15,"lang_auto_dang_nhap_tai_khoan"))}}let Ea=(()=>{class n extends y.Q{getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,o){var i,l;return!(null===(i=this.form.controls[e].errors)||void 0===i||!i[o])&&(null===(l=this.form.controls[e].errors)||void 0===l?void 0:l[o])}changePassword(){if(this.form.valid){var e=this.commonService.getFormObj(this.form),o=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(o,e.password).subscribe(i=>{var l;1==i.success?(this.successStatusObj(),this.baseApiService.redirectLoginByRole("")):this.errorStatusObj(null!==(l=i.message)&&void 0!==l?l:"")}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[a.kI.required,a.kI.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,o,i,l){super(o),this.formBuilder=e,this.commonService=o,this.baseApiService=i,this.userInfoService=l,this.form=new a.nJ({})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.QS),t.Y36(S.v),t.Y36(j._),t.Y36(q.$C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password-admin"]],features:[t.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.ALo(6,"convertCdnLinkOfGitHub"),t.TgZ(7,"div",6)(8,"div",7)(9,"span",8),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",9),t.YNc(13,Za,6,3,"div",10),t.YNc(14,La,25,20,"div",10),t.qZA()()(),t._UZ(15,"div",3),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("src",t.lcZ(6,5,"azota_assets/images/logo.svg"),t.LSH),t.xp6(5),t.Oqu(t.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!o.statusObj.loading))},dependencies:[p.rH,C.O5,a._Y,a.Fj,a.JJ,a.JL,ae.eB,re.Hw,a.sg,a.u,et.M,F.lO,z.bT,z.Jc],encapsulation:2}),n})();var Zt=m(39105),_t=m(15861);const Ma=(()=>{class n{constructor(e,o,i,l,d){this._legacyCanvasSize=n.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),i&&"object"==typeof i?this._onDecode=o:(console.warn(i||l||d?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=o),this._onDecodeError=(o="object"==typeof i?i:{}).onDecodeError||("function"==typeof i?i:this._onDecodeError),this._calculateScanRegion=o.calculateScanRegion||("function"==typeof l?l:this._calculateScanRegion),this._preferredCamera=o.preferredCamera||d||this._preferredCamera,this._legacyCanvasSize="number"==typeof i?i:"number"==typeof l?l:this._legacyCanvasSize,this._maxScansPerSecond=o.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let h=!1;if(e.hidden&&(e.hidden=!1,h=!0),document.body.contains(e)||(document.body.appendChild(e),h=!0),i=e.parentElement,o.highlightScanRegion||o.highlightCodeOutline){if(l=!!o.overlay,this.$overlay=o.overlay||document.createElement("div"),(d=this.$overlay.style).position="absolute",d.display="none",d.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!l&&o.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}i.insertBefore(this.$overlay,this.$video.nextSibling)}o.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let v=window.getComputedStyle(e);"none"===v.display&&(e.style.setProperty("display","block","important"),h=!0),"visible"!==v.visibility&&(e.style.setProperty("visibility","visible","important"),h=!0),h&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=n.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,_t.Z)(function*(){try{return!!(yield n.listCameras(!1)).length}catch{return!1}})()}static listCameras(e=!1){return(0,_t.Z)(function*(){if(!navigator.mediaDevices)return[];let i,o=function(){var l=(0,_t.Z)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(d=>"videoinput"===d.kind)});return function(){return l.apply(this,arguments)}}();try{e&&(yield o()).every(l=>!l.label)&&(i=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield o()).map((l,d)=>({id:l.deviceId,label:l.label||(0===d?"Default Camera":`Camera ${d+1}`)}))}finally{i&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),n._stopVideoStream(i))}})()}hasFlash(){var e=this;return(0,_t.Z)(function*(){let o;try{if(e.$video.srcObject){if(!(e.$video.srcObject instanceof MediaStream))return!1;o=e.$video.srcObject}else o=(yield e._getCameraStream()).stream;return"torch"in o.getVideoTracks()[0].getSettings()}catch{return!1}finally{o&&o!==e.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),n._stopVideoStream(o))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var e=this;return(0,_t.Z)(function*(){e._flashOn?yield e.turnFlashOff():yield e.turnFlashOn()})()}turnFlashOn(){var e=this;return(0,_t.Z)(function*(){if(!e._flashOn&&!e._destroyed&&(e._flashOn=!0,e._active&&!e._paused))try{if(!(yield e.hasFlash()))throw"No flash available";yield e.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(o){throw e._flashOn=!1,o}})()}turnFlashOff(){var e=this;return(0,_t.Z)(function*(){e._flashOn&&(e._flashOn=!1,yield e._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),n._postWorkerMessage(this._qrEnginePromise,"close")}start(){var e=this;return(0,_t.Z)(function*(){if(e._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!e._active||e._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),e._active=!0,!document.hidden))if(e._paused=!1,e.$video.srcObject)yield e.$video.play();else try{let{stream:o,facingMode:i}=yield e._getCameraStream();!e._active||e._paused?n._stopVideoStream(o):(e._setVideoMirror(i),e.$video.srcObject=o,yield e.$video.play(),e._flashOn&&(e._flashOn=!1,e.turnFlashOn().catch(()=>{})))}catch(o){if(!e._paused)throw e._active=!1,o}})()}stop(){this.pause(),this._active=!1}pause(e=!1){var o=this;return(0,_t.Z)(function*(){if(o._paused=!0,!o._active)return!0;o.$video.pause(),o.$overlay&&(o.$overlay.style.display="none");let i=()=>{o.$video.srcObject instanceof MediaStream&&(n._stopVideoStream(o.$video.srcObject),o.$video.srcObject=null)};return e?(i(),!0):(yield new Promise(l=>setTimeout(l,300)),!!o._paused&&(i(),!0))})()}setCamera(e){var o=this;return(0,_t.Z)(function*(){e!==o._preferredCamera&&(o._preferredCamera=e,yield o._restartVideoStream())})()}static scanImage(e,o,i,l,d=!1,h=!1){return(0,_t.Z)(function*(){let v,x=!1;o&&("scanRegion"in o||"qrEngine"in o||"canvas"in o||"disallowCanvasResizing"in o||"alsoTryWithoutScanRegion"in o||"returnDetailedScanResult"in o)?(v=o.scanRegion,i=o.qrEngine,l=o.canvas,d=o.disallowCanvasResizing||!1,h=o.alsoTryWithoutScanRegion||!1,x=!0):console.warn(o||i||l||d||h?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),o=!!i;try{let A,k,E;if([i,A]=yield Promise.all([i||n.createQrEngine(),n._loadImage(e)]),[l,k]=n._drawToCanvas(A,v,l,d),i instanceof Worker){let Z=i;o||n._postWorkerMessageSync(Z,"inversionMode","both"),E=yield new Promise((N,ct)=>{let qt,Ut,Ft,ue=-1;Ut=St=>{St.data.id===ue&&(Z.removeEventListener("message",Ut),Z.removeEventListener("error",Ft),clearTimeout(qt),null!==St.data.data?N({data:St.data.data,cornerPoints:n._convertPoints(St.data.cornerPoints,v)}):ct(n.NO_QR_CODE_FOUND))},Ft=St=>{Z.removeEventListener("message",Ut),Z.removeEventListener("error",Ft),clearTimeout(qt),ct("Scanner error: "+(St?St.message||St:"Unknown Error"))},Z.addEventListener("message",Ut),Z.addEventListener("error",Ft),qt=setTimeout(()=>Ft("timeout"),1e4);let pt=k.getImageData(0,0,l.width,l.height);ue=n._postWorkerMessageSync(Z,"decode",pt,[pt.data.buffer])})}else E=yield Promise.race([new Promise((Z,N)=>window.setTimeout(()=>N("Scanner error: timeout"),1e4)),(0,_t.Z)(function*(){try{var[Z]=yield i.detect(l);if(!Z)throw n.NO_QR_CODE_FOUND;return{data:Z.rawValue,cornerPoints:n._convertPoints(Z.cornerPoints,v)}}catch(N){if(/not implemented|service unavailable/.test(Z=N.message||N))return n._disableBarcodeDetector=!0,n.scanImage(e,{scanRegion:v,canvas:l,disallowCanvasResizing:d,alsoTryWithoutScanRegion:h});throw`Scanner error: ${Z}`}})()]);return x?E:E.data}catch(A){if(!v||!h)throw A;let k=yield n.scanImage(e,{qrEngine:i,canvas:l,disallowCanvasResizing:d});return x?k:k.data}finally{o||n._postWorkerMessage(i,"close")}})()}setGrayscaleWeights(e,o,i,l=!0){n._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:o,blue:i,useIntegerApproximation:l})}setInversionMode(e){n._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static createQrEngine(e){return(0,_t.Z)(function*(){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>m.e(920).then(m.bind(m,36920)).then(i=>i.createWorker()),n._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return e();let o=navigator.userAgentData;return o&&o.brands.some(({brand:i})=>/Chromium/i.test(i))&&/mac ?OS/i.test(o.platform)&&(yield o.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:i,platformVersion:l})=>/arm/i.test(i||"arm")&&13<=parseInt(l||"13")).catch(()=>!0))?e():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let o=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-o)/2),y:Math.round((e.videoHeight-o)/2),width:o,height:o,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,o=e.videoWidth,i=e.videoHeight,l=e.offsetWidth,d=e.offsetHeight,h=e.offsetLeft,v=e.offsetTop,x=window.getComputedStyle(e),A=x.objectFit,k=o/i,E=l/d;switch(A){case"none":var Z=o,N=i;break;case"fill":Z=l,N=d;break;default:("cover"===A?k>E:k<E)?Z=(N=d)*k:N=(Z=l)/k,"scale-down"===A&&(Z=Math.min(Z,o),N=Math.min(N,i))}var[ct,qt]=x.objectPosition.split(" ").map((Ft,ue)=>{const pt=parseFloat(Ft);return Ft.endsWith("%")?(ue?d-N:l-Z)*pt/100:pt});E=this._scanRegion.height||i,A=this._scanRegion.x||0;var Ut=this._scanRegion.y||0;(k=this.$overlay.style).width=(x=this._scanRegion.width||o)/o*Z+"px",k.height=E/i*N+"px",k.top=`${v+qt+Ut/i*N}px`,i=/scaleX\(-1\)/.test(e.style.transform),k.left=`${h+(i?l-ct-Z:ct)+(i?o-A-x:A)/o*Z}px`,k.transform=e.style.transform}})}static _convertPoints(e,o){if(!o)return e;let i=o.x||0,l=o.y||0,d=o.width&&o.downScaledWidth?o.width/o.downScaledWidth:1;o=o.height&&o.downScaledHeight?o.height/o.downScaledHeight:1;for(let h of e)h.x=h.x*d+i,h.y=h.y*o+l;return e}_scanFrame(){var e=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,_t.Z)(function*(){if(!(1>=e.$video.readyState)){var o=Date.now()-e._lastScanTimestamp,i=1e3/e._maxScansPerSecond;o<i&&(yield new Promise(d=>setTimeout(d,i-o))),e._lastScanTimestamp=Date.now();try{var l=yield n.scanImage(e.$video,{scanRegion:e._scanRegion,qrEngine:e._qrEnginePromise,canvas:e.$canvas})}catch(d){if(!e._active)return;e._onDecodeError(d)}!n._disableBarcodeDetector||(yield e._qrEnginePromise)instanceof Worker||(e._qrEnginePromise=n.createQrEngine()),l?(e._onDecode?e._onDecode(l):e._legacyOnDecode&&e._legacyOnDecode(l.data),e.$codeOutlineHighlight&&(clearTimeout(e._codeOutlineHighlightRemovalTimeout),e._codeOutlineHighlightRemovalTimeout=void 0,e.$codeOutlineHighlight.setAttribute("viewBox",`${e._scanRegion.x||0} ${e._scanRegion.y||0} ${e._scanRegion.width||e.$video.videoWidth} ${e._scanRegion.height||e.$video.videoHeight}`),e.$codeOutlineHighlight.firstElementChild.setAttribute("points",l.cornerPoints.map(({x:d,y:h})=>`${d},${h}`).join(" ")),e.$codeOutlineHighlight.style.display="")):e.$codeOutlineHighlight&&!e._codeOutlineHighlightRemovalTimeout&&(e._codeOutlineHighlightRemovalTimeout=setTimeout(()=>e.$codeOutlineHighlight.style.display="none",100))}e._scanFrame()}))}_onDecodeError(e){e!==n.NO_QR_CODE_FOUND&&console.log(e)}_getCameraStream(){var e=this;return(0,_t.Z)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let o=/^(environment|user)$/.test(e._preferredCamera)?"facingMode":"deviceId",i=[{width:{min:1024}},{width:{min:768}},{}],l=i.map(d=>Object.assign({},d,{[o]:{exact:e._preferredCamera}}));for(let d of[...l,...i])try{let h=yield navigator.mediaDevices.getUserMedia({video:d,audio:!1});return{stream:h,facingMode:e._getFacingMode(h)||(d.facingMode?e._preferredCamera:"environment"===e._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var e=this;return(0,_t.Z)(function*(){let o=e._paused;(yield e.pause(!0))&&!o&&e._active&&(yield e.start())})()}static _stopVideoStream(e){for(let o of e.getTracks())o.stop(),e.removeTrack(o)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,o,i,l=!1){i=i||document.createElement("canvas");let d=o&&o.x?o.x:0,h=o&&o.y?o.y:0,v=o&&o.width?o.width:e.videoWidth||e.width,x=o&&o.height?o.height:e.videoHeight||e.height;return l||(l=o&&o.downScaledWidth?o.downScaledWidth:v,o=o&&o.downScaledHeight?o.downScaledHeight:x,i.width!==l&&(i.width=l),i.height!==o&&(i.height=o)),(o=i.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,o.drawImage(e,d,h,v,x,0,0,i.width,i.height),[i,o]}static _loadImage(e){return(0,_t.Z)(function*(){if(e instanceof Image)return yield n._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";{let o=new Image;o.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return yield n._awaitImageLoad(o),o}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(o.src)}}})()}static _awaitImageLoad(e){return(0,_t.Z)(function*(){e.complete&&0!==e.naturalWidth||(yield new Promise((o,i)=>{let l=d=>{e.removeEventListener("load",l),e.removeEventListener("error",l),d instanceof ErrorEvent?i("Image load error"):o()};e.addEventListener("load",l),e.addEventListener("error",l)}))})()}static _postWorkerMessage(e,o,i,l){return(0,_t.Z)(function*(){return n._postWorkerMessageSync(yield e,o,i,l)})()}static _postWorkerMessageSync(e,o,i,l){if(!(e instanceof Worker))return-1;let d=n._workerMessageId++;return e.postMessage({id:d,type:o,data:i},l),d}}return n.DEFAULT_CANVAS_SIZE=400,n.NO_QR_CODE_FOUND="No QR code found",n._disableBarcodeDetector=!1,n._workerMessageId=0,n})();var Mo=m(61135),ke=m(10550),Pa=m(44003);function Un(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"zxing-scanner",7),t.NdJ("deviceChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.currentDevice=i)})("scanSuccess",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onCodeResult(i))})("permissionResponse",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onHasPermission(i))})("camerasFound",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onCamerasFound(i))})("torchCompatible",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onTorchCompatible(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("torch",e.torchEnabled)("device",e.currentDevice)("tryHarder",e.tryHarder)("formats",e.formatsEnabled)}}function qa(n,s){if(1&n&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("( ",e.contentResult," )")}}let Se=(()=>{class n extends y.Q{constructor(e){super(e),this.commonService=e,this.outContentScan=new t.vpe,this.outNotCamAllow=new t.vpe,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new Mo.X(!1),this.tryHarder=!1,this.formatsEnabled=[Zt.BarcodeFormat.CODE_128,Zt.BarcodeFormat.DATA_MATRIX,Zt.BarcodeFormat.EAN_13,Zt.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(e){this.availableDevices=e,this.hasDevices=Boolean(e&&e.length)}onCodeResult(e){this.qrResultString=e,ke.g.isEncode(e)?this.switchChangeContent(ke.g.decode(e)):this.switchChangeContent(null)}onDeviceSelectChange(e){const o=this.availableDevices.find(i=>i.deviceId===e);this.currentDevice=o||void 0}onHasPermission(e){this.hasPermission=e}onTorchCompatible(e){this.torchAvailable$.next(e||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(e){let l=e.target.files;if(l?.length){var d=l[0];if(!d)return;this.scanProcessSelectFile(e,d,0)}else console.log("jel"),this.switchChangeContent(null)}scanProcessSelectFile(e,o,i){Ma.scanImage(o,{returnDetailedScanResult:!0}).then(l=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(l)),e.target.value="";var d=l.data;this.thatLog("onFileSelected: 1 "+d),ke.g.isEncode(d)?this.switchChangeContent(ke.g.decode(d)):this.switchChangeContent(null)}).catch(l=>{i>=2?(e.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(l)),this.switchChangeContent(null)):this.scanProcessSelectFile(e,o,i++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(e){this.contentResult=e,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+e),this.outContentScan.emit(this.contentResult)}thatLog(e){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+e)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[t.qOj],decls:11,vars:5,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t.YNc(1,Un,1,4,"zxing-scanner",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,qa,2,1,"span",3),t.TgZ(4,"input",4,5),t.NdJ("change",function(d){return o.onFileSelected(d)}),t.qZA(),t.TgZ(6,"a",6),t.NdJ("click",function(){t.CHM(i);const d=t.MAs(5);return t.KtG(d.click())}),t.TgZ(7,"mat-icon"),t._uU(8,"upload"),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("ngIf",o.isShowScanner),t.xp6(2),t.Q6J("ngIf",o.isShowLog),t.xp6(6),t.hij(" ",t.lcZ(10,3,"lang_auto_tai_len_ma_co_san"),""))},dependencies:[C.O5,re.Hw,Pa.S,z.bT],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();const Po=["aztScanQrcode"];function jn(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",37),t._UZ(2,"path",38)(3,"circle",39),t.qZA()())}function Ua(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",37),t._UZ(2,"path",40)(3,"path",41)(4,"path",42)(5,"line",43),t.qZA()())}function ja(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Qa(n,s){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,ja,3,3,"div",29),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required")||e.getErrorType("password","minlength"))}}function Qn(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",45)(1,"g",46)(2,"g",47),t._UZ(3,"circle",48),t.TgZ(4,"path",49),t._UZ(5,"animateTransform",50),t.qZA()()()())}function Na(n,s){1&n&&(t.TgZ(0,"div",51)(1,"span",52),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ***",t.lcZ(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai")," "))}function Nn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"button",54),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.reloadProcessForgot())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_thu_lai")," "))}function Fa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",22)(1,"div",23),t._UZ(2,"input",24),t.ALo(3,"mytranslate"),t.TgZ(4,"button",25)(5,"span",26)(6,"mat-icon"),t._uU(7,"qr_code"),t.qZA()()()(),t.TgZ(8,"div",23),t._UZ(9,"input",27),t.ALo(10,"mytranslate"),t.TgZ(11,"button",28),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.togglePassword())}),t.YNc(12,jn,4,0,"span",29),t.YNc(13,Ua,6,0,"span",29),t.qZA(),t.YNc(14,Qa,2,1,"div",30),t.qZA(),t.TgZ(15,"div",31)(16,"div",32)(17,"button",33),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changePassword())}),t.YNc(18,Qn,6,0,"svg",34),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.YNc(21,Na,4,3,"div",35),t.YNc(22,Nn,4,3,"div",36),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,12,"lang_auto_ma_xac_thuc")),t.uIk("disabled",!0),t.xp6(7),t.s9C("type",e.showPassword?"text":"password"),t.s9C("placeholder",t.lcZ(10,14,"lang_auto_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",e.showPassword),t.xp6(1),t.Q6J("ngIf",!e.showPassword),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.invalid&&e.form.controls.password.dirty),t.xp6(3),t.Q6J("disabled",e.statusObj.errorMessage||e.form.invalid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(20,16,"lang_auto_tiep_tuc")," "),t.xp6(2),t.Q6J("ngIf",e.statusObj.errorMessage),t.xp6(1),t.Q6J("ngIf",e.statusObj.errorMessage)}}const Fn=function(n){return{hidden:n}},Ra=function(n){return[n]},Rn=function(){return{user_click:"true"}};let Da=(()=>{class n extends y.Q{getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,o){var i,l;return!(null===(i=this.form.controls[e].errors)||void 0===i||!i[o])&&(null===(l=this.form.controls[e].errors)||void 0===l?void 0:l[o])}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementaztScanQrcode&&this.elementaztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(e){null!==e?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:e}).subscribe(i=>{var l;1==i.success&&1==(null===(l=i?.data)||void 0===l?void 0:l.status)?(this.stepByStep=1,this.form.controls.hash.setValue(e),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var e=this.commonService.getFormObj(this.form);this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:e.hash,password:e.password}).subscribe(i=>{0!=i.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}ngAfterViewInit(){setTimeout(()=>{this.elementaztScanQrcode&&this.elementaztScanQrcode.initScanCam()},0)}ngOnInit(){var e;this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=null!==(e=this.commonService.getMyQueryParam("return_url"))&&void 0!==e?e:"",this.form=this.formBuilder.group({hash:["",[a.kI.required]],password:["",[a.kI.required,a.kI.minLength(6)]]}),super.ngOnInit()}constructor(e,o,i,l){super(e),this.commonService=e,this.localStorageObject=o,this.formBuilder=i,this.qrCodeForgotPasswordService=l,this.form=new a.nJ({}),this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(ge.y),t.Y36(a.QS),t.Y36(q.qY))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],viewQuery:function(e,o){if(1&e&&t.Gf(Po,5),2&e){let i;t.iGM(i=t.CRH())&&(o.elementaztScanQrcode=i.first)}},features:[t.qOj],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-FkWtxqhMr98","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5  text-center xl:text-left",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6)(7,"div",7),t._UZ(8,"div",8)(9,"div",8)(10,"div",8),t.qZA()(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"div",9)(14,"div",10)(15,"span",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",12)(19,"div",13)(20,"div",14),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"azt-scan-qrcode",15,16),t.NdJ("outContentScan",function(l){return o.outContentScan(l)}),t.qZA()(),t.YNc(25,Fa,23,18,"div",17),t.qZA(),t._UZ(26,"hr"),t.TgZ(27,"div",18)(28,"div",19)(29,"a",20),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()(),t.TgZ(32,"div")(33,"a",21),t.ALo(34,"localize"),t._uU(35),t.ALo(36,"mytranslate"),t.qZA()()()()(),t._UZ(37,"div",3),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngClass",o.stepByStep+2==1?"active":o.stepByStep+2>1?"active pro":""),t.xp6(1),t.Q6J("ngClass",o.stepByStep+2==2?"active":o.stepByStep+2>2?"active pro":""),t.xp6(1),t.Q6J("ngClass",o.stepByStep+2==3?"active":o.stepByStep+2>3?"active pro":""),t.xp6(6),t.Oqu(t.lcZ(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),t.xp6(3),t.Q6J("ngClass",t.VKq(22,Fn,o.sussScanNextConf)),t.xp6(2),t.hij(" ",t.lcZ(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),t.xp6(4),t.Q6J("ngIf",o.sussScanNextConf),t.xp6(5),t.Oqu(t.lcZ(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),t.xp6(3),t.Q6J("routerLink",t.VKq(24,Ra,t.lcZ(34,18,o.backLink?o.backLink:"/auth/login")))("queryParams",t.DdM(26,Rn)),t.xp6(2),t.hij(" ",t.lcZ(36,20,o.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan"),""))},dependencies:[p.rH,C.mk,C.O5,a._Y,a.Fj,a.JJ,a.JL,re.Hw,a.sg,a.u,Se,et.M,F.lO,z.bT],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.hidden[_ngcontent-%COMP%]{display:none!important}']}),n})();function Dn(n,s){if(1&n&&(t.TgZ(0,"div",3),t.O4$(),t.TgZ(1,"svg",4),t._UZ(2,"line",5)(3,"line",6)(4,"circle",7),t.qZA(),t._uU(5),t.qZA()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",e.stringDuration," ")}}let qo=(()=>{class n extends y.Q{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new t.vpe,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __"}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.loopDuration=setInterval(()=>{var e=Math.floor(Date.now()/1e3),i=this.expired-(e-this.startDuration);if(i<0)this.clearLoopDuration(),this.qrcode.clear(),this.expiredAction.emit();else{var l=Math.floor(i/60),d=i-60*l;this.stringDuration=(l<10?"0"+l:""+l)+" : "+(d<10?"0"+d:""+d)}},1e3)}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.qrcode=this.commonService.createObjectQrcode(this.content,this.width,this.height,"text",!0,"image-qrcode-created"),this.qrcode._oDrawing._elCanvas.style.width="100%",this.qrcode._oDrawing._elCanvas.style.opacity=".9"}downloadQrcode(e){e||(e="azota-qr"),e=this.getTimeSaveQrcode()+"_"+e+".jpg";var o=this.createFrameQrcodeSaveLocal(this.qrcode._oDrawing._elCanvas),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("href",o),i.setAttribute("download",e),i.click()}getTimeSaveQrcode(){var e=new Date,o=e.getMonth()+1,i=e.getDate();return[e.getFullYear(),(o>9?"":"0")+o,(i>9?"":"0")+i].join("_")}createFrameQrcodeSaveLocal(e){var o=document.createElement("canvas");const i=o.getContext("2d");return o.width=420,o.height=420,i&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height),i.drawImage(e,0,0,e.width,e.height,Math.floor((o.height-e.height)/2),(o.width-e.width)/2,e.width,e.height)),o.toDataURL("image/jpeg",1)}}return n.\u0275fac=function(){let s;return function(o){return(s||(s=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[t.qOj],decls:3,vars:1,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["id","image-qrcode-created",1,"p-2","bg-white"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2","lucide"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Dn,6,1,"div",1),t._UZ(2,"div",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.isDuration))},dependencies:[C.O5],encapsulation:2}),n})();const zn=["elementCreateQr"];function Jn(n,s){if(1&n&&(t.TgZ(0,"div",11),t._UZ(1,"azt-create-qr-image",12,13),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("content",e.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function Uo(n,s){if(1&n&&(t.TgZ(0,"div",14),t.O4$(),t.TgZ(1,"svg",15),t._UZ(2,"path",16)(3,"path",17)(4,"path",18)(5,"line",19),t.qZA(),t.kcU(),t.TgZ(6,"div",20),t._uU(7),t.qZA()()),2&n){const e=t.oxw();t.xp6(7),t.hij(" ",e.noticeContentString," ")}}function jo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.downloadQrCode())}),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24)(4,"polyline",25)(5,"line",26),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_tai_xuong_ma")," "))}function za(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openDialog())}),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",28)(4,"line",29)(5,"line",30)(6,"circle",31)(7,"path",32),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const Ie=function(n){return[n]};function Ja(n,s){1&n&&(t.TgZ(0,"a",33),t.ALo(1,"localize"),t.O4$(),t.TgZ(2,"svg",34),t._UZ(3,"polyline",35),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&n&&(t.Q6J("routerLink",t.VKq(6,Ie,t.lcZ(1,2,"/admin/dashboard"))),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}function Bn(n,s){1&n&&(t.TgZ(0,"a",36),t.ALo(1,"localize"),t.O4$(),t.TgZ(2,"svg",34),t._UZ(3,"polyline",35),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&n&&(t.Q6J("routerLink",t.VKq(6,Ie,t.lcZ(1,2,"/student/dashboard/0"))),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}let Ba=(()=>{class n extends y.Q{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(e=>{var o;1==e.success?0!=(null===(o=e?.data)||void 0===o?void 0:o.status)?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(i=>{this.noticeContentString=i}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(i=>{this.noticeContentString=i}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(e=>{var o,i;1==e.success?this.contentQrcodeHash=null!==(i=null===(o=e.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.dialog.open(zt,{restoreFocus:!1}).afterClosed().subscribe(o=>{!0===o&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-forgot")}ngOnInit(){var e,o=null!==(e=this.commonService.getMyParam(this.activeRoute,"role"))&&void 0!==e?e:"0";this.role=parseInt(o,10),this.checkQrThisMe(),super.ngOnInit()}constructor(e,o,i,l){super(e),this.commonService=e,this.dialog=o,this.activeRoute=i,this.qrCodeForgotPasswordService=l,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(ut.on),t.Y36(p.gz),t.Y36(q.qY))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gzip-tool"]],viewQuery:function(e,o){if(1&e&&t.Gf(zn,5),2&e){let i;t.iGM(i=t.CRH())&&(o.elementCreateQr=i.first)}},features:[t.qOj],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mx-auto"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"],["x1","16","y1","5","x2","22","y2","5"],["x1","19","y1","2","x2","19","y2","8"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",2)(6,"div",3),t.YNc(7,Jn,3,4,"div",4),t.YNc(8,Uo,8,1,"div",5),t.qZA(),t.TgZ(9,"div",6),t.YNc(10,jo,8,3,"div",7),t.YNc(11,za,10,3,"div",7),t.qZA()(),t.TgZ(12,"div",8),t.YNc(13,Ja,6,8,"a",9),t.YNc(14,Bn,6,8,"a",10),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,7,"lang_auto_qrcode_quen_mat_khau")," "),t.xp6(4),t.Q6J("ngIf",o.contentQrcodeHash),t.xp6(1),t.Q6J("ngIf",!o.contentQrcodeHash&&o.noticeContentString),t.xp6(2),t.Q6J("ngIf",o.contentQrcodeHash),t.xp6(1),t.Q6J("ngIf",!o.contentQrcodeHash),t.xp6(2),t.Q6J("ngIf",0==o.role),t.xp6(1),t.Q6J("ngIf",1==o.role))},dependencies:[p.rH,C.O5,qo,te,F.lO,z.bT]}),n})(),zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["dialog-conf-content-qrcode-dialog"]],decls:41,vars:28,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","mr-2","text-pending"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(19,"div",17)(20,"p",18),t._uU(21),t.ALo(22,"mytranslate"),t.ALo(23,"mytranslate"),t.ALo(24,"mytranslate"),t.qZA(),t.TgZ(25,"p",19),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"p",19),t._uU(29),t.ALo(30,"mytranslate"),t._UZ(31,"br"),t._uU(32),t.ALo(33,"mytranslate"),t.qZA()()()(),t.TgZ(34,"div",20)(35,"button",21),t._uU(36),t.ALo(37,"mytranslate"),t.qZA(),t.TgZ(38,"button",22),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(17),t.hij(" ",t.lcZ(18,10,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),t.xp6(4),t.lnq(" ",t.lcZ(22,12,"lang_auto_bam"),' "',t.lcZ(23,14,"lang_auto_xac_nhan"),'" ',t.lcZ(24,16,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),t.xp6(5),t.hij(" ",t.lcZ(27,18,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),t.xp6(3),t.hij(" ",t.lcZ(30,20,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),t.xp6(3),t.hij(" ",t.lcZ(33,22,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),t.xp6(4),t.hij(" ",t.lcZ(37,24,"lang_auto_huy")," "),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",t.lcZ(40,26,"lang_auto_xac_nhan")," "))},dependencies:[ut.aO,z.bT],encapsulation:2}),n})(),Qo=(()=>{class n extends y.Q{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return n.\u0275fac=function(){let s;return function(o){return(s||(s=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[t.qOj],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6)(7,"div",7),t._UZ(8,"div",8)(9,"div",8)(10,"div",8),t.qZA()(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"div",9)(14,"div",10)(15,"span",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",12)(19,"p"),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.TgZ(22,"div",13)(23,"a",14),t.NdJ("click",function(){return o.redirectToHome()}),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"a",15),t.NdJ("click",function(){return o.redirectToCreateQrCode()}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()()()(),t._UZ(29,"div",3),t.qZA()()()),2&e&&(t.xp6(8),t.Q6J("ngClass",o.step_by_step+2==1?"active":o.step_by_step+2>1?"active pro":""),t.xp6(1),t.Q6J("ngClass",o.step_by_step+2==2?"active":o.step_by_step+2>2?"active pro":""),t.xp6(1),t.Q6J("ngClass",o.step_by_step+2==3?"active":o.step_by_step+2>3?"active pro":""),t.xp6(6),t.Oqu(t.lcZ(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),t.xp6(4),t.Oqu(t.lcZ(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),t.xp6(4),t.Oqu(t.lcZ(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),t.xp6(3),t.Oqu(t.lcZ(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[C.mk,z.bT],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),n})(),No=(()=>{class n extends y.Q{ngOnInit(){var e;super.ngOnInit();var o=null===(e=this.commonService.getMyParam(this.activeRoute,"code"))||void 0===e?void 0:e.toString();window.location.replace("https://azt.page.link/"+o)}constructor(e,o){super(e),this.commonService=e,this.activeRoute=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-go-to-mobile"]],features:[t.qOj],decls:9,vars:3,consts:[[1,"centerBoth"],[1,"text-center"],["version","1.1","id","jobing-j-drawit","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 109 92.9",0,"xml","space","preserve",1,"w-12","mx-auto",2,"enable-background","new 0 0 109 92.9"],["d","M90.8,52c3.5,6.2,7.1,11.7,9.8,17.7c4.4,9.7-2.9,20.7-13.8,20.9c-11.8,0.2-23.7,0.2-35.5,0 c-11-0.1-17.6-12.2-12-21.7c0.4-0.8,1.8-1.4,2.7-1.4c9.9-0.1,19.7-0.1,29.6-0.1c9.8,0,15.9-4.6,18.7-14C90.4,53.2,90.5,52.9,90.8,52 z",1,"azt-svg-loading","jobing-j"],["d","M39.6,90.3c-6.8,0-13.8,0.8-20.5-0.2c-9.7-1.4-15-12.8-10.3-21.3c5.9-10.9,12.1-21.6,18.5-32.2 c5.5-9,18.6-8.7,24.2,0.2c0.7,1.1,0.8,1.9,0.1,3.1C46.7,48.3,42,57,36.8,65.3c-5.3,8.4-3.8,18.8,2.5,24.6 C39.5,89.9,39.5,90.2,39.6,90.3z",1,"azt-svg-loading","jobing-j"],["d","M32.5,27.3c3.3-5.7,6.1-11,9.4-16c5.9-9.1,19.4-9.2,25.1,0c6.5,10.4,12.6,21,18.3,31.7 c4.8,9-1.5,19.9-11.5,20.7c-1.6,0.1-2.6-0.2-3.5-1.8c-4.8-8.6-9.8-17.1-14.7-25.6c-4.7-8.3-12.5-11.6-21.7-9.2 C33.6,27.1,33.3,27.1,32.5,27.3z",1,"azt-svg-loading","jobing-j"],[1,"p-0","mt-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3)(4,"path",4)(5,"path",5),t.qZA(),t.kcU(),t.TgZ(6,"h3",6),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(7),t.hij("",t.lcZ(8,1,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[z.bT],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]}),n})();var Oe=m(88195);const Fo=["elementCreateQr"],Ro=["aztScanQrcode"];function Jt(n,s){1&n&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function Yn(n,s){1&n&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function Nr(n,s){if(1&n&&(t.TgZ(0,"div",26),t._UZ(1,"span",27),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.AsE("\xa0",t.lcZ(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",e.nameSessionConfirm,"")}}function Ya(n,s){1&n&&(t.TgZ(0,"div",26),t._UZ(1,"span",27),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n&&(t.xp6(2),t.hij("\xa0",t.lcZ(3,1,"lang_auto_dang_cho_quet_ma_qrcode"),""))}function Ga(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"br"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),t.xp6(3),t.AsE("",t.lcZ(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",e.nameSessionConfirm,"")}}function Fr(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",27),t._uU(2,"\xa0 "),t.TgZ(3,"span",35),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function Va(n,s){if(1&n&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultErr)}}function Ka(n,s){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultSuss)}}function Gn(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function Rr(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function Dr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",38)(1,"button",39),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.confContentPendingLogin(1))}),t.YNc(2,Gn,3,0,"span",31),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"button",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.confContentPendingLogin(2))}),t.YNc(6,Rr,3,0,"span",31),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.isLoadingBtn||e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",t.lcZ(4,6,"lang_auto_chap_nhan")," "),t.xp6(2),t.Q6J("disabled",e.isLoadingBtn||e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",t.lcZ(8,8,"lang_auto_tu_choi")," ")}}function zr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.backScanActionWithIsLogin())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_quay_lai")))}function Jr(n,s){if(1&n&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",30),t.YNc(3,Ga,6,7,"span",31),t.qZA(),t.YNc(4,Fr,6,3,"div",31),t.YNc(5,Va,2,1,"div",32),t.YNc(6,Ka,2,1,"div",33),t.YNc(7,Dr,9,10,"div",34),t.YNc(8,zr,4,3,"div",31),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.nameSessionConfirm),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.Q6J("ngIf",e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.textResultSuss),t.xp6(1),t.Q6J("ngIf",!e.textResultSuss||!e.isConfirmBtn),t.xp6(1),t.Q6J("ngIf",e.isLogin&&!1===e.isLoadingBtn&&!0===e.isConfirmBtn)}}function Br(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.createRequestLoginHashCodeAction())}),t.TgZ(1,"div",46)(2,"div")(3,"mat-icon"),t._uU(4,"sync"),t.qZA()(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"lang_auto_tao_moi_ma")))}function Ha(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-create-qr-image",47,48),t.NdJ("expiredAction",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.expiredQrcodeAction())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("content",e.contentCreateQrcode)("width",300)("height",300)("expired",e.durationQrcodeExpire)}}function Yr(n,s){if(1&n&&(t.TgZ(0,"div",42),t.YNc(1,Br,8,3,"div",43),t.YNc(2,Ha,2,4,"azt-create-qr-image",44),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!1===e.isLogin&&!e.contentCreateQrcode),t.xp6(1),t.Q6J("ngIf",e.contentCreateQrcode)}}function Do(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.downloadQrCode())}),t.TgZ(1,"mat-icon"),t._uU(2,"download"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_tai_xuong_ma"),""))}function zo(n,s){1&n&&(t.TgZ(0,"div",50)(1,"span",51),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_hoac")," "))}function Wa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"a",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.switchModeView())}),t.TgZ(2,"span",53)(3,"mat-icon",54),t._uU(4,"center_focus_strong"),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_quet_ma_qr_co_san"),""))}function $a(n,s){if(1&n&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultErr)}}function Xa(n,s){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultSuss)}}function tr(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function er(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",38)(1,"button",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.confContentLogin())}),t.YNc(2,tr,3,0,"span",31),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"button",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.reopenScanCamInit())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.isLoadingBtn||e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_dang_nhap")," "),t.xp6(2),t.Q6J("disabled",e.isLoadingBtn),t.xp6(1),t.Oqu(t.lcZ(7,7,"lang_auto_thu_lai"))}}function nr(n,s){if(1&n&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",30),t._uU(3),t.ALo(4,"mytranslate"),t._UZ(5,"br"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.YNc(8,$a,2,1,"div",32),t.YNc(9,Xa,2,1,"div",33),t.YNc(10,er,8,9,"div",34),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),t.xp6(3),t.Oqu(t.lcZ(7,7,"lang_auto_voi_ma_qr_da_phat_hien")),t.xp6(2),t.Q6J("ngIf",e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.textResultSuss),t.xp6(1),t.Q6J("ngIf",!e.textResultSuss)}}function or(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",27),t._uU(2,"\xa0 "),t.TgZ(3,"span",35),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function Vn(n,s){if(1&n&&t._UZ(0,"div",60),2&n){const e=t.oxw(2);t.Q6J("innerHTML",e.textResultErr,t.oJD)}}function Kn(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function Hn(n,s){if(1&n&&(t.TgZ(0,"button",61),t.YNc(1,Kn,3,0,"span",31),t._uU(2),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",!e.textResultSuss),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",e.textResultSuss," ")}}function Wn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t._UZ(6,"br"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()(),t.YNc(9,or,6,3,"div",31),t.YNc(10,Vn,1,1,"div",57),t.TgZ(11,"div",38),t.YNc(12,Hn,3,3,"button",58),t.TgZ(13,"button",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.reopenScanCamInit())}),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,8,"lang_auto_dang_nhap_tai_khoan")),t.xp6(3),t.AsE("",t.lcZ(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",e.nameSessionConfirm,""),t.xp6(2),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.Q6J("ngIf",e.textResultErr),t.xp6(2),t.Q6J("ngIf",!e.textResultSuss&&e.isLoadingBtn),t.xp6(1),t.Q6J("disabled",e.isLoadingBtn),t.xp6(1),t.Oqu(t.lcZ(15,12,"lang_auto_thu_lai"))}}const pe=function(n){return{hidden:n}},Le=function(n){return[n]},$n=function(n){return{return_url:n}};let Gr=(()=>{class n extends y.Q{forgotPassword(){this.gaService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementaztScanQrcode&&("scan"===this.modeShowInit?(this.elementaztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementaztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementaztScanQrcode&&(this.elementaztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.subscriptions.add(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(e=>{var o,i,l,d;1==e.success?(this.successStatusObj(),this.contentCreateQrcode=null!==(i=null===(o=e?.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"",this.durationQrcodeExpire=null!==(d=null===(l=e?.data)||void 0===l?void 0:l.duration)&&void 0!==d?d:0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(e){var o;null!==e?(this.scanQrContent=e,this.sussScanNextConf=!0,this.isLogin||(null===(o=this.elementaztScanQrcode)||void 0===o||o.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(l=>{var d,h,v,x;this.isLoadingBtn=!1,console.log(l),1==l.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=null!==(h=null===(d=l?.data)||void 0===d?void 0:d.qrCode)&&void 0!==h?h:"",this.nameSessionConfirm=null!==(x=null===(v=l?.data)||void 0===v?void 0:v.name)&&void 0!==x?x:"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(A=>{this.textResultErr=A}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(l=>{this.textResultErr=l}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(o=>{var i,l;1==o.success&&(1==(null===(i=o.data)||void 0===i?void 0:i.status)?(this.clearLoopPendingLogin(),this.gaService.gaEvent("sign_in_login_in"),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.baseApiService.redirectLoginByRole(null!==(l=this.commonService.getMyQueryParam("return_url"))&&void 0!==l?l:"")):o.data&&2===o.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(d=>{this.textResultErr=d}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(e=>{var o,i,l,d;1==e.success&&e.data&&""!==e.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=null!==(i=null===(o=e?.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"",this.nameSessionConfirm=null!==(d=null===(l=e?.data)||void 0===l?void 0:l.name)&&void 0!==d?d:"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(e){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:e}).subscribe(i=>{var l,d;1==i.success?this.textResultSuss=1==e?null!==(l=this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong"))&&void 0!==l?l:"":null!==(d=this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong"))&&void 0!==d?d:"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(h=>{this.textResultErr=h}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(e=>{var o,i,l,d,h,v;1==e.success&&(this.contentCreateQrcode=null!==(i=null===(o=e?.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"",this.nameSessionConfirm=null!==(d=null===(l=e?.data)||void 0===l?void 0:l.name)&&void 0!==d?d:"",this.durationQrcodeExpire=null!==(v=null===(h=e?.data)||void 0===h?void 0:h.duration)&&void 0!==v?v:0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(o=>{var i,l;1===o.success&&404!=(null===(i=o?.data)||void 0===i?void 0:i.status)&&(this.gaService.gaEvent("sign_in_login_in"),this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.baseApiService.redirectLoginByRole(null!==(l=this.commonService.getMyQueryParam("return_url"))&&void 0!==l?l:""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(o=>{this.isLoadingBtn=!1,1===o.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(i=>{this.textResultSuss=i}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(i=>{this.textResultErr=i})})}ngOnInit(){var e,o=null!==(e=this.commonService.getMyParam(this.activeRoute,"role"))&&void 0!==e?e:"0";switch(this.role=parseInt(o,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/dashboard/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.baseApiService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,o,i,l,d,h,v){super(e),this.commonService=e,this.baseApiService=o,this.localStorageObject=i,this.activeRoute=l,this.qrCodeLoginService=d,this.redirectService=h,this.gaService=v,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(j._),t.Y36(ge.y),t.Y36(p.gz),t.Y36(Oe.A),t.Y36(nt.V),t.Y36(Wt.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Fo,5),t.Gf(Ro,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.elementCreateQr=i.first),t.iGM(i=t.CRH())&&(o.elementaztScanQrcode=i.first)}},features:[t.qOj],decls:41,vars:45,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86",3,"routerLink","queryParams"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-center"],[1,"mb-3","text-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"disabled","click"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center",3,"click"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"disabled","click"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"disabled","click"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,Jt,3,3,"div",3),t.YNc(7,Yn,3,3,"div",3),t.YNc(8,Nr,4,4,"div",4),t.YNc(9,Ya,4,3,"div",4),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),t.YNc(14,Jr,9,6,"div",9),t.YNc(15,Yr,3,2,"div",10),t.TgZ(16,"div",11),t.YNc(17,Do,5,3,"a",12),t.qZA(),t.YNc(18,zo,4,3,"div",13),t.YNc(19,Wa,7,3,"div",14),t.qZA(),t.TgZ(20,"div",15)(21,"div",16),t._uU(22),t.ALo(23,"mytranslate"),t.TgZ(24,"a",17),t.ALo(25,"localize"),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t._uU(28," )"),t.qZA(),t.TgZ(29,"div",18)(30,"azt-scan-qrcode",19,20),t.NdJ("outContentScan",function(l){return o.outContentScan(l)}),t.qZA()(),t.YNc(32,nr,11,9,"div",9),t.YNc(33,Wn,16,14,"div",9),t.qZA()()()(),t.TgZ(34,"div",21)(35,"a",22),t.ALo(36,"localize"),t.O4$(),t.TgZ(37,"svg",23),t._UZ(38,"polyline",24),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,21,"lang_auto_dang_nhap_voi_ma_qr_code")," "),t.xp6(3),t.Q6J("ngIf",!o.isLogin),t.xp6(1),t.Q6J("ngIf",o.isLogin),t.xp6(1),t.Q6J("ngIf",!o.isLogin&&o.contentCreateQrcode),t.xp6(1),t.Q6J("ngIf",o.isLogin&&o.contentCreateQrcode&&!o.scanQrContentConfirm),t.xp6(4),t.Q6J("ngClass",t.VKq(33,pe,"create"!==o.modeShowInit)),t.xp6(1),t.Q6J("ngIf",o.scanQrContentConfirm&&o.isLogin),t.xp6(1),t.Q6J("ngIf",!o.scanQrContentConfirm),t.xp6(2),t.Q6J("ngIf",o.contentCreateQrcode&&!o.scanQrContentConfirm),t.xp6(1),t.Q6J("ngIf",!o.scanQrContentConfirm),t.xp6(1),t.Q6J("ngIf",!o.scanQrContentConfirm),t.xp6(1),t.Q6J("ngClass",t.VKq(35,pe,"scan"!==o.modeShowInit)),t.xp6(2),t.hij("",t.lcZ(23,23,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(37,Le,t.lcZ(25,25,"/auth/register")))("queryParams",t.VKq(39,$n,o.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(27,27,"lang_auto_huong_dan")),t.xp6(3),t.Q6J("ngClass",t.VKq(41,pe,!1!==o.sussScanNextConf)),t.xp6(3),t.Q6J("ngIf",!0===o.sussScanNextConf&&o.isLogin),t.xp6(1),t.Q6J("ngIf",!0===o.sussScanNextConf&&!o.isLogin),t.xp6(2),t.Q6J("routerLink",t.VKq(43,Le,t.lcZ(36,29,o.backToLink))),t.xp6(4),t.hij(" ",t.lcZ(40,31,"lang_auto_quay_lai")," "))},dependencies:[p.rH,C.mk,C.O5,re.Hw,qo,Se,te,F.lO,z.bT],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();var Vr=m(77579),Xn=m(39646),Jo=m(69751),Bo=m(88996),ce=m(56451),he=m(85363),Vt=m(63900),to=m(54004),Kt=m(40269),ir=m(50590),oe=m(30576);function ar(n,s){return(0,oe.m)(s)?(0,Vt.w)(()=>n,s):(0,Vt.w)(()=>n)}var Yo=m(49468),Go=m(39300),Ee=m(80263),me=m(49681),le=m(34859),It=m(42090),Ht=m(41877);const Pe=new Map,Hr={activated:!1,tokenObservers:[]},As={initialized:!1,enabled:!1};function Ot(n){return Pe.get(n)||Object.assign({},Hr)}function Vo(){return As}const rr="https://content-firebaseappcheck.googleapis.com/v1",ks="exchangeDebugToken",Wr={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Is{constructor(s,e,o,i,l){if(this.operation=s,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(s){var e=this;return(0,_t.Z)(function*(){e.stop();try{e.pending=new It.BH,yield function Os(n){return new Promise(s=>{setTimeout(s,n)})}(e.getNextRun(s)),e.pending.resolve(),yield e.pending.promise,e.pending=new It.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(s){if(s)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Pt=new It.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cr(n,s){return lr.apply(this,arguments)}function lr(){return(lr=(0,_t.Z)(function*({url:n,body:s},e){const o={"Content-Type":"application/json"},i=e.getImmediate({optional:!0});if(i){const k=yield i.getHeartbeatsHeader();k&&(o["X-Firebase-Client"]=k)}const l={method:"POST",body:JSON.stringify(s),headers:o};let d,h;try{d=yield fetch(n,l)}catch(k){throw Pt.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==d.status)throw Pt.create("fetch-status-error",{httpStatus:d.status});try{h=yield d.json()}catch(k){throw Pt.create("fetch-parse-error",{originalErrorMessage:k?.message})}const v=h.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Pt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const x=1e3*Number(v[1]),A=Date.now();return{token:h.token,expireTimeMillis:A+x,issuedAtTimeMillis:A}})).apply(this,arguments)}const qs="firebase-app-check-database",Us=1,no="firebase-app-check-store";let Wo=null;function es(n,s){return ur.apply(this,arguments)}function ur(){return(ur=(0,_t.Z)(function*(n,s){const o=(yield function ts(){return Wo||(Wo=new Promise((n,s)=>{try{const e=indexedDB.open(qs,Us);e.onsuccess=o=>{n(o.target.result)},e.onerror=o=>{var i;s(Pt.create("storage-open",{originalErrorMessage:null===(i=o.target.error)||void 0===i?void 0:i.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(no,{keyPath:"compositeKey"})}}catch(e){s(Pt.create("storage-open",{originalErrorMessage:e?.message}))}}),Wo)}()).transaction(no,"readwrite"),l=o.objectStore(no).put({compositeKey:n,value:s});return new Promise((d,h)=>{l.onsuccess=v=>{d()},o.onerror=v=>{var x;h(Pt.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const oo=new Ht.Yd("@firebase/app-check");function gr(n,s){return(0,It.hl)()?function Qs(n,s){return es(function os(n){return`${n.options.appId}-${n.name}`}(n),s)}(n,s).catch(e=>{oo.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function as(){return hr.apply(this,arguments)}function hr(){return(hr=(0,_t.Z)(function*(){const n=Vo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Js={error:"UNKNOWN_ERROR"};function Bs(n){return It.US.encodeString(JSON.stringify(n),!1)}function $o(n){return mr.apply(this,arguments)}function mr(){return(mr=(0,_t.Z)(function*(n,s=!1){const e=n.app;!function $r(n){if(!Ot(n).activated)throw Pt.create("use-before-activation",{appName:n.name})}(e);const o=Ot(e);let l,i=o.token;if(i&&!qe(i)&&(o.token=void 0,i=void 0),!i){const v=yield o.cachedTokenPromise;v&&(qe(v)?i=v:yield gr(e,void 0))}if(!s&&i&&qe(i))return{token:i.token};let h,d=!1;if(function is(){return Vo().enabled}()){o.exchangeTokenPromise||(o.exchangeTokenPromise=cr(function Ps(n,s){const{projectId:e,appId:o,apiKey:i}=n.options;return{url:`${rr}/projects/${e}/apps/${o}:${ks}?key=${i}`,body:{debug_token:s}}}(e,yield as()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),d=!0);const v=yield o.exchangeTokenPromise;return yield gr(e,v),o.token=v,{token:v.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),d=!0),i=yield Ot(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?oo.warn(v.message):oo.error(v),l=v}return i?l?h=qe(i)?{token:i.token,internalError:l}:cs(l):(h={token:i.token},o.token=i,yield gr(e,i)):h=cs(l),d&&function ss(n,s){const e=Ot(n).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=s.error?o.error(s.error):o.next(s)}catch{}}(e,h),h})).apply(this,arguments)}function vr(n,s){const e=Ot(n),o=e.tokenObservers.filter(i=>i.next!==s);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=o}function rs(n){const{app:s}=n,e=Ot(s);let o=e.tokenRefresher;o||(o=function Ys(n){const{app:s}=n;return new Is((0,_t.Z)(function*(){let o;if(o=Ot(s).token?yield $o(n,!0):yield $o(n),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const e=Ot(s);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},Wr.RETRIAL_MIN_WAIT,Wr.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=o),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function qe(n){return n.expireTimeMillis-Date.now()>0}function cs(n){return{token:Bs(Js),error:n}}class Gs{constructor(s,e){this.app=s,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:s}=Ot(this.app);for(const e of s)vr(this.app,e.next);return Promise.resolve()}}const ms="app-check-internal";!function sc(){(0,me._registerComponent)(new le.wA("app-check",n=>function Vs(n,s){return new Gs(n,s)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,s,e)=>{n.getProvider(ms).initialize()})),(0,me._registerComponent)(new le.wA(ms,n=>function Ks(n){return{getToken:s=>$o(n,s),addTokenListener:s=>function fr(n,s,e,o){const{app:i}=n,l=Ot(i);if(l.tokenObservers=[...l.tokenObservers,{next:e,error:o,type:s}],l.token&&qe(l.token)){const h=l.token;Promise.resolve().then(()=>{e({token:h.token}),rs(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>rs(n))}(n,"INTERNAL",s),removeTokenListener:s=>vr(n.app,s)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)("@firebase/app-check","0.6.4")}();class vs{constructor(){return(0,Ee.vb)("app-check")}}typeof window<"u"&&window,m(29260);const gc=new t.OlP("angularfire2.auth.use-emulator"),pc=new t.OlP("angularfire2.auth.settings"),hc=new t.OlP("angularfire2.auth.tenant-id"),mc=new t.OlP("angularfire2.auth.langugage-code"),fc=new t.OlP("angularfire2.auth.use-device-language"),vc=new t.OlP("angularfire.auth.persistence");let ti=(()=>{class n{constructor(e,o,i,l,d,h,v,x,A,k,E,Z){const N=new Vr.x,ct=(0,Xn.of)(void 0).pipe((0,he.Q)(d.outsideAngular),(0,Vt.w)(()=>l.runOutsideAngular(()=>m.e(568).then(m.bind(m,89568)))),(0,to.U)(()=>(0,_.on)(e,l,o)),(0,to.U)(qt=>((n,s,e,o,i,l,d,h)=>(0,_.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=s.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),o&&(v.tenantId=o),v.languageCode=i,l&&v.useDeviceLanguage(),d)for(const[x,A]of Object.entries(d))v.settings[x]=A;return h&&v.setPersistence(h),v},[e,o,i,l,d,h]))(qt,l,h,x,A,k,v,E)),(0,Kt.d)({bufferSize:1,refCount:!1}));if((0,C.PM)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xn.of)(null);else{ct.pipe((0,ir.P)()).subscribe();const Ut=ct.pipe((0,Vt.w)(pt=>pt.getRedirectResult().then(St=>St,()=>null)),Ee.iC,(0,Kt.d)({bufferSize:1,refCount:!1})),Ft=ct.pipe((0,Vt.w)(pt=>new Jo.y(St=>({unsubscribe:l.runOutsideAngular(()=>pt.onAuthStateChanged(fe=>St.next(fe),fe=>St.error(fe),()=>St.complete()))})))),ue=ct.pipe((0,Vt.w)(pt=>new Jo.y(St=>({unsubscribe:l.runOutsideAngular(()=>pt.onIdTokenChanged(fe=>St.next(fe),fe=>St.error(fe),()=>St.complete()))}))));this.authState=Ut.pipe(ar(Ft),(0,Yo.R)(d.outsideAngular),(0,he.Q)(d.insideAngular)),this.user=Ut.pipe(ar(ue),(0,Yo.R)(d.outsideAngular),(0,he.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Vt.w)(pt=>pt?(0,Bo.D)(pt.getIdToken()):(0,Xn.of)(null))),this.idTokenResult=this.user.pipe((0,Vt.w)(pt=>pt?(0,Bo.D)(pt.getIdTokenResult()):(0,Xn.of)(null))),this.credential=(0,ce.T)(Ut,N,this.authState.pipe((0,Go.h)(pt=>!pt))).pipe((0,to.U)(pt=>pt?.user?pt:null),(0,Yo.R)(d.outsideAngular),(0,he.Q)(d.insideAngular))}return(0,_.pX)(this,ct,l,{spy:{apply:(qt,Ut,Ft)=>{(qt.startsWith("signIn")||qt.startsWith("createUser"))&&Ft.then(ue=>N.next(ue))}}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.Dh),t.LFG(_.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Ee.HU),t.LFG(gc,8),t.LFG(pc,8),t.LFG(hc,8),t.LFG(mc,8),t.LFG(fc,8),t.LFG(vc,8),t.LFG(vs,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var bs=m(94700);function xc(n,s){1&n&&(t.TgZ(0,"div",54)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function yc(n,s){if(1&n&&(t.TgZ(0,"div",54)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.msgError)}}function wc(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",55),t._UZ(2,"path",56)(3,"circle",57),t.qZA()())}function Ac(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",55),t._UZ(2,"path",58)(3,"path",59)(4,"path",60)(5,"line",61),t.qZA()())}function Cc(n,s){1&n&&(t.TgZ(0,"div",62)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Tc(n,s){if(1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.messageError)," ")}}function Zc(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",64)(1,"g",65)(2,"g",66),t._UZ(3,"circle",67),t.TgZ(4,"path",68),t._UZ(5,"animateTransform",69),t.qZA()()()())}const kc=function(n){return[n]},Sc=function(n){return{return_url:n,user_click:"true"}};function Ic(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"form",2)(2,"h2",3),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"input",6),t.NdJ("keydown.enter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.login())})("input",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.checkValidateUser(i.form.controls.phone.value))}),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,xc,4,3,"div",7),t.YNc(10,yc,3,1,"div",7),t.qZA(),t.TgZ(11,"div",5)(12,"div",8)(13,"input",9),t.NdJ("keydown.enter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.login())}),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.togglePassword())}),t.YNc(16,wc,4,0,"span",11),t.YNc(17,Ac,6,0,"span",11),t.qZA()(),t.YNc(18,Cc,4,3,"div",12),t.qZA()(),t.YNc(19,Tc,3,3,"div",13),t.TgZ(20,"div",14)(21,"a",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.forgotPassword())}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.TgZ(24,"div",16)(25,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.login())}),t.YNc(26,Zc,6,0,"svg",18),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()(),t.TgZ(29,"div",19)(30,"span"),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"a",20),t.ALo(34,"mylocalize"),t._uU(35),t.ALo(36,"mytranslate"),t.qZA()(),t.TgZ(37,"div",21)(38,"span",22),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.TgZ(41,"div",23)(42,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loginZalo())})("keydown.enter",function(i){return i.preventDefault()}),t.O4$(),t.TgZ(43,"svg",25)(44,"style"),t._uU(45," .st0 { fill: #fdfefe } .st1 { fill: #0180c7 } .st2 { fill: #0172b1 } .st3 { fill: none; stroke: #0180c7; stroke-width: 2; stroke-miterlimit: 10 } "),t.qZA(),t.TgZ(46,"title"),t._uU(47,"logo-zalo-vector"),t.qZA(),t._UZ(48,"path",26)(49,"path",27)(50,"path",28)(51,"path",29)(52,"path",30)(53,"path",31)(54,"path",32),t.qZA(),t.kcU(),t.TgZ(55,"span",33),t._uU(56,"Zalo"),t.qZA()(),t.TgZ(57,"button",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.googleSignIn())})("keydown.enter",function(i){return i.preventDefault()}),t.O4$(),t.TgZ(58,"svg",35),t._UZ(59,"path",36)(60,"path",37)(61,"path",38)(62,"path",39),t.qZA(),t.kcU(),t.TgZ(63,"span",33),t._uU(64,"Google"),t.qZA()(),t.TgZ(65,"button",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loginByQrCode())})("keydown.enter",function(i){return i.preventDefault()}),t.O4$(),t.TgZ(66,"svg",41),t._UZ(67,"rect",42)(68,"rect",43)(69,"rect",44)(70,"path",45)(71,"path",46)(72,"path",47)(73,"path",48)(74,"path",49)(75,"path",50)(76,"path",51)(77,"path",52)(78,"path",53),t.qZA(),t.kcU(),t.TgZ(79,"span",33),t._uU(80,"Qrcode"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(2),t.hij(" ",t.lcZ(4,20,"lang_auto_dang_nhap")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(8,22,"lang_auto_nhap_sdt_hoac_email")),t.xp6(2),t.Q6J("ngIf",e.form.controls.phone.invalid&&(e.form.controls.phone.dirty||e.form.controls.phone.touched)&&!e.checkValidateUsername),t.xp6(1),t.Q6J("ngIf",e.checkValidateUsername),t.xp6(3),t.s9C("placeholder",t.lcZ(14,24,"lang_auto_mat_khau")),t.Q6J("type",e.showPassword?"text":"password"),t.xp6(3),t.Q6J("ngIf",e.showPassword),t.xp6(1),t.Q6J("ngIf",!e.showPassword),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",""!=e.messageError),t.xp6(3),t.Oqu(t.lcZ(23,26,"lang_auto_quen_mat_khau")),t.xp6(3),t.Q6J("disabled",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading||e.checkLoadingLogin),t.xp6(1),t.hij(" ",t.lcZ(28,28,"lang_auto_dang_nhap")," "),t.xp6(4),t.Oqu(t.lcZ(32,30,"lang_auto_ban_chua_co_tai_khoan")),t.xp6(2),t.Q6J("routerLink",t.VKq(38,kc,t.lcZ(34,32,"/auth/register")))("queryParams",t.VKq(40,Sc,e.returnUrl)),t.xp6(2),t.hij(" ",t.lcZ(36,34,"lang_auto_tao_mot_tai_khoan_moi")," "),t.xp6(4),t.hij(" ",t.lcZ(40,36,"lang_auto_hoac")," ")}}function Oc(n,s){1&n&&(t.TgZ(0,"div",1),t._UZ(1,"azt-loading-effect"),t.qZA())}let Lc=(()=>{class n extends y.Q{executeImportantAction(){return new Promise(e=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{e(o)})})}getError(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}loginZalo(){this.gaService.gaEvent("sign_in_click_sign_in_by_zalo"),window.location.href=this.zaloLoginUrl}forgotPassword(){this.gaService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}login(){var e=this.commonService.getMyQueryParam("type");this.form.valid?(this.initStatusObj(),this.gaService.gaEvent("sign_in_login_in"),this.executeImportantAction().then(o=>{var i=this.commonService.getFormObj(this.form);this.subscriptions.add(this.authService.apiAuthLoginWebPost({phone:i.phone,password:i.password,tokenCaptcha:o}).subscribe(d=>{var h,v,x,A;1==d.success?(this.localStorageObject.clearAllCache(),"0"==e?this.baseApiService.redirectLoginForStudent(null!==(h=this.commonService.getMyQueryParam("return_url"))&&void 0!==h?h:""):this.baseApiService.redirectLoginByRole(null!==(v=this.commonService.getMyQueryParam("return_url"))&&void 0!==v?v:""),this.successStatusObj()):(this.messageError=null!==(x=d.message)&&void 0!==x?x:"",this.errorStatusObj(null!==(A=d.message)&&void 0!==A?A:""))}))})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}loginAnonymous(){var e;this.initStatusObj(),this.baseApiService.isAnonymousRole()?this.baseApiService.redirectLoginByRole(null!==(e=this.commonService.getMyQueryParam("return_url"))&&void 0!==e?e:""):(this.gaService.gaEvent("sign_in_login_anonymous"),this.executeImportantAction().then(o=>{this.subscriptions.add(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:o}).subscribe(l=>{var d,h;1==l.success?(this.baseApiService.redirectLoginByRole(null!==(d=this.commonService.getMyQueryParam("return_url"))&&void 0!==d?d:""),this.successStatusObj()):this.errorStatusObj(null!==(h=l.message)&&void 0!==h?h:"")}))}))}loginWithAccessToken(e){var o,i=this.userService.getUserObjFromJwtToken(e);null!=i?(this.userService.saveUserObj(i),this.baseApiService.redirectLoginByRole(null!==(o=this.commonService.getMyQueryParam("return_url"))&&void 0!==o?o:"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1)}googleSignIn(){this.fireAuth.signInWithRedirect(new ee.hJ).then(()=>this.fireAuth.getRedirectResult().then(e=>{})).catch(e=>{console.log(e)})}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(e){this.msgError="",isNaN(Number(e))?this.validateEmail(e)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==e.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}signInWithTokenGoogle(e){this.checkLoadingLogin=!0;var o=this.commonService.getMyQueryParam("type");e.getIdToken().then(i=>{let l={isRegisterForTeacher:0,firebaseToken:i,language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(l).subscribe(d=>{var h,v,x,A;1==d.success?(1==(null===(h=d.data)||void 0===h?void 0:h.isNewRegister)?this.myNavigation("/auth/choose-role"):"0"==o?this.baseApiService.redirectLoginForStudent(null!==(v=this.commonService.getMyQueryParam("return_url"))&&void 0!==v?v:""):this.baseApiService.redirectLoginByRole(null!==(x=this.commonService.getMyQueryParam("return_url"))&&void 0!==x?x:""),this.checkLoadingLogin=!1):(this.checkLoadingLogin=!1,this.errorStatusObj(null!==(A=d.message)&&void 0!==A?A:"",!0))}))})}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}ngOnInit(){var e,o,i,l;if(super.ngOnInit(),this.zaloAccessTkn=null!==(e=this.commonService.getMyQueryParam("zaccess_token"))&&void 0!==e?e:"",this.mobileAccessTkn=null!==(o=this.commonService.getMyQueryParam("access_token"))&&void 0!==o?o:"",!this.commonService.getMyQueryParam("not_register")&&this.zaloAccessTkn)this.loginByToken=!0,this.loginWithAccessToken(this.zaloAccessTkn);else if(!this.commonService.getMyQueryParam("not_register")&&this.mobileAccessTkn)this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn);else{this.initStatusObj();var d=!1;this.form=this.formBuilder.group({phone:["",[a.kI.required,U._.noWhiteSpace]],password:["",a.kI.required]}),this.commonService.getMyQueryParam("not_register")?this.commonService.myNavigation("/auth/register"):this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?this.baseApiService.redirectLoginByRole(null!==(i=this.commonService.getMyQueryParam("return_url"))&&void 0!==i?i:""):(this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",-1===this.returnUrl.indexOf("/test/")&&-1===this.returnUrl.indexOf("/de-thi/")&&-1===this.returnUrl.indexOf("/bai-tap/")&&-1===this.returnUrl.indexOf("/on-luyen/")||"register"==this.commonService.getMyQueryParam("from")?(this.zaloLoginUrl=at.N.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_login=1"),d=!0):this.baseApiService.isLogin()?this.baseApiService.redirectLoginByRole(null!==(l=this.commonService.getMyQueryParam("return_url"))&&void 0!==l?l:""):this.loginAnonymous()),d&&(!this.commonService.getMyQueryParam("user_click")&&this.baseApiService.isAnonymousRole()?this.myNavigation("/student/dashboard/0"):(this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),this.loginByToken=!1,this.stopStatusObj(),super.ngOnInit()))}}constructor(e,o,i,l,d,h,v,x,A){super(o),this.formBuilder=e,this.commonService=o,this.baseApiService=i,this.localStorageObject=l,this.authService=d,this.fireAuth=h,this.userService=v,this.recaptchaV3Service=x,this.gaService=A,this.form=new a.nJ({}),this.zaloAccessTkn="",this.mobileAccessTkn="",this.returnUrl="",this.zaloLoginUrl="",this.loginByToken=!0,this.msgError="",this.messageError="",this.checkValidateUsername=!1,this.checkLoadingLogin=!0,this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.initStatusObj(),h.authState.subscribe(k=>{k?this.signInWithTokenGoogle(k):this.checkLoadingLogin=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.QS),t.Y36(S.v),t.Y36(j._),t.Y36(ge.y),t.Y36(q.e8),t.Y36(ti),t.Y36(ot.K),t.Y36(bs.YC),t.Y36(Wt.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],features:[t.qOj],decls:3,vars:2,consts:[["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","phone",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-Ed1OLmiD9X",1,"btn","btn-outline-secondary","mr-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","id","Layer_1","viewBox","0 0 460.1 436.6",1,"lucide","w-4","h-4","mr-2"],["d","M82.6 380.9c-1.8-.8-3.1-1.7-1-3.5 1.3-1 2.7-1.9 4.1-2.8 13.1-8.5 25.4-17.8 33.5-31.5 6.8-11.4 5.7-18.1-2.8-26.5C69 269.2 48.2 212.5 58.6 145.5 64.5 107.7 81.8 75 107 46.6c15.2-17.2 33.3-31.1 53.1-42.7 1.2-.7 2.9-.9 3.1-2.7-.4-1-1.1-.7-1.7-.7-33.7 0-67.4-.7-101 .2C28.3 1.7.5 26.6.6 62.3c.2 104.3 0 208.6 0 313 0 32.4 24.7 59.5 57 60.7 27.3 1.1 54.6.2 82 .1 2 .1 4 .2 6 .2H290c36 0 72 .2 108 0 33.4 0 60.5-27 60.5-60.3v-.6-58.5c0-1.4.5-2.9-.4-4.4-1.8.1-2.5 1.6-3.5 2.6-19.4 19.5-42.3 35.2-67.4 46.3-61.5 27.1-124.1 29-187.6 7.2-5.5-2-11.5-2.2-17.2-.8-8.4 2.1-16.7 4.6-25 7.1-24.4 7.6-49.3 11-74.8 6zm72.5-168.5c1.7-2.2 2.6-3.5 3.6-4.8 13.1-16.6 26.2-33.2 39.3-49.9 3.8-4.8 7.6-9.7 10-15.5 2.8-6.6-.2-12.8-7-15.2-3-.9-6.2-1.3-9.4-1.1-17.8-.1-35.7-.1-53.5 0-2.5 0-5 .3-7.4.9-5.6 1.4-9 7.1-7.6 12.8 1 3.8 4 6.8 7.8 7.7 2.4.6 4.9.9 7.4.8 10.8.1 21.7 0 32.5.1 1.2 0 2.7-.8 3.6 1-.9 1.2-1.8 2.4-2.7 3.5-15.5 19.6-30.9 39.3-46.4 58.9-3.8 4.9-5.8 10.3-3 16.3s8.5 7.1 14.3 7.5c4.6.3 9.3.1 14 .1 16.2 0 32.3.1 48.5-.1 8.6-.1 13.2-5.3 12.3-13.3-.7-6.3-5-9.6-13-9.7-14.1-.1-28.2 0-43.3 0zm116-52.6c-12.5-10.9-26.3-11.6-39.8-3.6-16.4 9.6-22.4 25.3-20.4 43.5 1.9 17 9.3 30.9 27.1 36.6 11.1 3.6 21.4 2.3 30.5-5.1 2.4-1.9 3.1-1.5 4.8.6 3.3 4.2 9 5.8 14 3.9 5-1.5 8.3-6.1 8.3-11.3.1-20 .2-40 0-60-.1-8-7.6-13.1-15.4-11.5-4.3.9-6.7 3.8-9.1 6.9zm69.3 37.1c-.4 25 20.3 43.9 46.3 41.3 23.9-2.4 39.4-20.3 38.6-45.6-.8-25-19.4-42.1-44.9-41.3-23.9.7-40.8 19.9-40 45.6zm-8.8-19.9c0-15.7.1-31.3 0-47 0-8-5.1-13-12.7-12.9-7.4.1-12.3 5.1-12.4 12.8-.1 4.7 0 9.3 0 14v79.5c0 6.2 3.8 11.6 8.8 12.9 6.9 1.9 14-2.2 15.8-9.1.3-1.2.5-2.4.4-3.7.2-15.5.1-31 .1-46.5z",1,"st0"],["d","M139.5 436.2c-27.3 0-54.7.9-82-.1-32.3-1.3-57-28.4-57-60.7 0-104.3.2-208.6 0-313C.5 26.7 28.4 1.8 60.5.9c33.6-.9 67.3-.2 101-.2.6 0 1.4-.3 1.7.7-.2 1.8-2 2-3.1 2.7-19.8 11.6-37.9 25.5-53.1 42.7-25.1 28.4-42.5 61-48.4 98.9-10.4 66.9 10.5 123.7 57.8 171.1 8.4 8.5 9.5 15.1 2.8 26.5-8.1 13.7-20.4 23-33.5 31.5-1.4.8-2.8 1.8-4.2 2.7-2.1 1.8-.8 2.7 1 3.5.4.9.9 1.7 1.5 2.5 11.5 10.2 22.4 21.1 33.7 31.5 5.3 4.9 10.6 10 15.7 15.1 2.1 1.9 5.6 2.5 6.1 6.1z",1,"st1"],["d","M139.5 436.2c-.5-3.5-4-4.1-6.1-6.2-5.1-5.2-10.4-10.2-15.7-15.1-11.3-10.4-22.2-21.3-33.7-31.5-.6-.8-1.1-1.6-1.5-2.5 25.5 5 50.4 1.6 74.9-5.9 8.3-2.5 16.6-5 25-7.1 5.7-1.5 11.7-1.2 17.2.8 63.4 21.8 126 19.8 187.6-7.2 25.1-11.1 48-26.7 67.4-46.2 1-1 1.7-2.5 3.5-2.6.9 1.4.4 2.9.4 4.4v58.5c.2 33.4-26.6 60.6-60 60.9h-.5c-36 .2-72 0-108 0H145.5c-2-.2-4-.3-6-.3z",1,"st2"],["d","M155.1 212.4c15.1 0 29.3-.1 43.4 0 7.9.1 12.2 3.4 13 9.7.9 7.9-3.7 13.2-12.3 13.3-16.2.2-32.3.1-48.5.1-4.7 0-9.3.2-14-.1-5.8-.3-11.5-1.5-14.3-7.5s-.8-11.4 3-16.3c15.4-19.6 30.9-39.3 46.4-58.9.9-1.2 1.8-2.4 2.7-3.5-1-1.7-2.4-.9-3.6-1-10.8-.1-21.7 0-32.5-.1-2.5 0-5-.3-7.4-.8-5.7-1.3-9.2-7-7.9-12.6.9-3.8 3.9-6.9 7.7-7.8 2.4-.6 4.9-.9 7.4-.9 17.8-.1 35.7-.1 53.5 0 3.2-.1 6.3.3 9.4 1.1 6.8 2.3 9.7 8.6 7 15.2-2.4 5.7-6.2 10.6-10 15.5-13.1 16.7-26.2 33.3-39.3 49.8-1.1 1.3-2.1 2.6-3.7 4.8z",1,"st1"],["d","M271.1 159.8c2.4-3.1 4.9-6 9-6.8 7.9-1.6 15.3 3.5 15.4 11.5.3 20 .2 40 0 60 0 5.2-3.4 9.8-8.3 11.3-5 1.9-10.7.4-14-3.9-1.7-2.1-2.4-2.5-4.8-.6-9.1 7.4-19.4 8.7-30.5 5.1-17.8-5.8-25.1-19.7-27.1-36.6-2.1-18.3 4-33.9 20.4-43.5 13.6-8.1 27.4-7.4 39.9 3.5zm-35.4 36.5c.2 4.4 1.6 8.6 4.2 12.1 5.4 7.2 15.7 8.7 23 3.3 1.2-.9 2.3-2 3.3-3.3 5.6-7.6 5.6-20.1 0-27.7-2.8-3.9-7.2-6.2-11.9-6.3-11-.7-18.7 7.8-18.6 21.9zM340.4 196.9c-.8-25.7 16.1-44.9 40.1-45.6 25.5-.8 44.1 16.3 44.9 41.3.8 25.3-14.7 43.2-38.6 45.6-26.1 2.6-46.8-16.3-46.4-41.3zm25.1-2.4c-.2 5 1.3 9.9 4.3 14 5.5 7.2 15.8 8.6 23 3 1.1-.8 2-1.8 2.9-2.8 5.8-7.6 5.8-20.4.1-28-2.8-3.8-7.2-6.2-11.9-6.3-10.8-.6-18.4 7.6-18.4 20.1zM331.6 177c0 15.5.1 31 0 46.5.1 7.1-5.5 13-12.6 13.2-1.2 0-2.5-.1-3.7-.4-5-1.3-8.8-6.6-8.8-12.9v-79.5c0-4.7-.1-9.3 0-14 .1-7.7 5-12.7 12.4-12.7 7.6-.1 12.7 4.9 12.7 12.9.1 15.6 0 31.3 0 46.9z",1,"st1"],["d","M235.7 196.3c-.1-14.1 7.6-22.6 18.5-22 4.7.2 9.1 2.5 11.9 6.4 5.6 7.5 5.6 20.1 0 27.7-5.4 7.2-15.7 8.7-23 3.3-1.2-.9-2.3-2-3.3-3.3-2.5-3.5-3.9-7.7-4.1-12.1zM365.5 194.5c0-12.4 7.6-20.7 18.4-20.1 4.7.1 9.1 2.5 11.9 6.3 5.7 7.6 5.7 20.5-.1 28-5.6 7.1-16 8.3-23.1 2.7-1.1-.8-2-1.8-2.8-2.9-3-4.1-4.4-9-4.3-14z",1,"st0"],["d","M66 1h328.1c35.9 0 65 29.1 65 65v303c0 35.9-29.1 65-65 65H66c-35.9 0-65-29.1-65-65V66C1 30.1 30.1 1 66 1z",1,"st3"],[1,"text-md"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,o){1&e&&(t.TgZ(0,"auth-layout"),t.YNc(1,Ic,81,42,"div",0),t.YNc(2,Oc,2,0,"div",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.loginByToken),t.xp6(1),t.Q6J("ngIf",o.loginByToken))},dependencies:[p.rH,C.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,rt.Q,et.M,te,z.mp,z.bT],encapsulation:2}),n})(),Ec=(()=>{class n extends y.Q{ngOnInit(){this.baseApiService.logout(),this.fireAuth.signOut();var e=this.commonService.getMyQueryParam("return_url")||null;e?this.redirectService.redirectSimpleLoginWithReturnUrl(e):this.redirectService.redirectSimpleLogin(),super.ngOnInit()}constructor(e,o,i,l){super(e),this.commonService=e,this.baseApiService=o,this.fireAuth=i,this.redirectService=l,this.fireAuth.signOut()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(j._),t.Y36(ti),t.Y36(nt.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})(),Mc=(()=>{class n extends y.Q{ngOnInit(){super.ngOnInit()}constructor(e){super(e),this.commonService=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["auth-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[p.lC],encapsulation:2}),n})();function Pc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",45)(1,"div",46)(2,"div",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeRegisterType(0))}),t.O4$(),t.TgZ(3,"svg",48),t._UZ(4,"path",9)(5,"path",10),t.qZA(),t.kcU(),t.TgZ(6,"p",49),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",46)(10,"div",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeRegisterType(1))}),t.O4$(),t.TgZ(11,"svg",51)(12,"g",52),t._UZ(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56)(17,"path",57)(18,"path",58)(19,"path",59)(20,"path",60)(21,"path",61),t.qZA()(),t.kcU(),t.TgZ(22,"p",49),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"lang_auto_toi_la_hoc_sinh")),t.xp6(16),t.Oqu(t.lcZ(24,4,"lang_auto_toi_la_giao_vien")))}function qc(n,s){1&n&&(t.TgZ(0,"div",62)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Uc(n,s){1&n&&(t.TgZ(0,"div",62)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function jc(n,s){if(1&n&&(t.TgZ(0,"div",62)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.msgError)}}function Qc(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",63),t._UZ(2,"path",64)(3,"circle",65),t.qZA()())}function Nc(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",63),t._UZ(2,"path",66)(3,"path",67)(4,"path",68)(5,"line",69),t.qZA()())}function Fc(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function Rc(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function Dc(n,s){if(1&n&&(t.TgZ(0,"div",62),t.YNc(1,Fc,3,3,"span",24),t.YNc(2,Rc,3,3,"span",24),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.minlength)}}const Ar=function(n){return[n]},xs=function(n,s){return{return_url:n,from:"register",user_click:"true",type:s}};function zc(n,s){if(1&n&&(t.TgZ(0,"div",73),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"a",74),t.ALo(4,"localize"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,5,e.statusObj.errorMessage)," Click "),t.xp6(2),t.Q6J("routerLink",t.VKq(13,Ar,t.lcZ(4,7,"/auth/login")))("queryParams",t.WLB(15,xs,e.returnUrl,e.isStudent?0:1)),t.xp6(2),t.hij(" ",t.lcZ(6,9,"lang_auto_vao_day")," "),t.xp6(2),t.hij(" ",t.lcZ(8,11,"lang_auto_de_dang_nhap")," ")}}function Jc(n,s){if(1&n&&(t.TgZ(0,"label",75),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.statusObj.errorMessage)," ")}}function Bc(n,s){if(1&n&&(t.TgZ(0,"div",70),t.YNc(1,zc,9,18,"div",71),t.YNc(2,Jc,3,3,"ng-template",null,72,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",e)}}function Yc(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",76),t._uU(2,"\xa0"),t.qZA())}function Gc(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"a",77),t.ALo(2,"localize"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,Ar,t.lcZ(2,3,"/auth/login")))("queryParams",t.WLB(9,xs,e.returnUrl,e.isStudent?0:1)),t.xp6(2),t.hij(" ",t.lcZ(4,5,"lang_auto_dang_nhap")," ")}}const Vc=function(n){return{return_url:n,from:"register",user_click:"true"}};function Kc(n,s){if(1&n&&(t.TgZ(0,"a",78),t.ALo(1,"localize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.Q6J("routerLink",t.VKq(7,Ar,t.lcZ(1,3,"/auth/login")))("queryParams",t.VKq(9,Vc,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_auto_dang_nhap"))}}const ys=function(n){return{active:n}};let ws=(()=>{class n extends y.Q{executeImportantAction(){return new Promise(e=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{e(o)})})}goToConfirm(){var e;this.returnUrl=null!==(e=this.commonService.getMyQueryParam("return_url"))&&void 0!==e?e:"";var o="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",o)}changeRegisterType(e){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${e}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==e?(this.gaService.gaEvent("sign_up_switch_to_student"),this.isTeacher=!1,this.isStudent=!0,this.checkValidateUsername=!1):(this.gaService.gaEvent("sign_up_switch_to_teacher"),this.isTeacher=!0,this.isStudent=!1,this.checkValidateUsername=!1)}loginZalo(){this.gaService.gaEvent("sign_up_teacher_by_zalo"),window.location.href=this.zaloLoginUrl}registerForTeacher(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(e=>{var o=this.commonService.getFormObj(this.form),i={fullName:o.fullName,password:o.password,tokenCaptcha:e,language:this.commonService.getCurrentLang()};this.validateEmail(o.username)?i.email=o.username:i.phone=o.username,this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRegisterPost(i).subscribe(l=>{var d,h,v,x;1==l.success?(this.gaService.gaEvent("sign_up_teacher"),this.successStatusObj(),this.baseApiService.redirectLoginByRoleForRegister(null!==(d=this.commonService.getMyQueryParam("return_url"))&&void 0!==d?d:"")):(this.errorStatusObj(null!==(h=l.message)&&void 0!==h?h:""),this.isDuplicateEmailOrPhone=null!==(x=null===(v=l.data)||void 0===v?void 0:v.isDuplicateEmailOrPhone)&&void 0!==x?x:0)}))})}registerForStudent(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(e=>{this.gaService.gaEvent("sign_up_student");var o=this.commonService.getFormObj(this.form);this.initStatusObj();var i={fullName:o.fullName,password:o.password,tokenCaptcha:e,language:this.commonService.getCurrentLang()};this.validateEmail(o.username)?i.email=o.username:i.phone=o.username,this.subscriptions.add(this.authService.apiAuthRegisterForStudentPost(i).subscribe(l=>{var d,h,v,x;1==l.success?(this.successStatusObj(),this.baseApiService.redirectLoginByRole(null!==(d=this.commonService.getMyQueryParam("return_url"))&&void 0!==d?d:"")):(this.errorStatusObj(null!==(h=l.message)&&void 0!==h?h:""),this.isDuplicateEmailOrPhone=null!==(x=null===(v=l.data)||void 0===v?void 0:v.isDuplicateEmailOrPhone)&&void 0!==x?x:0)}))})}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(e){this.msgError="",isNaN(Number(e))?this.validateEmail(e)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==e.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}googleSignIn(){this.fireAuth.signInWithRedirect(new ee.hJ).then(()=>this.fireAuth.getRedirectResult().then(e=>{})).catch(e=>{console.log(e)})}signInWithTokenGoogle(e){this.checkLoadingLogin=!0;let o=this.commonService.getMyParam(this.activeRoute,"type"),i=parseInt(o??"0",10);e.getIdToken().then(l=>{let d={isRegisterForm:1,isRegisterForTeacher:i,firebaseToken:l,language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(d).subscribe(h=>{var v,x,A,k,E;1==h.success?(this.isStudent?this.baseApiService.redirectLoginForStudent(null!==(v=this.commonService.getMyQueryParam("return_url"))&&void 0!==v?v:""):this.baseApiService.redirectLoginByRole(null!==(x=this.commonService.getMyQueryParam("return_url"))&&void 0!==x?x:""),this.successStatusObj(),this.checkLoadingLogin=!1):(this.errorStatusObj(null!==(A=h.message)&&void 0!==A?A:"",!0),this.isDuplicateEmailOrPhone=null!==(E=null===(k=h.data)||void 0===k?void 0:k.isDuplicateEmailOrPhone)&&void 0!==E?E:0,this.checkLoadingLogin=!1)}))})}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole())this.baseApiService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=at.N.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1");let i=this.commonService.getMyQueryParam("user_click");var e=this.commonService.getMyParam(this.activeRoute,"type");if(null!=e){var o=parseInt(e?.toString(),10);this.changeRegisterType(0==o?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),this.form=this.formBuilder.group({fullName:["",[a.kI.required,U._.noWhiteSpace]],username:["",[a.kI.required,U._.noWhiteSpace]],password:["",[a.kI.required,a.kI.minLength(6)]]}),!i&&this.baseApiService.isAnonymousRole()&&this.myNavigation("/student/dashboard/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}}constructor(e,o,i,l,d,h,v,x){super(i),this.formBuilder=e,this.activeRoute=o,this.commonService=i,this.baseApiService=l,this.recaptchaV3Service=d,this.fireAuth=h,this.authService=v,this.gaService=x,this.form=new a.nJ({}),this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.checkValidateUsername=!1,this.msgError="",this.checkLoadingLogin=!0,this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.initStatusObj(),h.authState.subscribe(A=>{A?this.signInWithTokenGoogle(A):this.checkLoadingLogin=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.QS),t.Y36(p.gz),t.Y36(S.v),t.Y36(j._),t.Y36(bs.YC),t.Y36(ti),t.Y36(q.e8),t.Y36(Wt.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],features:[t.qOj],decls:81,vars:66,consts:[[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-n7i-Iot8p2j","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-ZGm0-1R2f6r","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-32","h-32",2,"stroke-width","1"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.0","viewBox","0 0 2600.000000 2600.000000","preserveAspectRatio","xMidYMid meet",1,"lucide","w-32","h-32"],["transform","translate(0.000000,2600.000000) scale(0.100000,-0.100000)","fill","currentColor","stroke","currentColor"],["d","M5087 20663 c-4 -3 -7 -145 -7 -315 l0 -308 5525 0 5525 0 0 315 0 315 -5518 0 c-3035 0 -5522 -3 -5525 -7z"],["d","M5507 19763 c-4 -3 -7 -1365 -7 -3025 l0 -3018 4196 0 c3353 0 4194 3 4188 13 -23 37 -372 551 -447 657 -100 140 -196 327 -227 440 -27 102 -38 229 -29 327 31 315 280 593 589 659 102 22 269 14 365 -16 194 -62 387 -198 546 -387 40 -48 164 -185 273 -303 110 -118 202 -219 206 -223 4 -4 129 183 279 418 l271 425 0 2020 0 2020 -5098 0 c-2804 0 -5102 -3 -5105 -7z m9243 -1328 l0 -235 -4140 0 -4140 0 0 235 0 235 4140 0 4140 0 0 -235z m-3080 -1130 l0 -235 -2600 0 -2600 0 0 235 0 235 2600 0 2600 0 0 -235z m0 -1125 l0 -230 -2600 0 -2600 0 0 230 0 230 2600 0 2600 0 0 -230z m-2480 -1130 l0 -230 -1360 0 -1360 0 0 230 0 230 1360 0 1360 0 0 -230z"],["d","M17409 19294 c-249 -45 -459 -156 -636 -336 -149 -153 -242 -316 -301 -528 -24 -87 -26 -111 -26 -285 0 -174 2 -198 27 -288 142 -527 593 -877 1130 -877 187 0 344 35 502 110 530 255 786 850 609 1412 -110 347 -390 630 -740 747 -176 59 -393 77 -565 45z"],["d","M17370 16650 c-246 -34 -488 -116 -645 -218 -138 -89 -120 -65 -820 -1165 -362 -567 -663 -1037 -669 -1044 -8 -9 -107 92 -408 415 -218 236 -414 450 -435 477 -82 103 -209 212 -300 257 -80 40 -92 43 -167 43 -105 0 -171 -30 -248 -114 -64 -69 -88 -132 -88 -231 0 -129 56 -262 190 -450 45 -63 300 -439 568 -835 522 -773 526 -778 671 -866 98 -59 158 -74 301 -74 122 0 127 1 193 33 42 21 90 56 130 96 39 40 199 257 437 596 l375 534 3 -573 2 -573 -125 -1196 c-69 -658 -125 -1208 -125 -1221 0 -20 3 -23 28 -17 15 3 90 9 167 12 117 5 161 3 264 -15 209 -36 426 -122 574 -227 26 -19 51 -34 55 -34 5 0 71 287 147 638 76 350 142 656 148 680 5 24 10 42 12 40 2 -2 222 -1013 489 -2248 267 -1235 492 -2274 501 -2310 28 -117 123 -228 233 -271 79 -32 195 -32 275 0 120 47 226 182 244 312 6 41 -61 717 -294 2944 l-302 2890 2 582 2 583 625 -1018 c343 -559 644 -1038 667 -1063 80 -86 213 -137 325 -125 129 13 249 101 304 221 37 80 45 207 19 286 -10 30 -483 919 -1051 1976 -1154 2146 -1044 1960 -1225 2075 -127 80 -301 144 -499 184 -98 19 -445 28 -550 14z"],["d","M5087 13443 c-4 -3 -7 -145 -7 -315 l0 -308 4711 0 4710 0 -212 315 -213 315 -4491 0 c-2471 0 -4495 -3 -4498 -7z"],["d","M7306 10119 c-148 -22 -312 -85 -437 -169 -82 -55 -213 -187 -268 -268 -63 -94 -118 -215 -148 -327 -23 -88 -26 -118 -26 -255 0 -167 12 -234 69 -377 88 -224 279 -429 501 -539 l84 -41 -78 -28 c-312 -110 -580 -343 -731 -634 -96 -184 -139 -342 -149 -543 l-6 -128 1332 0 1333 0 -7 98 c-22 331 -117 577 -316 819 -137 166 -371 325 -582 394 l-66 21 97 49 c281 141 480 400 544 709 16 78 19 121 15 240 -6 178 -26 261 -102 415 -121 248 -331 432 -592 518 -163 54 -313 68 -467 46z"],["d","M11775 10115 c-209 -40 -384 -128 -532 -269 -221 -209 -336 -496 -320 -795 14 -253 110 -473 286 -655 91 -94 177 -157 289 -212 l83 -41 -78 -28 c-312 -110 -584 -346 -732 -635 -95 -186 -138 -342 -148 -542 l-6 -128 1332 0 1331 0 -6 98 c-22 371 -142 643 -393 893 -158 158 -319 259 -505 319 l-69 23 73 33 c256 119 455 346 544 619 34 105 46 187 46 311 0 474 -316 872 -790 996 -102 26 -299 33 -405 13z"],["d","M16275 10114 c-228 -41 -418 -144 -579 -315 -277 -295 -352 -718 -193 -1098 88 -213 276 -409 495 -517 l83 -41 -78 -28 c-507 -179 -857 -646 -880 -1172 l-6 -133 1328 0 1328 0 -6 138 c-15 337 -150 629 -405 873 -145 140 -318 246 -485 299 l-67 22 92 46 c304 153 504 428 558 764 17 105 8 300 -18 400 -52 195 -146 352 -295 494 -110 105 -216 171 -351 219 -173 62 -353 79 -521 49z"],["d","M5002 5933 l3 -408 6940 0 6940 0 3 408 2 407 -6945 0 -6945 0 2 -407z"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],["role","status",1,"spinner-border","spinner-border-sm"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(e,o){if(1&e&&(t.TgZ(0,"auth-layout")(1,"h2",0),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Pc,25,6,"div",1),t.TgZ(5,"div",2)(6,"form",3)(7,"div",4)(8,"ul",5)(9,"li",6)(10,"button",7),t.NdJ("click",function(){return o.changeRegisterType(0)}),t.O4$(),t.TgZ(11,"svg",8),t._UZ(12,"path",9)(13,"path",10),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(16,"li",11)(17,"button",12),t.NdJ("click",function(){return o.changeRegisterType(1)}),t.O4$(),t.TgZ(18,"svg",8),t._UZ(19,"path",13)(20,"circle",14),t.qZA(),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(23,"div",15)(24,"div",16)(25,"div",17),t._UZ(26,"input",18),t.ALo(27,"mytranslate"),t.YNc(28,qc,4,3,"div",19),t.qZA(),t.TgZ(29,"div",17)(30,"input",20),t.NdJ("input",function(){return o.checkValidateUser(o.form.controls.username.value)}),t.ALo(31,"mytranslate"),t.qZA(),t.YNc(32,Uc,4,3,"div",19),t.YNc(33,jc,3,1,"div",19),t.qZA(),t.TgZ(34,"div",17)(35,"div",21),t._UZ(36,"input",22),t.ALo(37,"mytranslate"),t.TgZ(38,"button",23),t.NdJ("click",function(){return o.togglePassword()}),t.YNc(39,Qc,4,0,"span",24),t.YNc(40,Nc,6,0,"span",24),t.qZA()(),t.YNc(41,Dc,3,2,"div",19),t.qZA()()()(),t.YNc(42,Bc,4,2,"div",25),t.TgZ(43,"div",26)(44,"p",27),t._uU(45),t.ALo(46,"mytranslate"),t.ALo(47,"mytranslate"),t.ALo(48,"mytranslate"),t.TgZ(49,"a",28),t._uU(50),t.ALo(51,"mytranslate"),t.qZA(),t._uU(52),t.ALo(53,"mytranslate"),t.TgZ(54,"a",29),t._uU(55),t.ALo(56,"mytranslate"),t.qZA()()(),t.TgZ(57,"div",30)(58,"button",31),t.NdJ("click",function(){return 1==o.isStudent?o.registerForStudent():o.registerForTeacher()}),t.YNc(59,Yc,3,0,"span",24),t._uU(60),t.ALo(61,"mytranslate"),t.qZA()(),t.TgZ(62,"div",32),t._uU(63),t.ALo(64,"mytranslate"),t.YNc(65,Gc,5,12,"ng-container",33),t.YNc(66,Kc,4,11,"ng-template",null,34,t.W1O),t.qZA(),t.TgZ(68,"div",35)(69,"span",36),t._uU(70),t.ALo(71,"mytranslate"),t.qZA()(),t.TgZ(72,"div",37)(73,"button",38),t.NdJ("click",function(){return o.googleSignIn()}),t.O4$(),t.TgZ(74,"svg",39),t._UZ(75,"path",40)(76,"path",41)(77,"path",42)(78,"path",43),t.qZA(),t.kcU(),t.TgZ(79,"span",44),t._uU(80,"Google"),t.qZA()()()()()()),2&e){const i=t.MAs(67);t.xp6(2),t.hij(" ",t.lcZ(3,32,"lang_auto_dang_ky")," "),t.xp6(2),t.Q6J("ngIf",1==o.isShowOption),t.xp6(1),t.Q6J("hidden",o.isShowOption),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("ngClass",t.VKq(62,ys,o.isStudent)),t.xp6(4),t.hij(" ",t.lcZ(15,34,"lang_auto_hoc_sinh")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(64,ys,o.isTeacher)),t.xp6(4),t.hij(" ",t.lcZ(22,36,"lang_auto_giao_vien")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(27,38,"lang_auto_ho_ten")),t.xp6(2),t.Q6J("ngIf",o.form.controls.fullName.errors&&(o.form.controls.fullName.dirty||o.form.controls.fullName.touched)),t.xp6(2),t.s9C("placeholder",t.lcZ(31,40,"lang_auto_nhap_sdt_hoac_email")),t.xp6(2),t.Q6J("ngIf",o.form.controls.username.errors&&(o.form.controls.username.dirty||o.form.controls.username.touched)&&!o.checkValidateUsername),t.xp6(1),t.Q6J("ngIf",o.checkValidateUsername),t.xp6(3),t.s9C("placeholder",t.lcZ(37,42,"lang_auto_mat_khau")),t.Q6J("type",o.showPassword?"text":"password"),t.xp6(3),t.Q6J("ngIf",o.showPassword),t.xp6(1),t.Q6J("ngIf",!o.showPassword),t.xp6(1),t.Q6J("ngIf",o.form.controls.password.errors&&(o.form.controls.password.dirty||o.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",o.statusObj.errorMessage),t.xp6(3),t.lnq(" ",t.lcZ(46,44,"lang_auto_bang_cach_an_vao_nut"),' "',t.lcZ(47,46,"lang_auto_dang_ky"),'" ',t.lcZ(48,48,"lang_auto__toi_dong_y_voi")," "),t.xp6(5),t.hij(" ",t.lcZ(51,50,"lang_auto_dieu_khoan_su_dung")," "),t.xp6(2),t.hij(" ",t.lcZ(53,52,"lang_auto_va")," "),t.xp6(3),t.hij(" ",t.lcZ(56,54,"lang_auto_chinh_sach_bao_mat_cua_azota"),""),t.xp6(3),t.Q6J("disabled",o.form.invalid),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading||o.checkLoadingLogin),t.xp6(1),t.hij(" ",t.lcZ(61,56,"lang_auto_dang_ky")," "),t.xp6(3),t.hij(" ",t.lcZ(64,58,"lang_auto_ban_da_co_tai_khoan")," "),t.xp6(2),t.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",i),t.xp6(5),t.Oqu(t.lcZ(71,60,"lang_auto_hoac"))}},dependencies:[p.rH,C.mk,C.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,et.M,te,F.lO,z.bT],encapsulation:2}),n})();function Hc(n,s){1&n&&(t.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_cms_common_loading"),"..."))}function Wc(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function $c(n,s){if(1&n&&(t.TgZ(0,"div",28),t.YNc(1,Wc,3,3,"div",10),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required")||e.getErrorType("password","minlength"))}}function Xc(n,s){if(1&n&&(t.TgZ(0,"div",14)(1,"label",29),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("*** ",t.lcZ(3,1,e.statusObj.errorMessage),"")}}function tl(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",30),t._uU(2,"\xa0"),t.qZA())}const el=function(n){return[n]},nl=function(){return{user_click:"true"}};function ol(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),t._UZ(4,"input",17),t.ALo(5,"mytranslate"),t.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),t._uU(9,"lock"),t.qZA()()()(),t.TgZ(10,"div",16),t._UZ(11,"input",20),t.ALo(12,"mytranslate"),t.TgZ(13,"div",18)(14,"span",19)(15,"mat-icon"),t._uU(16,"lock"),t.qZA()()()(),t.YNc(17,$c,2,1,"div",21),t.qZA()(),t.YNc(18,Xc,4,3,"div",22),t.TgZ(19,"div",23)(20,"div",15)(21,"div",24)(22,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.form.invalid||i.statusObj.loading||i.changePassword())}),t.YNc(23,tl,3,0,"span",10),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()()(),t._UZ(26,"hr"),t.TgZ(27,"div",26)(28,"a",27),t.ALo(29,"localize"),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.s9C("placeholder",t.lcZ(5,10,"lang_auto_mat_khau_moi")),t.xp6(7),t.s9C("placeholder",t.lcZ(12,12,"lang_auto_xac_nhan_mat_khau")),t.xp6(6),t.Q6J("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",e.statusObj.errorMessage),t.xp6(4),t.Q6J("disabled",e.form.invalid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(25,14,"lang_auto_doi_mat_khau")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(20,el,t.lcZ(29,16,"/auth/login")))("queryParams",t.DdM(22,nl)),t.xp6(2),t.Oqu(t.lcZ(31,18,"lang_auto_dang_nhap_tai_khoan"))}}const il=[{path:"",component:Mc,children:[{path:"login",component:Lc},{path:"login-scan/:role",component:Gr},{path:"register",component:ws},{path:"register/:type",component:ws},{path:"choose-role",component:la},{path:"logout",component:Ec},{path:"confirm_forgot_password",component:Ta},{path:"confirm-forgot-password-email",component:In},{path:"forgot_password_success",component:Qo},{path:"confirm_forgot_password_qr",component:Da},{path:"confirm_forgot_password_old",component:Ea},{path:"confirm_account",component:va},{path:"checking_service",component:sa},{path:"set_new_password",component:(()=>{class n extends y.Q{getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,o){var i,l;return!(null===(i=this.form.controls[e].errors)||void 0===i||!i[o])&&(null===(l=this.form.controls[e].errors)||void 0===l?void 0:l[o])}changePassword(){if(this.form.valid)if(this.form.value.password!=this.form.value.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var e=this.commonService.getFormObj(this.form),o=this.commonService.getMyQueryParam("token"),i=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:o,newPassword:e.password,appName:i}).subscribe(d=>{var h;1==d.success?(this.successStatusObj(),this.baseApiService.redirectLoginByRole("")):this.errorStatusObj(null!==(h=d.message)&&void 0!==h?h:"")}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[a.kI.required,a.kI.minLength(6)]],confirm_password:""}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,o,i,l){super(o),this.formBuilder=e,this.commonService=o,this.baseApiService=i,this.userInfoService=l,this.form=new a.nJ({})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.QS),t.Y36(S.v),t.Y36(j._),t.Y36(q.$C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[t.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","formControlName","password","autocomplete","off",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["type","password","formControlName","confirm_password","autocomplete","off",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.ALo(6,"convertCdnLinkOfGitHub"),t.TgZ(7,"div",6)(8,"div",7)(9,"span",8),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",9),t.YNc(13,Hc,6,3,"div",10),t.YNc(14,ol,32,23,"div",10),t.qZA()()(),t._UZ(15,"div",3),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("src",t.lcZ(6,5,"azota_assets/images/logo.svg"),t.LSH),t.xp6(5),t.Oqu(t.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!o.statusObj.loading))},dependencies:[p.rH,C.O5,a._Y,a.Fj,a.JJ,a.JL,ae.eB,re.Hw,a.sg,a.u,et.M,F.lO,z.bT,z.Jc],encapsulation:2}),n})()},{path:"create-qr-forgot-pass/:role",component:Ba},{path:"change-email",component:ra},{path:"confirm-change-email",component:ua},{path:"account-setting/:roleType/:modeType",component:yo},{path:"go-to-mobile/:code",component:No}]}];let al=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(il),p.Bz,F.fQ]}),n})(),rl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz,C.ez,a.u5,K.Z_,lt.j,a.UX,al,R.W,Y.d,D.Z,W.QG,it.kb,_.hO.initializeApp(at.N.firebaseConfig_app1,"auth"),X.qyJ.pick(X.ciZ),ht.l1]}),n})()},30004:(jt,bt,m)=>{m.d(bt,{L:()=>Et});var C=m(55330),_=m(94650),a=m(60284),p=m(76056),K=m(51009),X=m(36307),ht=m(34793),W=m(36895),it=m(42542),R=m(75477),D=m(4334),lt=m(74650),at=m(76224),Y=m(99),F=m(1033);function M(B,ut){if(1&B&&(_.TgZ(0,"div",8),_.GkF(1,9),_.TgZ(2,"div",10),_.GkF(3,9),_.TgZ(4,"div",11)(5,"div",12),_.GkF(6,9),_.qZA(),_.TgZ(7,"div",13),_.GkF(8,9),_.qZA()()()()),2&B){_.oxw(2);const H=_.MAs(8),dt=_.MAs(6),ft=_.MAs(4),Nt=_.MAs(2);_.xp6(1),_.Q6J("ngTemplateOutlet",H),_.xp6(2),_.Q6J("ngTemplateOutlet",dt),_.xp6(3),_.Q6J("ngTemplateOutlet",ft),_.xp6(2),_.Q6J("ngTemplateOutlet",Nt)}}function y(B,ut){if(1&B&&(_.TgZ(0,"div",8)(1,"div",10)(2,"div",11)(3,"div",13),_.GkF(4,9),_.qZA()()()()),2&B){_.oxw(2);const H=_.MAs(2);_.xp6(4),_.Q6J("ngTemplateOutlet",H)}}function t(B,ut){if(1&B&&(_.TgZ(0,"div",5),_.YNc(1,M,9,4,"div",6),_.YNc(2,y,5,1,"div",6),_.TgZ(3,"div",7),_._UZ(4,"header-setting-color"),_.qZA()()),2&B){const H=_.oxw();_.xp6(1),_.Q6J("ngIf",!H.isMobileWebView),_.xp6(1),_.Q6J("ngIf",H.isMobileWebView)}}function S(B,ut){1&B&&_.Hsn(0)}function j(B,ut){if(1&B){const H=_.EpF();_.TgZ(0,"button",20),_.NdJ("click",function(){_.CHM(H);const ft=_.oxw(2);return _.KtG(ft.goBack())}),_.O4$(),_.TgZ(1,"svg",21),_._UZ(2,"polyline",22),_.qZA(),_.kcU(),_.TgZ(3,"span",23),_._uU(4),_.ALo(5,"mytranslate"),_.qZA()()}2&B&&(_.xp6(4),_.Oqu(_.lcZ(5,1,"lang_auto_quay_lai")))}function nt(B,ut){if(1&B&&(_.TgZ(0,"div",14),_.YNc(1,j,6,3,"button",15),_.qZA(),_.TgZ(2,"div",16),_._UZ(3,"azt-switch-language"),_.qZA(),_.TgZ(4,"div",16),_._UZ(5,"header-notice-box",17),_.qZA(),_.TgZ(6,"div",18),_._UZ(7,"header-account-menu",19),_.qZA()),2&B){const H=_.oxw();_.xp6(1),_.Q6J("ngIf",""!=H.headerBackTolink),_.xp6(4),_.Q6J("role",1),_.xp6(2),_.Q6J("isTeacherDashboard",!1)}}const q=function(B){return[B]},gt=function(){return["/student/dashboard/0","/de-thi","/test/","/auth/account-setting/","/notify","/student/add-teacher","/on-luyen"]},rt=function(){return["/student/dashboard/1","/bai-tap"]};function G(B,ut){1&B&&(_.TgZ(0,"nav",24)(1,"a",25),_.ALo(2,"mylocalize"),_._UZ(3,"img",26),_.ALo(4,"convertCdnLinkOfGitHub"),_.qZA(),_._UZ(5,"div",27),_.TgZ(6,"ul")(7,"li")(8,"a",28),_.ALo(9,"mylocalize"),_.TgZ(10,"div",29),_.ALo(11,"mytranslate"),_.O4$(),_.TgZ(12,"svg",30),_._UZ(13,"path",31)(14,"polyline",32)(15,"path",33),_.qZA()(),_.kcU(),_.TgZ(16,"div",34),_._uU(17),_.ALo(18,"mytranslate"),_.qZA()()(),_.TgZ(19,"li")(20,"a",35),_.ALo(21,"mylocalize"),_.TgZ(22,"div",29),_.ALo(23,"mytranslate"),_.O4$(),_.TgZ(24,"svg",30),_._UZ(25,"path",31)(26,"polyline",32)(27,"line",36)(28,"line",37)(29,"line",38),_.qZA()(),_.kcU(),_.TgZ(30,"div",34),_._uU(31),_.ALo(32,"mytranslate"),_.qZA()()()()()),2&B&&(_.xp6(1),_.Q6J("routerLink",_.VKq(28,q,_.lcZ(2,12,"/student/dashboard/0"))),_.xp6(2),_.Q6J("src",_.lcZ(4,14,"azota_assets/images/logo-white.svg"),_.LSH),_.xp6(5),_.Q6J("routerLink",_.VKq(30,q,_.lcZ(9,16,"/student/dashboard/0")))("changeActiveRouter",_.DdM(32,gt)),_.xp6(2),_.s9C("matTooltip",_.lcZ(11,18,"lang_auto_de_thi")),_.Q6J("matTooltipPosition","right"),_.xp6(7),_.hij(" ",_.lcZ(18,20,"lang_auto_de_thi")," "),_.xp6(3),_.Q6J("routerLink",_.VKq(33,q,_.lcZ(21,22,"/student/dashboard/1")))("changeActiveRouter",_.DdM(35,rt)),_.xp6(2),_.s9C("matTooltip",_.lcZ(23,24,"lang_auto_bai_tap")),_.Q6J("matTooltipPosition","right"),_.xp6(9),_.hij(" ",_.lcZ(32,26,"lang_auto_bai_tap")," "))}const mt=function(){return["/student/dashboard/0","/de-thi","/test/answer-test","/auth/account-setting/","/on-luyen/"]};function tt(B,ut){if(1&B){const H=_.EpF();_.TgZ(0,"div",39)(1,"div",40)(2,"a",41),_.ALo(3,"mylocalize"),_._UZ(4,"img",26),_.ALo(5,"convertCdnLinkOfGitHub"),_.qZA(),_.TgZ(6,"a",42),_.NdJ("click",function(){_.CHM(H);const ft=_.oxw();return _.KtG(ft.openMenuMobile())}),_.O4$(),_.TgZ(7,"svg",43),_._UZ(8,"line",44)(9,"line",45)(10,"line",46),_.qZA()()(),_.kcU(),_.TgZ(11,"div",47)(12,"a",48),_.NdJ("click",function(){_.CHM(H);const ft=_.oxw();return _.KtG(ft.closeMenuMobile())}),_.O4$(),_.TgZ(13,"svg",43),_._UZ(14,"circle",49)(15,"line",50)(16,"line",51),_.qZA()(),_.kcU(),_.TgZ(17,"ul",52)(18,"li")(19,"a",53),_.NdJ("click",function(){_.CHM(H);const ft=_.oxw();return _.KtG(ft.closeMenuMobile())}),_.ALo(20,"mylocalize"),_.TgZ(21,"div",54),_.O4$(),_.TgZ(22,"svg",30),_._UZ(23,"path",31)(24,"polyline",32)(25,"path",33),_.qZA()(),_.kcU(),_.TgZ(26,"div",55),_._uU(27),_.ALo(28,"mytranslate"),_.qZA()()(),_.TgZ(29,"li")(30,"a",56),_.NdJ("click",function(){_.CHM(H);const ft=_.oxw();return _.KtG(ft.closeMenuMobile())}),_.ALo(31,"mylocalize"),_.TgZ(32,"div",54),_.O4$(),_.TgZ(33,"svg",30),_._UZ(34,"path",31)(35,"polyline",32)(36,"line",36)(37,"line",37)(38,"line",38),_.qZA()(),_.kcU(),_.TgZ(39,"div",55),_._uU(40),_.ALo(41,"mytranslate"),_.qZA()()()()()()}2&B&&(_.xp6(2),_.Q6J("routerLink",_.VKq(20,q,_.lcZ(3,8,"/student/dashboard/0"))),_.xp6(2),_.Q6J("src",_.lcZ(5,10,"azota_assets/images/logo-white.svg"),_.LSH),_.xp6(15),_.Q6J("routerLink",_.VKq(22,q,_.lcZ(20,12,"/student/dashboard/0")))("changeActiveRouter",_.DdM(24,mt)),_.xp6(8),_.hij(" ",_.lcZ(28,14,"lang_auto_de_thi")," "),_.xp6(3),_.Q6J("routerLink",_.VKq(25,q,_.lcZ(31,16,"/student/dashboard/1")))("changeActiveRouter",_.DdM(27,rt)),_.xp6(10),_.hij(" ",_.lcZ(41,18,"lang_auto_bai_tap")," "))}const xt=["*"];let Et=(()=>{class B extends C.Q{onScroll(H){let dt=document.getElementById("christmas-line");dt&&(dt.style.position=window.pageYOffset>10?"absolute":"fixed")}goBack(){this.commonService.myNavigationBySpecialQueryString(this.headerBackTolink)}openMenuMobile(){document.getElementById("toggle-menu")?.classList.add("mobile-menu--active")}closeMenuMobile(){document.getElementById("toggle-menu")?.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),window.scrollTo(0,0),this.isLogin=this.baseApiService.isLogin()}constructor(H,dt,ft,Nt){super(ft),this.processNoticeService=H,this.baseApiService=dt,this.commonService=ft,this.mobileWebviewService=Nt,this.headerBackTolink="",this.headerTitle="",this.isLogin=!1,this.subscriptions.add(this.mobileWebviewService.getWebviewBackToListenerSubscriber().subscribe(()=>{this.headerBackTolink&&this.goBack()}))}}return B.\u0275fac=function(H){return new(H||B)(_.Y36(a.e),_.Y36(p._),_.Y36(K.v),_.Y36(X.F))},B.\u0275cmp=_.Xpm({type:B,selectors:[["student-layout"]],hostBindings:function(H,dt){1&H&&_.NdJ("scroll",function(Nt){return dt.onScroll(Nt)},!1,_.Jf7)},inputs:{headerBackTolink:"headerBackTolink",headerTitle:"headerTitle"},features:[_.qOj],ngContentSelectors:xt,decls:9,vars:1,consts:[["id","azt-layout","class","azt-layout",4,"ngIf"],["BodyContentTpl",""],["TopbarTpl",""],["DesktopMenuTpl",""],["mobileMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden","md:block"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar"],[1,"azt-content"],[1,"mr-auto"],["azt-track-service","student-layout-62Iv9eNFqL","class","btn btn-transparent",3,"click",4,"ngIf"],[1,"dropdown","mr-2","sm:mr-4"],[3,"role"],[1,"dropdown","w-8","h-8"],[3,"isTeacherDashboard"],["azt-track-service","student-layout-62Iv9eNFqL",1,"btn","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"side-nav","side-nav--simple"],["azt-track-service","student-layout-un9eQGSmiX",1,"flex","items-center","pl-5","pt-4","relative",3,"routerLink"],["alt","Azota",1,"w-6",3,"src"],[1,"side-nav__devider","my-6"],["azt-track-service","student-layout-B8HCRZRRkc",1,"side-menu",3,"routerLink","changeActiveRouter"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","m9 15 2 2 4-4"],[1,"side-menu__title"],["azt-track-service","student-layout-IlivR6FSj2",1,"side-menu",3,"routerLink","changeActiveRouter"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],["azt-track-service","student-layout-mV8VG2juD5",1,"flex","mr-auto",3,"routerLink"],["azt-track-service","student-layout-vJI1vNSRRy",1,"mobile-menu-toggler",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","text-white","transform","-rotate-90"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"scrollable"],["azt-track-service","student-layout-_36C4dUavQE",1,"mobile-menu-toggler",3,"click"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"scrollable__content","py-2"],["azt-track-service","student-layout-ULLWHHZRD7-",1,"menu",3,"routerLink","changeActiveRouter","click"],[1,"menu__icon"],[1,"menu__title"],["azt-track-service","student-layout-39njUH9XdjK",1,"menu",3,"routerLink","changeActiveRouter","click"]],template:function(H,dt){1&H&&(_.F$t(),_.YNc(0,t,5,2,"div",0),_.YNc(1,S,1,0,"ng-template",null,1,_.W1O),_.YNc(3,nt,8,3,"ng-template",null,2,_.W1O),_.YNc(5,G,33,36,"ng-template",null,3,_.W1O),_.YNc(7,tt,42,28,"ng-template",null,4,_.W1O)),2&H&&_.Q6J("ngIf",dt.isLogin)},dependencies:[ht.rH,W.O5,W.tP,it.Kd,R.x,D.f,lt.H,at.y,Y.q,F.mp,F.bT,F.Jc],encapsulation:2}),B})()},25229:(jt,bt,m)=>{m.d(bt,{Z:()=>K});var C=m(94650),_=m(51009),a=m(34782),p=m(57677);let K=(()=>{class X{getCurrentAbTestingIndex(){var W=this.browserStorageService.getSimpleStorage(this.actionTextKey);return null==W&&(W=this.commonService.getRandomNumber(0,this.maxActionTextLength-1).toString(),this.browserStorageService.saveSimpleStorage(this.actionTextKey,W)),Number(W)}sendLogShareQuestion(W){let it={action:W+" "+this.getCurrentAbTestingIndex()};this.testMarketQuestionService.apiTestMarketQuestionsLogsPost(it).subscribe(R=>{})}constructor(W,it,R){this.commonService=W,this.browserStorageService=it,this.testMarketQuestionService=R,this.actionTextKey="azt_ab_testing_key",this.maxActionTextLength=2}}return X.\u0275fac=function(W){return new(W||X)(C.LFG(_.v),C.LFG(a.z),C.LFG(p.Q_))},X.\u0275prov=C.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},49133:(jt,bt,m)=>{m.d(bt,{LT:()=>W,P6:()=>ht});var C=m(61135),_=m(56451),a=m(54004),p=m(94650),K=m(57677);class X{constructor(R,D,lt,at,Y=1,F=!1,M=!1,y,t){this.id=R,this.pr=D,this.type=lt,this.item=at,this.level=Y,this.expandable=F,this.isLoading=M,this.prNode=y,this.isLeaf=t}}let ht=(()=>{class it{constructor(D){this.testMarketQuestionService=D,this.dataMap=new Map,this.levelId=0,this.subjectId=0}initialData(D,lt){return this.levelId=D,this.subjectId=lt,new Promise(at=>{this.apiLeechData(void 0).then(Y=>{at(Y.map(F=>new X(F.id,F.pr,F.type,F.name,0,"cate"===F.type,!1,void 0,F.isLeaf)))})})}isExpandable(D){return this.dataMap.has(D)}apiLeechData(D){return new Promise(lt=>{const at=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,D).subscribe(Y=>{1===Y.success&&Y.data&&(Y.data.objs||[]).forEach(M=>{var y,t;at.push({pr:D??0,id:null!==(y=M.id)&&void 0!==y?y:0,name:M.name?`${M.name}`:"",type:"cate",isLeaf:null!==(t=M.isLeaf)&&void 0!==t&&t})}),lt(at)})})}}return it.\u0275fac=function(D){return new(D||it)(p.LFG(K.Q_))},it.\u0275prov=p.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})();class W{get data(){return this.dataChange.value}set data(R){this._treeControl.dataNodes=R,this.dataChange.next(R)}constructor(R,D){this._treeControl=R,this._database=D,this.dataChange=new C.X([])}connect(R){return this._treeControl.expansionModel.changed.subscribe(D=>{(D.added||D.removed)&&this.handleTreeControl(D)}),(0,_.T)(R.viewChange,this.dataChange).pipe((0,a.U)(()=>this.data))}getNode(R){let D=this.data.filter(lt=>lt.id==R);return D&&D.length>0?D[0]:null}disconnect(R){}handleTreeControl(R){R.added&&R.added.forEach(D=>this.toggleNode(D,!0)),R.removed&&R.removed.slice().reverse().forEach(D=>this.toggleNode(D,!1))}toggleNode(R,D){if("cate"===R.type){const lt=this.data.indexOf(R);if(D)R.isLoading=!0,this._database.apiLeechData(R.id).then(at=>{const Y=at.map(F=>new X(F.id,F.pr,F.type,F.name,R.level+1,"cate"===F.type,!1,R,F.isLeaf));this.data.splice(lt+1,0,...Y),this.dataChange.next(this.data),R.isLoading=!1});else{let at=0;for(let Y=lt+1;Y<this.data.length&&this.data[Y].level>R.level;Y++,at++);this.data.splice(lt+1,at),this.dataChange.next(this.data)}}}}},63942:(jt,bt,m)=>{m.d(bt,{Z:()=>F});var C=m(42090),_=m(34859),a=m(49681),p=m(41877);class K{constructor(y,t){this._delegate=y,this.firebase=t,(0,a._addComponent)(y,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=y.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(y){this._delegate.automaticDataCollectionEnabled=y}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(y=>{this._delegate.checkDestroyed(),y()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,a.deleteApp)(this._delegate)))}_getService(y,t=a._DEFAULT_ENTRY_NAME){var S;this._delegate.checkDestroyed();const j=this._delegate.container.getProvider(y);return!j.isInitialized()&&"EXPLICIT"===(null===(S=j.getComponent())||void 0===S?void 0:S.instantiationMode)&&j.initialize(),j.getImmediate({identifier:t})}_removeServiceInstance(y,t=a._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(y).clearInstance(t)}_addComponent(y){(0,a._addComponent)(this._delegate,y)}_addOrOverwriteComponent(y){(0,a._addOrOverwriteComponent)(this._delegate,y)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ht=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function it(){const M=function W(M){const y={},t={__esModule:!0,initializeApp:function nt(G,mt={}){const tt=a.initializeApp(G,mt);if((0,C.r3)(y,tt.name))return y[tt.name];const xt=new M(tt,t);return y[tt.name]=xt,xt},app:j,registerVersion:a.registerVersion,setLogLevel:a.setLogLevel,onLog:a.onLog,apps:null,SDK_VERSION:a.SDK_VERSION,INTERNAL:{registerComponent:function gt(G){const mt=G.name,tt=mt.replace("-compat","");if(a._registerComponent(G)&&"PUBLIC"===G.type){const xt=(Et=j())=>{if("function"!=typeof Et[tt])throw ht.create("invalid-app-argument",{appName:mt});return Et[tt]()};void 0!==G.serviceProps&&(0,C.ZB)(xt,G.serviceProps),t[tt]=xt,M.prototype[tt]=function(...Et){return this._getService.bind(this,mt).apply(this,G.multipleInstances?Et:[])}}return"PUBLIC"===G.type?t[tt]:null},removeApp:function S(G){delete y[G]},useAsService:function rt(G,mt){return"serverAuth"===mt?null:mt},modularAPIs:a}};function j(G){if(!(0,C.r3)(y,G=G||a._DEFAULT_ENTRY_NAME))throw ht.create("no-app",{appName:G});return y[G]}return t.default=t,Object.defineProperty(t,"apps",{get:function q(){return Object.keys(y).map(G=>y[G])}}),j.App=M,t}(K);return M.INTERNAL=Object.assign(Object.assign({},M.INTERNAL),{createFirebaseNamespace:it,extendNamespace:function y(t){(0,C.ZB)(M,t)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),M}(),D=new p.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){D.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const M=self.firebase.SDK_VERSION;M&&M.indexOf("LITE")>=0&&D.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const F=R;!function Y(M){(0,a.registerVersion)("@firebase/app-compat","0.2.4",M)}()},29260:(jt,bt,m)=>{m.d(bt,{Z:()=>C.Z});var C=m(63942);C.Z.registerVersion("firebase","9.17.2","app-compat")}}]);