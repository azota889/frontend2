"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[782],{37104:(k,f,a)=>{a.d(f,{B:()=>A});var v=a(55330),t=a(5e3),u=a(69808),e=a(87238),p=a(1033);function h(o,d){1&o&&(t.TgZ(0,"span",2),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_dat")),t.xp6(2),t.Oqu(t.lcZ(3,4,"lang_auto_d_upper")))}function c(o,d){1&o&&(t.TgZ(0,"span",2),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_chua_dat")),t.xp6(2),t.Oqu(t.lcZ(3,4,"lang_auto_cd_upper")))}function g(o,d){1&o&&(t.TgZ(0,"span",2),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_hoan_thanh")),t.xp6(2),t.Oqu(t.lcZ(3,4,"lang_auto_tag_ht")))}function M(o,d){1&o&&(t.TgZ(0,"span",2),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_chua_hoan_thanh")),t.xp6(2),t.hij("",t.lcZ(3,4,"lang_auto_tag_CHT")," "))}function C(o,d){1&o&&(t.TgZ(0,"span",2),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_hoan_thanh_tot")),t.xp6(2),t.Oqu(t.lcZ(3,4,"lang_auto_tag_HTT")))}function O(o,d){if(1&o&&(t.TgZ(0,"span",3),t._uU(1),t.qZA()),2&o){const m=t.oxw();t.xp6(1),t.Oqu(m.mark)}}let A=(()=>{class o extends v.Q{constructor(){super(...arguments),this.mark=0}}return o.\u0275fac=function(){let d;return function(l){return(d||(d=t.n5z(o)))(l||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[t.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(m,l){1&m&&(t.YNc(0,h,4,6,"span",0),t.YNc(1,c,4,6,"span",0),t.YNc(2,g,4,6,"span",0),t.YNc(3,M,4,6,"span",0),t.YNc(4,C,4,6,"span",0),t.YNc(5,O,2,1,"span",1)),2&m&&(t.Q6J("ngIf","1000"==l.mark),t.xp6(1),t.Q6J("ngIf","1001"==l.mark),t.xp6(1),t.Q6J("ngIf","2000"==l.mark),t.xp6(1),t.Q6J("ngIf","2001"==l.mark),t.xp6(1),t.Q6J("ngIf","3000"==l.mark),t.xp6(1),t.Q6J("ngIf","2001"!=l.mark&&"2000"!=l.mark&&"1001"!=l.mark&&"1000"!=l.mark&&"3000"!=l.mark))},dependencies:[u.O5,e.gM,p.bT],encapsulation:2}),o})()},30502:(k,f,a)=>{a.d(f,{F:()=>z});var v=a(48966),t=a(55330),u=a(51442),e=a(5e3),p=a(35018),h=a(22313),c=a(15043),g=a(41752),M=a(69808),C=a(1737),O=a(1033);function A(n,s){1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"span",4),e._uU(3,"Loading..."),e.qZA()()())}function o(n,s){if(1&n&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.qZA()),2&n){const i=e.oxw(2);e.xp6(1),e.HOy("",e.lcZ(2,4,"lang_auto_dung_luong"),": ",i.fileMb," ",e.lcZ(3,6,"lang_auto_mb_|_loai")," : ",i.fileOption.mimes,"")}}function d(n,s){1&n&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_dung_luong_03_mb_|_loai__images")))}function m(n,s){if(1&n&&(e.TgZ(0,"a",23),e.O4$(),e.TgZ(1,"svg",16),e._UZ(2,"path",24)(3,"polyline",25)(4,"line",26),e.qZA()()),2&n){const i=e.oxw(2);e.uIk("href",i.rootLink,e.LSH)("download",i.fileOption.name)}}function l(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"div",32)(2,"audio",33)(3,"source",34),e.NdJ("load",function(){e.CHM(i);const r=e.oxw(3);return e.KtG(r.onLoad())}),e.qZA(),e._uU(4," Your browser does not support the audio element. "),e.qZA()()()}if(2&n){const i=e.oxw(3);e.xp6(3),e.Q6J("src",i.cdnLink,e.LSH),e.uIk("type",i.fileOption.mimes)}}function P(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"div",35)(2,"video",36)(3,"source",34),e.NdJ("load",function(){e.CHM(i);const r=e.oxw(3);return e.KtG(r.onLoad())}),e.qZA(),e.TgZ(4,"p",37),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()()}if(2&n){const i=e.oxw(3);e.xp6(2),e.s9C("poster",i.videoThumbUrl,e.LSH),e.xp6(1),e.Q6J("src",i.cdnLink,e.LSH),e.uIk("type",i.fileOption.mimes),e.xp6(2),e.Oqu(e.lcZ(6,4,"lang_auto_ban_dang_su_dung_trinh_duyet_khong_ho_tro_xem_video_truc_tuyen"))}}function y(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"iframe",38),e.NdJ("load",function(){e.CHM(i);const r=e.oxw(3);return e.KtG(r.onLoad())}),e.qZA()()}if(2&n){const i=e.oxw(3);e.xp6(1),e.Q6J("src",i.cdnLink,e.uOi)}}function L(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"div",35)(2,"img",39),e.NdJ("load",function(){e.CHM(i);const r=e.oxw(3);return e.KtG(r.onLoad())}),e.qZA()()()}if(2&n){const i=e.oxw(3);e.xp6(2),e.uIk("src",i.cdnLink,e.LSH)}}function b(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"div",40)(2,"iframe",41),e.NdJ("load",function(){e.CHM(i);const r=e.oxw(3);return e.KtG(r.onLoad())}),e.qZA()()()}if(2&n){const i=e.oxw(3);e.xp6(2),e.Q6J("src",i.cdnLink,e.uOi)}}function E(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"div",42)(2,"pdf-viewer",43),e.NdJ("load",function(){e.CHM(i);const r=e.oxw(3);return e.KtG(r.onLoad())}),e.qZA()()()}if(2&n){const i=e.oxw(3);e.xp6(2),e.Q6J("src",i.cdnLink)("show-all",!0)}}function Z(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",27)(2,"div",28),e.YNc(3,l,5,2,"div",29),e.YNc(4,P,7,6,"div",29),e.YNc(5,y,2,1,"div",29),e.YNc(6,L,3,1,"div",29),e.YNc(7,b,3,1,"div",29),e.YNc(8,E,3,2,"div",29),e._UZ(9,"div",30),e.qZA(),e._UZ(10,"div",31),e.qZA(),e.BQk()),2&n){const i=e.oxw(2);e.xp6(3),e.Q6J("ngIf","audio"===i.typeFile),e.xp6(1),e.Q6J("ngIf","video"===i.typeFile),e.xp6(1),e.Q6J("ngIf","vimeo"===i.typeFile),e.xp6(1),e.Q6J("ngIf","image"===i.typeFile),e.xp6(1),e.Q6J("ngIf","officeapps"===i.typeFile),e.xp6(1),e.Q6J("ngIf","pdf"===i.typeFile)}}function I(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"div",44)(3,"img",45),e.NdJ("load",function(){e.CHM(i);const r=e.oxw(2);return e.KtG(r.onLoad())}),e.qZA()()()()}if(2&n){const i=e.oxw(2);e.xp6(3),e.uIk("src",i.fileOption.url,e.LSH)}}function N(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),e._UZ(4,"div",9),e.qZA(),e.TgZ(5,"div",10),e._uU(6),e.qZA(),e.YNc(7,o,4,8,"div",11),e.YNc(8,d,3,3,"div",11),e.qZA(),e.TgZ(9,"div",12)(10,"span",13),e.YNc(11,m,5,2,"a",14),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.btnClosePreview())}),e.O4$(),e.TgZ(13,"svg",16),e._UZ(14,"line",17)(15,"line",18),e.qZA()()()(),e.kcU(),e.TgZ(16,"div",19),e.YNc(17,Z,11,6,"ng-container",20),e.YNc(18,I,4,1,"ng-template",null,21,e.W1O),e.qZA()()}if(2&n){const i=e.MAs(19),_=e.oxw();e.xp6(6),e.Oqu(_.fileOption.name),e.xp6(1),e.Q6J("ngIf",_.fileOption.mimes),e.xp6(1),e.Q6J("ngIf",!_.fileOption.mimes),e.xp6(3),e.Q6J("ngIf",_.showDownloadIcon),e.xp6(6),e.Q6J("ngIf",!_.viewFullImageWithScroll)("ngIfElse",i)}}let z=(()=>{class n extends t.Q{constructor(i,_,r,x,T,w){super(i),this.commonService=i,this.dom=_,this.cdnService=r,this.envService=x,this.dialogRef=T,this.viewFullImageWithScroll=!1,this.showDownloadIcon=!0,this.typeFile="",this.cdnLink="",this.rootLink="",this.fileMb=0,this.videoThumbUrl="",this.isVimeoLink=!1,this.fileOption=w.fileOption,this.viewFullImageWithScroll=w.viewFullImageWithScroll,this.showDownloadIcon=w.showDownloadIcon}onLoad(){this.stopStatusObj()}initData(){var i,_,r,x;let T=null!==(i=this.fileOption)&&void 0!==i&&i.size?Number(this.fileOption.size):0,w=null!==(_=this.fileOption)&&void 0!==_&&_.mimes?this.fileOption.mimes:"";if(this.cdnLink=this.cdnService.getMyCdn(null!==(x=null===(r=this.fileOption)||void 0===r?void 0:r.url)&&void 0!==x?x:""),this.rootLink=this.cdnLink,this.fileMb=this.getFileMB(T),this.typeFile=(0,u.Z9)(w),"string"==typeof this.cdnLink&&(this.isVimeoLink=this.cdnLink.includes("https://player.vimeo.com/")||this.cdnLink.includes("https://mega.nz")),this.isVimeoLink&&(this.typeFile="vimeo"),"string"==typeof this.cdnLink&&""!=this.cdnLink)switch(this.typeFile){case"pdf":this.cdnLink=this.cdnLink;break;case"officeapps":this.cdnLink=this.dom.bypassSecurityTrustResourceUrl(this.envService.getLinkEmbedDocument(this.cdnLink));break;default:this.cdnLink=this.dom.bypassSecurityTrustResourceUrl(this.cdnLink)}setTimeout(()=>{this.stopStatusObj()},200)}removeClassCss(){document.body.classList.remove("overflow-hidden")}btnClosePreview(){this.removeClassCss(),this.dialogRef.close()}getFileMB(i){return i&&i>0?(i/=1048576).toFixed(2):0}ngOnInit(){document.body.classList.add("overflow-hidden"),setTimeout(()=>{this.initData()},0),this.videoThumbUrl=this.cdnService.convertLinkCdn("azota_assets/images/video-thumb.png"),this.initStatusObj(),super.ngOnInit()}ngOnDestroy(){this.removeClassCss(),super.ngOnDestroy()}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(p.v),e.Y36(h.H7),e.Y36(c.U),e.Y36(g.D),e.Y36(v.so,8),e.Y36(v.WI,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-preview-media-new"]],features:[e.qOj],decls:2,vars:2,consts:[["class","loading-block",4,"ngIf"],["class","box h-full","style","border-radius:0px",4,"ngIf"],[1,"loading-block"],["role","status",1,"spinner-border","text-secondary",2,"width","5rem","height","5rem"],[1,"sr-only"],[1,"box","h-full",2,"border-radius","0px"],[1,"flex","fixed","top-0","pt-3","border-b","border-slate-200/60","dark:border-darkmode-400","items-center","w-full"],[1,"file-preview__header-left"],["title","",1,"avatar","avatar--xs"],[1,"avatar-img",2,"background-image","url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/documents.png')","background-size","cover"],[1,"file-preview__header__title"],["class","file-preview__header__send-time",4,"ngIf"],[1,"file-preview__header-right"],[1,"mr-4"],["class","btn btn-outline-primary btn-transparent","target","_blank",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"file-preview__main","flx",2,"overflow-x","auto","flex","1 1 auto"],[4,"ngIf","ngIfElse"],["viewFullImage",""],[1,"file-preview__header__send-time"],["target","_blank",1,"btn","btn-outline-primary","btn-transparent"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"file-preview__main-iframe","mx-auto"],[1,"file-preview__notify"],[4,"ngIf"],[1,"tool-hide"],[1,"file-preview__main-comments"],[1,"container-fluid","mt-3"],["controls",""],[3,"src","load"],[1,"pl-2","pr-2","mt-3"],["id","my-video","playsinline","playsinline","controls","","preload","auto","data-setup","{}",1,"video-js",2,"max-height","calc(100vh - 80px)","width","100%","padding-bottom","1rem",3,"poster"],[1,"vjs-no-js"],["frameborder","0","allowfullscreen","",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],["alt","Responsive image",1,"img-fluid","image-preview",2,"max-height","calc(100vh - 80px)","padding-bottom","1rem",3,"load"],[1,"pl-2","pr-2","mp-0"],["frameborder","0",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],[1,"container-fluid","mp-0"],[2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem","display","block",3,"src","show-all","load"],[1,"pl-2","pr-2","mt-3","block-img"],[1,"img-fluid","image-preview",3,"load"]],template:function(i,_){1&i&&(e.YNc(0,A,4,0,"div",0),e.YNc(1,N,20,6,"div",1)),2&i&&(e.Q6J("ngIf",_.statusObj.loading),e.xp6(1),e.Q6J("ngIf",null!=_.fileOption&&!_.statusObj.loading))},dependencies:[M.O5,C.rQ,O.bT],styles:[".file-preview[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;z-index:9999;display:flex;flex-direction:column;left:0;top:0;border-radius:0}.block-img[_ngcontent-%COMP%]{width:100vw;height:90vh;text-align:center;overflow-y:auto}.loading-block[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;justify-content:center;align-items:center;left:0;top:0;position:fixed;height:100%;min-height:100vh}.file-preview__main[_ngcontent-%COMP%]{margin-top:65px;width:100%;min-height:100%;min-width:277px;display:flex;position:fixed}.file-preview__header[_ngcontent-%COMP%]{padding-top:10px;height:65px;box-shadow:0 2px 4px #0003;position:fixed;align-items:center;z-index:1;top:0;width:100%}.flx-sp-btw[_ngcontent-%COMP%]{justify-content:space-between}.flx[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.file-preview__header-left[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:12px;flex:1 1 50px;min-width:0}.file-preview__header-left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{float:left;margin-right:10px}.avatar--xs[_ngcontent-%COMP%]{width:40px;height:40px;font-size:17px}.avatar[_ngcontent-%COMP%]{position:relative;contain:layout size style}.avatar--xs[_ngcontent-%COMP%] > .avatar-img[_ngcontent-%COMP%]{width:40px;height:40px}.avatar-img[_ngcontent-%COMP%]{border-radius:100%}.file-preview__header__title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.file-preview__header__send-time[_ngcontent-%COMP%], .file-preview__header__title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-preview__header__send-time[_ngcontent-%COMP%]{padding-top:2px;font-size:13px;color:#a0a0a0}.file-preview__header-right[_ngcontent-%COMP%]{margin-right:15px;white-space:nowrap;display:flex}.file-preview__controls-container[_ngcontent-%COMP%]{margin-right:40px}.mp-0[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]}),n})()},41752:(k,f,a)=>{a.d(f,{D:()=>e});var v=a(92340),t=a(5e3),u=a(58914);let e=(()=>{class p{constructor(c){this.configService=c}getCurrentVersion(){return v.N.versionTime}getGlobalNotice(){return this.configService.getConfig("globalNotice")}getEnvValue(c){return this.configService.getConfig(c)}getLinkEmbedDocument(c){var g=this.configService.getConfig("docView");return g&&"MICROSOFT"!=g?`https://docs.google.com/viewer?url=${c}&embedded=true`:`https://view.officeapps.live.com/op/embed.aspx?src=${c}`}}return p.\u0275fac=function(c){return new(c||p)(t.LFG(u.E))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);