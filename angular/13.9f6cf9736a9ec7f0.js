"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[13],{74650:(B,w,a)=>{a.d(w,{H:()=>P});var t=a(55330),e=a(5e3),o=a(35018),C=a(43147),S=a(34782),_=a(15575),I=a(74202),M=a(69808),v=a(92181),b=a(87238),E=a(64123),l=a(1033);const p=function(m){return[m]},K=function(m){return{return_url:m,user_click:"true"}},x=function(m){return{return_url:m,from:"register",user_click:"true"}};function L(m,D){if(1&m&&(e.ynx(0),e.TgZ(1,"li")(2,"a",10),e.ALo(3,"mylocalize"),e.O4$(),e.TgZ(4,"svg",11),e._UZ(5,"circle",12)(6,"polyline",13)(7,"line",14),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(10,"li")(11,"a",10),e.ALo(12,"mylocalize"),e.O4$(),e.TgZ(13,"svg",11),e._UZ(14,"path",15)(15,"polyline",16)(16,"line",17),e.qZA(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(19,"li"),e._UZ(20,"hr",8),e.qZA(),e.BQk()),2&m){const d=e.oxw();e.xp6(2),e.Q6J("routerLink",e.VKq(14,p,e.lcZ(3,6,"/auth/register")))("queryParams",e.VKq(16,K,d.returnUrl)),e.xp6(6),e.hij(" \xa0",e.lcZ(9,8,"lang_auto_dang_ky")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(18,p,e.lcZ(12,10,"/auth/login")))("queryParams",e.VKq(20,x,d.returnUrl)),e.xp6(6),e.hij(" ",e.lcZ(18,12,"lang_auto_dang_nhap")," ")}}function u(m,D){if(1&m&&(e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",18),e.ALo(2,"mylocalize"),e.O4$(),e.TgZ(3,"svg",11),e._UZ(4,"polyline",41)(5,"line",42)(6,"polyline",43)(7,"line",44),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()),2&m){const d=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(6,p,e.lcZ(2,2,d.isTeacherDashboard?"/student/dashboard/0":"/admin/dashboard"))),e.xp6(7),e.hij(" ",e.lcZ(9,4,d.isTeacherDashboard?"lang_auto_vao_man_hoc_sinh":"lang_auto_vao_man_giao_vien")," ")}}function h(m,D){if(1&m){const d=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",45),e.NdJ("click",function(){e.CHM(d);const Z=e.oxw(2);return e.KtG(Z.switchModeUI("dark"))}),e.O4$(),e.TgZ(2,"svg",11),e._UZ(3,"path",46),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&m&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"lang_auto_che_de_toi")," "))}function O(m,D){if(1&m){const d=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",45),e.NdJ("click",function(){e.CHM(d);const Z=e.oxw(2);return e.KtG(Z.switchModeUI("light"))}),e.O4$(),e.TgZ(2,"svg",11),e._UZ(3,"circle",47)(4,"path",48)(5,"path",49)(6,"path",50)(7,"path",51)(8,"path",52)(9,"path",53)(10,"path",54)(11,"path",55),e.qZA(),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()}2&m&&(e.xp6(12),e.hij(" ",e.lcZ(13,1,"lang_auto_che_de_sang")," "))}function T(m,D){if(1&m&&(e.ynx(0),e.TgZ(1,"li")(2,"a",18),e.ALo(3,"mylocalize"),e.O4$(),e.TgZ(4,"svg",11),e._UZ(5,"path",19)(6,"circle",20),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,u,10,8,"li",9),e.YNc(10,h,6,3,"li",9),e.YNc(11,O,14,3,"li",9),e.kcU(),e.TgZ(12,"li"),e._UZ(13,"hr",8),e.qZA(),e.TgZ(14,"li")(15,"a",18),e.ALo(16,"mylocalize"),e.O4$(),e.TgZ(17,"svg",11),e._UZ(18,"path",21)(19,"path",22)(20,"path",23)(21,"path",24)(22,"line",25),e.qZA(),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(25,"li")(26,"a",18),e.ALo(27,"mylocalize"),e.O4$(),e.TgZ(28,"svg",11),e._UZ(29,"rect",26)(30,"rect",27)(31,"rect",28)(32,"path",29)(33,"path",30)(34,"path",31)(35,"path",32)(36,"path",33)(37,"path",34)(38,"path",35)(39,"path",36)(40,"path",37),e.qZA(),e._uU(41),e.ALo(42,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(43,"li")(44,"a",18),e.ALo(45,"mylocalize"),e.O4$(),e.TgZ(46,"svg",11),e._UZ(47,"path",38)(48,"polyline",39)(49,"line",40),e.qZA(),e._uU(50),e.ALo(51,"mytranslate"),e.qZA()(),e.BQk()),2&m){const d=e.oxw();e.xp6(2),e.Q6J("routerLink",e.VKq(27,p,e.lcZ(3,11,d.isTeacherDashboard?"/auth/account-setting/0":"/auth/account-setting/1"))),e.xp6(5),e.hij(" ",e.lcZ(8,13,"lang_auto_tai_khoan")," "),e.xp6(2),e.Q6J("ngIf",d.isTeacherRole),e.xp6(1),e.Q6J("ngIf","light"==d.modeUI),e.xp6(1),e.Q6J("ngIf","dark"==d.modeUI),e.xp6(4),e.Q6J("routerLink",e.VKq(29,p,e.lcZ(16,15,"/auth/login-scan/0"))),e.xp6(8),e.hij(" ",e.lcZ(24,17,"lang_auto_qr_dang_nhap")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(31,p,e.lcZ(27,19,"/auth/create-qr-forgot-pass/0"))),e.xp6(15),e.hij(" ",e.lcZ(42,21,"lang_auto_tao_qr_quen_mat_khau")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(33,p,e.lcZ(45,23,"/auth/logout"))),e.xp6(6),e.hij(" ",e.lcZ(51,25,"lang_auto_dang_xuat")," ")}}let P=(()=>{class m extends t.Q{constructor(d,g,Z,H){super(d),this.commonService=d,this.baseApiService=g,this.browserStorageService=Z,this.userLoginStateService=H,this.isTeacherDashboard=!0,this.returnUrl="",this.userObj={},this.modeUI="",this.isAnonymous=!1,this.isTeacherRole=!1}switchModeUI(d){let g=document.getElementById("azota-app-html");this.modeUI=d,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?g&&(g.classList.remove("dark"),g.classList.add("light")):g&&(g.classList.remove("light"),g.classList.add("dark"))}ngOnInit(){var d;this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getCurrentUrl(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":null!==(d=this.browserStorageService.getStorage("mode_ui"))&&void 0!==d?d:"light",this.switchModeUI(this.modeUI),this.userObj=this.baseApiService.getUserObj(),this.isAnonymous=this.baseApiService.isAnonymousRole(),this.isTeacherRole=this.baseApiService.isTeacherRole(),this.userLoginStateService.loginMessage.subscribe(g=>{this.userObj=this.baseApiService.getUserObj(),this.isAnonymous=this.baseApiService.isAnonymousRole()}),super.ngOnInit()}}return m.\u0275fac=function(d){return new(d||m)(e.Y36(o.v),e.Y36(C._),e.Y36(S.z),e.Y36(_.N))},m.\u0275cmp=e.Xpm({type:m,selectors:[["header-account-menu"]],inputs:{isTeacherDashboard:"isTeacherDashboard"},features:[e.qOj],decls:19,vars:17,consts:[[1,"dropdown-toggle","w-8","h-8","rounded-full","overflow-hidden","shadow-lg","image-fit","zoom-in",3,"matMenuTriggerFor"],[3,"nameCreateAvatar","size","linkAvatar"],["accountMenu","matMenu"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[1,"p-2"],[1,"font-medium","truncate",3,"matTooltip"],[1,"text-xs","text-slate-600","-mt-0.5","dark:text-slate-500"],[1,"dropdown-divider","border-slate-200","dark:border-darkmode-400"],[4,"ngIf"],[1,"dropdown-item",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 16 16 12 12 8"],["x1","8","y1","12","x2","16","y2","12"],["d","M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"],["points","10 17 15 12 10 7"],["x1","15","y1","12","x2","3","y2","12"],[1,"dropdown-item",3,"routerLink"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["d","M3 7V5a2 2 0 0 1 2-2h2"],["d","M17 3h2a2 2 0 0 1 2 2v2"],["d","M21 17v2a2 2 0 0 1-2 2h-2"],["d","M7 21H5a2 2 0 0 1-2-2v-2"],["x1","7","y1","12","x2","17","y2","12"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],["points","17 11 21 7 17 3"],["x1","21","y1","7","x2","9","y2","7"],["points","7 21 3 17 7 13"],["x1","15","y1","17","x2","3","y2","17"],[1,"dropdown-item",3,"click"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"]],template:function(d,g){if(1&d&&(e.TgZ(0,"div",0),e._UZ(1,"azt-create-avatar",1),e.qZA(),e.TgZ(2,"mat-menu",null,2)(4,"div",3)(5,"ul",4)(6,"li",5)(7,"div",6),e.ALo(8,"mytranslate"),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"div",7),e._uU(12),e.ALo(13,"mytranslate"),e.ALo(14,"mytranslate"),e.qZA()(),e.TgZ(15,"li"),e._UZ(16,"hr",8),e.qZA(),e.YNc(17,L,21,22,"ng-container",9),e.YNc(18,T,52,35,"ng-container",9),e.qZA()()()),2&d){const Z=e.MAs(3);e.Q6J("matMenuTriggerFor",Z),e.xp6(1),e.Q6J("nameCreateAvatar",g.userObj.fullName)("size",30)("linkAvatar",g.userObj.avatar),e.xp6(6),e.MGl("matTooltip"," ",g.isAnonymous?e.lcZ(8,9,"lang_auto_tai_khoan_an_danh"):g.userObj.fullName,""),e.xp6(2),e.hij(" ",g.isAnonymous?e.lcZ(10,11,"lang_auto_tai_khoan_an_danh"):g.userObj.fullName," "),e.xp6(3),e.hij(" ",null!=g.userObj.roles&&g.userObj.roles.includes("TEACHER")?e.lcZ(13,13,"lang_auto_giao_vien"):e.lcZ(14,15,"lang_auto_hoc_sinh")," "),e.xp6(5),e.Q6J("ngIf",g.isAnonymous),e.xp6(1),e.Q6J("ngIf",!g.isAnonymous)}},dependencies:[I.yS,M.O5,v.VK,v.p6,b.gM,E.t,l.mp,l.bT],encapsulation:2}),m})()},76224:(B,w,a)=>{a.d(w,{y:()=>J});var t=a(55330),e=a(5e3),o=a(60284),C=a(43147),S=a(74693),_=a(35018),I=a(61886),M=a(74202),v=a(69808),b=a(92181),E=a(64123),l=a(1033);function p(i,A){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.hij(" ",r.unreadNotification," ")}}function K(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",27),e._uU(3),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ","lang_auto_ban_moi_duoc_phan_quyen_cho_lop"," "),e.xp6(2),e.Oqu(r.classroomName)}}function x(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_giao_vien_da_cham_diem_bai_tap")," "),e.xp6(3),e.Oqu(r.homeworkName)}}function L(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_da_nop_bai_tap")," "),e.xp6(3),e.Oqu(r.homeworkName)}}function u(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_auto_co_bai_tap"),""),e.xp6(3),e.Oqu(r.homeworkName),e.xp6(1),e.hij(" ",e.lcZ(6,5,"lang_auto_moi_duoc_giao")," ")}}function h(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_co_yeu_cau_nop_lai_bai_tap")," "),e.xp6(3),e.Oqu(r.homeworkName)}}function O(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_da_nop_bai_thi")," "),e.xp6(3),e.Oqu(r.examName)}}function T(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_co_bai_thi_moi")," "),e.xp6(3),e.Oqu(r.examName)}}function P(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_auto_bai_thi")," "),e.xp6(3),e.Oqu(r.examName),e.xp6(1),e.hij(" ",e.lcZ(6,5,"lang_auto_da_duco_cham_diem")," ")}}function m(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_ban_moi_duoc_phan_quyen_cho")," "),e.xp6(3),e.Oqu(n.processNoticeService.getTypeObjNotice(r))}}function D(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_hoc_sinh_moi_dat_cho_ban_cau_hoi_trong_de_thi")," "),e.xp6(3),e.Oqu(r.examName)}}function d(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_hoc_sinh_moi_dat_cho_ban_cau_hoi_trong_bai_tap")," "),e.xp6(3),e.Oqu(r.homeworkName)}}function g(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_giao_vien_da_tra_loi_cau_hoi_cua_ban_o_de_thi")," "),e.xp6(3),e.Oqu(r.examName)}}function Z(i,A){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_giao_vien_da_tra_loi_cau_hoi_cua_ban_o_bai_tap")," "),e.xp6(3),e.Oqu(r.homeworkName)}}const H=function(i){return{"mt-3":i}};function j(i,A){if(1&i){const r=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){e.CHM(r);const c=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.processNoticeService.redirectToPage(c))}),e.TgZ(1,"div",19),e._UZ(2,"azt-create-avatar",20),e.qZA(),e.TgZ(3,"div",21)(4,"div",22)(5,"span",23),e._uU(6),e.qZA(),e.TgZ(7,"div",24),e._uU(8),e.ALo(9,"date"),e.qZA()(),e.TgZ(10,"div",25),e.YNc(11,K,4,2,"span",26),e.YNc(12,x,5,4,"span",26),e.YNc(13,L,5,4,"span",26),e.YNc(14,u,7,7,"span",26),e.YNc(15,h,5,4,"span",26),e.YNc(16,O,5,4,"span",26),e.YNc(17,T,5,4,"span",26),e.YNc(18,P,7,7,"span",26),e.YNc(19,m,5,4,"span",26),e.YNc(20,D,5,4,"span",26),e.YNc(21,d,5,4,"span",26),e.YNc(22,g,5,4,"span",26),e.YNc(23,Z,5,4,"span",26),e.qZA()()()}if(2&i){const r=e.oxw(),c=r.$implicit;e.Q6J("ngClass",e.VKq(21,H,0!==r.index)),e.xp6(2),e.Q6J("nameCreateAvatar",c.studentName)("size",48),e.xp6(4),e.hij(" ",c.studentName," "),e.xp6(2),e.hij(" ",e.xi3(9,18,c.createdAt,"dd/MM/yyyy")," "),e.xp6(3),e.Q6J("ngIf","NEW_ASSIGN"==c.type),e.xp6(1),e.Q6J("ngIf","HAS_MARK"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_ANSWER"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_HOMEWORK"==c.type),e.xp6(1),e.Q6J("ngIf","RESEND_ANSWER"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_EXAM_SUBMIT"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_EXAM"==c.type),e.xp6(1),e.Q6J("ngIf","EXAM_HAS_MARK"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_SHARE_CLASS_PERMISSION"==c.type||"NEW_SHARE_CATEGORY_PERMISSION"==c.type||"NEW_SHARE_HOMEWORK_PERMISSION"==c.type||"NEW_SHARE_EXAM_PERMISSION"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_EXAM_ASK"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_HOMEWORK_ASK"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_EXAM_ANSWER"==c.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_HOMEWORK_ANSWER"==c.type)}}function q(i,A){if(1&i&&(e.ynx(0),e.YNc(1,j,24,23,"div",17),e.BQk()),2&i){const r=A.$implicit;e.xp6(1),e.Q6J("ngIf","NEW_REQUEST_REAPPROVE"!=r.type&&"NEW_SHARE_PERMISSION"!=r.type)}}const Q=function(i){return[i]};function $(i,A){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,q,2,1,"ng-container",13),e._UZ(2,"hr",14),e.TgZ(3,"div",15)(4,"a",16),e.ALo(5,"mylocalize"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()()),2&i){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.commonNoticeData),e.xp6(3),e.Q6J("routerLink",e.VKq(7,Q,e.lcZ(5,3,"/notify/"+r.role))),e.xp6(2),e.hij(" ",e.lcZ(7,5,"lang_auto_xem_tat_ca")," ")}}function z(i,A){1&i&&(e.TgZ(0,"div",28),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_chua_co_thong_bao_nao")," "))}let J=(()=>{class i extends t.Q{constructor(r,n,c,s,f){super(s),this.processNoticeService=r,this.baseApiService=n,this.frontCommonService=c,this.commonService=s,this.globalService=f,this.role=0,this.commonNoticeData=[],this.unreadNotification=0}removeNumberNoti(r){"notification"==r&&this.frontCommonService.apiFrontCommonMarkNotificationAsReadGet(0).subscribe(n=>{1==n.success&&(this.resetNotification(0),this.getHeaderInfo())}),"avatar"==r&&this.frontCommonService.apiFrontCommonMarkPlusPaymentAsReadGet().subscribe(n=>{1==n.success&&(this.resetNotification(1),this.getHeaderInfo())})}resetNotification(r){var n="back_header_infors_"+this.baseApiService.getUserObj().id,c=this.globalService.getGlobalData(n);c&&c.data&&(1==r&&(c.data.plusAzo=0),0==r&&(c.data.unreadNotification=0),this.globalService.setGlobalData(n,this.serializeJson(c)))}reGetNotifice(){var r="back_header_infors_"+this.baseApiService.getUserObj().id;this.globalService.removeGlobalData(r)}getHeaderInfo(){var r,n,c,s,f="back_header_infors_"+this.baseApiService.getUserObj().id,y=this.globalService.getGlobalData(f);y?(this.unreadNotification=null!==(n=null===(r=y.data)||void 0===r?void 0:r.unreadNotification)&&void 0!==n?n:0,this.commonNoticeData=null!==(s=null===(c=y.data)||void 0===c?void 0:c.commonNoticeObjs)&&void 0!==s?s:[]):this.frontCommonService.apiFrontCommonGetHeaderInfoGet(0).subscribe(N=>{var R,k,U,W;1==N.success&&(this.unreadNotification=null!==(k=null===(R=N.data)||void 0===R?void 0:R.unreadNotification)&&void 0!==k?k:0,this.globalService.setGlobalData(f,this.serializeJson(N)),this.commonNoticeData=null!==(W=null===(U=N.data)||void 0===U?void 0:U.commonNoticeObjs)&&void 0!==W?W:new Array)})}ngOnInit(){super.ngOnInit(),this.getHeaderInfo()}}return i.\u0275fac=function(r){return new(r||i)(e.Y36(o.e),e.Y36(C._),e.Y36(S.j$),e.Y36(_.v),e.Y36(I.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["header-notice-box"]],inputs:{role:"role"},features:[e.qOj],decls:15,vars:7,consts:[[1,"dropdown-toggle","notification","cursor-pointer","relative",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"notification__icon","dark:text-slate-500"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],["class","absolute bg-danger text-white rounded-full font-bold","style","top: -5px;right: -5px;font-size: 7px;overflow: hidden;width: 15px;height: 15px;line-height: 15px;text-align: center;",4,"ngIf"],["notification","matMenu"],[1,"notification-content","dropdown-menu","show","relative","pt-2"],[1,"notification-content__box","dropdown-content",2,"padding","10px"],[1,"notification-content__title"],["class","notice-azt",4,"ngIf","ngIfElse"],["noNotification",""],[1,"absolute","bg-danger","text-white","rounded-full","font-bold",2,"top","-5px","right","-5px","font-size","7px","overflow","hidden","width","15px","height","15px","line-height","15px","text-align","center"],[1,"notice-azt"],[4,"ngFor","ngForOf"],[1,"dropdown-divider","border-gray/[0.08]","mt-3"],[1,"text-center","p-1"],[1,"text-primary","text-center",3,"routerLink"],["class","cursor-pointer dropdown-item relative flex items-center",3,"ngClass","click",4,"ngIf"],[1,"cursor-pointer","dropdown-item","relative","flex","items-center",3,"ngClass","click"],[1,"w-12","h-12","flex-none","image-fit","mr-1"],[3,"nameCreateAvatar","size"],[1,"ml-2","overflow-hidden","w-full"],[1,"flex","items-center"],[1,"font-medium","truncate","mr-5"],[1,"text-xs","text-slate-400","ml-auto","whitespace-nowrap"],[1,"truncate","text-slate-500","mt-0.5"],[4,"ngIf"],[1,"notify__name"],[1,"w-full","text-center","truncate","text-slate-500","mt-0.5","mb-4"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return n.removeNumberNoti("notification")}),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2)(3,"path",3),e.qZA(),e.YNc(4,p,2,1,"div",4),e.qZA(),e.kcU(),e.TgZ(5,"mat-menu",null,5)(7,"div",6)(8,"div",7)(9,"div",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.YNc(12,$,8,9,"div",9),e.YNc(13,z,3,3,"ng-template",null,10,e.W1O),e.qZA()()()),2&r){const c=e.MAs(6),s=e.MAs(14);e.Q6J("matMenuTriggerFor",c),e.xp6(4),e.Q6J("ngIf",n.unreadNotification),e.xp6(6),e.Oqu(e.lcZ(11,5,"lang_auto_thong_bao")),e.xp6(2),e.Q6J("ngIf",n.commonNoticeData.length>0)("ngIfElse",s)}},dependencies:[M.yS,v.mk,v.sg,v.O5,b.VK,b.p6,E.t,v.uU,l.mp,l.bT],encapsulation:2}),i})()},99:(B,w,a)=>{a.d(w,{q:()=>M});var t=a(55330),e=a(5e3),o=a(35018),C=a(34782),S=a(69808),_=a(92181),I=a(1033);let M=(()=>{class v extends t.Q{constructor(E,l){super(E),this.commonService=E,this.browserStorageService=l,this.themeColor=""}switchThemeColor(E){let l=document.getElementById("azota-app-html");if(this.themeColor=E,this.browserStorageService.saveStorage("theme_color",this.themeColor),l)switch(this.themeColor){case"theme-0":default:l.classList.remove("theme-1"),l.classList.remove("theme-2"),l.classList.remove("theme-3"),l.classList.remove("theme-4"),l.classList.add("theme-0");break;case"theme-1":l.classList.remove("theme-2"),l.classList.remove("theme-3"),l.classList.remove("theme-4"),l.classList.add("theme-1");break;case"theme-2":l.classList.remove("theme-1"),l.classList.remove("theme-3"),l.classList.remove("theme-4"),l.classList.add("theme-2");break;case"theme-3":l.classList.remove("theme-2"),l.classList.remove("theme-1"),l.classList.remove("theme-4"),l.classList.add("theme-3");break;case"theme-4":l.classList.remove("theme-2"),l.classList.remove("theme-3"),l.classList.remove("theme-1"),l.classList.add("theme-4")}}ngOnInit(){var E;this.themeColor=""==this.browserStorageService.getStorage("theme_color")?"theme-0":null!==(E=this.browserStorageService.getStorage("theme_color"))&&void 0!==E?E:"theme-0",this.switchThemeColor(this.themeColor),super.ngOnInit()}}return v.\u0275fac=function(E){return new(E||v)(e.Y36(o.v),e.Y36(C.z))},v.\u0275cmp=e.Xpm({type:v,selectors:[["header-setting-color"]],features:[e.qOj],decls:15,vars:9,consts:[[1,"btn","text-white","dark:text-slate-400","btn-transparent",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide"],["d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"],["cx","12","cy","12","r","3"],["colorScheme","matMenu"],[1,"shadow-md","box","border","rounded-full","h-12","flex","items-center","justify-center",2,"width","310px"],[1,"mr-4","azt-hidden","sm:block","text-slate-600","dark:text-slate-200"],[1,"block","w-8","h-8","cursor-pointer","bg-blue-800","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],[1,"block","w-8","h-8","cursor-pointer","bg-emerald-900","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],[1,"block","w-8","h-8","cursor-pointer","bg-blue-900","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],[1,"block","w-8","h-8","cursor-pointer","bg-cyan-900","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],[1,"block","w-8","h-8","cursor-pointer","bg-indigo-900","rounded-full","border-4","hover:border-slate-200",3,"ngClass","click"]],template:function(E,l){if(1&E&&(e.TgZ(0,"button",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2)(3,"circle",3),e.qZA()(),e.kcU(),e.TgZ(4,"mat-menu",null,4)(6,"div",5)(7,"div",6),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"a",7),e.NdJ("click",function(){return l.switchThemeColor("theme-0")}),e.qZA(),e.TgZ(11,"a",8),e.NdJ("click",function(){return l.switchThemeColor("theme-1")}),e.qZA(),e.TgZ(12,"a",9),e.NdJ("click",function(){return l.switchThemeColor("theme-2")}),e.qZA(),e.TgZ(13,"a",10),e.NdJ("click",function(){return l.switchThemeColor("theme-3")}),e.qZA(),e.TgZ(14,"a",11),e.NdJ("click",function(){return l.switchThemeColor("theme-4")}),e.qZA()()()),2&E){const p=e.MAs(5);e.Q6J("matMenuTriggerFor",p),e.xp6(8),e.Oqu(e.lcZ(9,7,"lang_auto_bang_mau")),e.xp6(2),e.Q6J("ngClass","theme-0"==l.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-1"==l.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-2"==l.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-3"==l.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-4"==l.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600")}},dependencies:[S.mk,_.VK,_.p6,I.bT],encapsulation:2}),v})()},75477:(B,w,a)=>{a.d(w,{x:()=>K});var t=a(55330),e=a(92340),o=a(5e3),C=a(60284),S=a(35018),_=a(88386),I=a(74693),M=a(3785),v=a(69808),b=a(92181),E=a(1033);function l(x,L){1&x&&(o.TgZ(0,"div",8),o._UZ(1,"span",9),o.qZA())}function p(x,L){if(1&x){const u=o.EpF();o.TgZ(0,"li")(1,"a",10),o.NdJ("click",function(){const T=o.CHM(u).$implicit,P=o.oxw();return o.KtG(P.switchLanguage(T.value))}),o._UZ(2,"img",11),o.ALo(3,"convertCdn"),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()}if(2&x){const u=L.$implicit;o.xp6(2),o.s9C("alt",u),o.Q6J("src",o.lcZ(3,3,u.img),o.LSH),o.xp6(2),o.hij(" ",o.lcZ(5,5,u.label)," ")}}let K=(()=>{class x extends t.Q{constructor(u,h,O,T,P){super(h),this.processNoticeService=u,this.commonService=h,this.userService=O,this.userLangService=T,this.switchLanguageService=P,this.imgLanguage="",this.languageList=[]}getImgLanguage(u){for(var h=0;h<this.languageList.length;h++)u==this.languageList[h].value&&(this.imgLanguage=this.languageList[h].img)}initLanguages(){for(var u=[],h=e.N.listLanguages,O=0;O<h.length;O++){var T=h[O];u.push({value:T,label:"lang_core_language_"+T,img:"azota_assets/flag/"+T+".svg"})}this.languageList=u}switchLanguage(u){u&&u!=this.commonService.getCurrentLang()&&(this.userService.isLogin()?(this.initStatusObj(),this.subscriptions.add(this.userLangService.apiUserLangSwitchLangGet(u).subscribe(h=>{var O;1==h.success?(this.stopStatusObj(),this.switchLanguageService.redirectToNewLanguage(u)):this.errorStatusObj(null!==(O=h.message)&&void 0!==O?O:"",!0)}))):this.switchLanguageService.redirectToNewLanguage(u))}ngOnInit(){this.initLanguages(),this.getImgLanguage(this.commonService.getCurrentLang()),this.imgLanguage||this.getImgLanguage(e.N.defaultLanguage)}}return x.\u0275fac=function(u){return new(u||x)(o.Y36(C.e),o.Y36(S.v),o.Y36(_.K),o.Y36(I.Ew),o.Y36(M.B))},x.\u0275cmp=o.Xpm({type:x,selectors:[["azt-switch-language"]],features:[o.qOj],decls:11,vars:8,consts:[[1,"btn","btn-transparent","p-1",3,"matMenuTriggerFor"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[3,"hidden"],[3,"src","alt"],["switchlanguage","matMenu"],[1,"dropdown-menu","show","w-32","relative"],[1,"dropdown-content"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sr-only"],[1,"dropdown-item",3,"click"],[1,"w-5","h-5","mr-2",3,"src","alt"]],template:function(u,h){if(1&u&&(o.TgZ(0,"button",0),o.YNc(1,l,2,0,"div",1),o.TgZ(2,"span",2),o._uU(3,"\xa0"),o.qZA(),o._UZ(4,"img",3),o.ALo(5,"convertCdn"),o.qZA(),o.TgZ(6,"mat-menu",null,4)(8,"div",5)(9,"ul",6),o.YNc(10,p,6,7,"li",7),o.qZA()()()),2&u){const O=o.MAs(7);o.Q6J("matMenuTriggerFor",O),o.xp6(1),o.Q6J("ngIf",h.statusObj.loading),o.xp6(1),o.Q6J("hidden",!h.statusObj.loading),o.xp6(2),o.s9C("alt",h.imgLanguage),o.Q6J("src",o.lcZ(5,6,h.imgLanguage),o.LSH),o.xp6(6),o.Q6J("ngForOf",h.languageList)}},dependencies:[v.sg,v.O5,b.VK,b.p6,E.bT,E.BI],encapsulation:2}),x})()},4334:(B,w,a)=>{a.d(w,{f:()=>S});var t=a(36053),e=a(5e3),o=a(74202),C=a(35018);let S=(()=>{class _{constructor(M,v,b){this.el=M,this.activeRoute=v,this.commonService=b,this.changeActiveRouter=[]}checkActiveRouter(){for(var M=!1,v=0;v<this.changeActiveRouter.length;v++){var b=this.changeActiveRouter[v],E=this.commonService.getCurrentUrl(),l="/"+this.commonService.getCurrentLang()+b;0===E.indexOf(l)&&(M=!0)}const p=this.el.nativeElement;p&&(M?(p.classList.remove("side-menu--active"),p.classList.add("side-menu--active")):p.classList.remove("side-menu--active"))}ngOnInit(){(0,t.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.checkActiveRouter()})}}return _.\u0275fac=function(M){return new(M||_)(e.Y36(e.SBq),e.Y36(o.gz),e.Y36(C.v))},_.\u0275dir=e.lG2({type:_,selectors:[["","changeActiveRouter",""]],inputs:{changeActiveRouter:"changeActiveRouter"}}),_})()},60284:(B,w,a)=>{a.d(w,{e:()=>o});var t=a(5e3),e=a(35018);let o=(()=>{class C{constructor(_){this.commonService=_}getTypeObjNotice(_){return"NEW_SHARE_CLASS_PERMISSION"==_.type?"L\u1edbp: "+_.classroomName:"NEW_SHARE_HOMEWORK_PERMISSION"==_.type?"B\xe0i t\u1eadp: "+_.homeworkName:"NEW_SHARE_EXAM_PERMISSION"==_.type?"\u0110\u1ec1 thi: "+_.examName:"NEW_SHARE_CATEGORY_PERMISSION"==_.type?"Th\u01b0 m\u1ee5c: "+_.examName:""}redirectToPage(_){switch(_.type){case"NEW_ANSWER":case"NEW_SHARE_HOMEWORK_PERMISSION":this.commonService.myNavigation(`/admin/testbank/homework-results-list/${_.classroomId}/${_.homeworkId}/${_.homeworkHashId}`);break;case"HAS_MARK":case"NEW_HOMEWORK":case"RESEND_ANSWER":this.commonService.myNavigation(`/bai-tap/${_.homeworkHashId}`);break;case"NEW_EXAM_SUBMIT":this.commonService.myNavigation(`/admin/testbank/test-review/${_.examId}/${_.parentId}/${_.studentId}/${_.examResultId}`);break;case"NEW_EXAM":this.commonService.myNavigation(`/de-thi/${_.examHashId}`);break;case"EXAM_HAS_MARK":this.commonService.myNavigation(`/test/answer-test/${_.parentId}/0/${_.examHashId}/${_.examResultId}`);break;case"NEW_SHARE_CLASS_PERMISSION":this.commonService.myNavigation(1==_.isMultipleClassroom?"/admin/student/manage-class/0":"/admin/student/class-details/"+_.classroomId);break;case"NEW_SHARE_CATEGORY_PERMISSION":this.commonService.myNavigationWithQueryString(`/admin/testbank/document-management/0/${_.examId}/1`,`?shareType=${encodeURIComponent("user_"+_.senderId)}`);break;case"NEW_SHARE_EXAM_PERMISSION":this.commonService.myNavigation(`/admin/testbank/exam-results-list/0/${_.examId}/0`);break;case"NEW_QA_EXAM_ASK":case"NEW_QA_HOMEWORK_ASK":this.commonService.myNavigation("/admin/teacher-qa/view-question/"+Number(_.datas));break;case"NEW_QA_EXAM_ANSWER":case"NEW_QA_HOMEWORK_ANSWER":this.commonService.myNavigation("/student-qa/view-question/"+Number(_.datas));break;case"NEW_ASSIGN":this.commonService.myNavigation("/admin/student/manage-class/0");break;case"NEW_REQUEST_REAPPROVE":case"NEW_SHARE_PERMISSION":break;default:this.commonService.myNavigation("/student/dashboard/1")}}}return C.\u0275fac=function(_){return new(_||C)(t.LFG(e.v))},C.\u0275prov=t.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},51908:(B,w,a)=>{a.d(w,{PG:()=>A,Z_:()=>r});var t=a(5e3),e=a(69808),o=a(93075);function C(n,c){}const S=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let I=(()=>{class n{constructor(){this.onBeforePaste=new t.vpe,this.onBlur=new t.vpe,this.onClick=new t.vpe,this.onContextMenu=new t.vpe,this.onCopy=new t.vpe,this.onCut=new t.vpe,this.onDblclick=new t.vpe,this.onDrag=new t.vpe,this.onDragDrop=new t.vpe,this.onDragEnd=new t.vpe,this.onDragGesture=new t.vpe,this.onDragOver=new t.vpe,this.onDrop=new t.vpe,this.onFocus=new t.vpe,this.onFocusIn=new t.vpe,this.onFocusOut=new t.vpe,this.onKeyDown=new t.vpe,this.onKeyPress=new t.vpe,this.onKeyUp=new t.vpe,this.onMouseDown=new t.vpe,this.onMouseEnter=new t.vpe,this.onMouseLeave=new t.vpe,this.onMouseMove=new t.vpe,this.onMouseOut=new t.vpe,this.onMouseOver=new t.vpe,this.onMouseUp=new t.vpe,this.onPaste=new t.vpe,this.onSelectionChange=new t.vpe,this.onActivate=new t.vpe,this.onAddUndo=new t.vpe,this.onBeforeAddUndo=new t.vpe,this.onBeforeExecCommand=new t.vpe,this.onBeforeGetContent=new t.vpe,this.onBeforeRenderUI=new t.vpe,this.onBeforeSetContent=new t.vpe,this.onChange=new t.vpe,this.onClearUndos=new t.vpe,this.onDeactivate=new t.vpe,this.onDirty=new t.vpe,this.onExecCommand=new t.vpe,this.onGetContent=new t.vpe,this.onHide=new t.vpe,this.onInit=new t.vpe,this.onInitNgModel=new t.vpe,this.onLoadContent=new t.vpe,this.onNodeChange=new t.vpe,this.onPostProcess=new t.vpe,this.onPostRender=new t.vpe,this.onPreInit=new t.vpe,this.onPreProcess=new t.vpe,this.onProgressState=new t.vpe,this.onRedo=new t.vpe,this.onRemove=new t.vpe,this.onReset=new t.vpe,this.onResizeEditor=new t.vpe,this.onSaveContent=new t.vpe,this.onSetAttrib=new t.vpe,this.onObjectResizeStart=new t.vpe,this.onObjectResized=new t.vpe,this.onObjectSelected=new t.vpe,this.onSetContent=new t.vpe,this.onShow=new t.vpe,this.onSubmit=new t.vpe,this.onUndo=new t.vpe,this.onVisualAid=new t.vpe}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275dir=t.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const M=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],p=(n,c)=>"string"==typeof n?n.split(",").map(s=>s.trim()):Array.isArray(n)?n:c;let x=0;const L=n=>{const s=(new Date).getTime(),f=Math.floor(1e9*Math.random());return x++,n+"_"+f+x+String(s)},h=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),T=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),m=(n,c)=>T(n).concat(T(c)),d=()=>{},Z=n=>null==n,j=()=>({listeners:[],scriptId:L("tiny-script"),scriptLoaded:!1}),z=(()=>{let n=j();return{load:(y,N,R)=>{n.scriptLoaded?R():(n.listeners.push(R),y.getElementById(n.scriptId)||((y,N,R,k)=>{const U=N.createElement("script");U.referrerPolicy="origin",U.type="application/javascript",U.id=y,U.src=R;const W=()=>{U.removeEventListener("load",W),n.listeners.forEach(k=>k()),n.scriptLoaded=!0};U.addEventListener("load",W),N.head&&N.head.appendChild(U)})(n.scriptId,y,N))},reinitialize:()=>{n=j()}}})(),J=new t.OlP("TINYMCE_SCRIPT_SRC"),i={provide:o.JU,useExisting:(0,t.Gpc)(()=>A),multi:!0};let A=(()=>{class n extends I{constructor(s,f,y,N){super(),this.platformId=y,this.tinymceScriptSrc=N,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=d,this._elementRef=s,this.ngZone=f,this.initialise=this.initialise.bind(this)}set disabled(s){this._disabled=s,this._editor&&this._editor.initialized&&this._editor.setMode(s?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(s){this._editor&&this._editor.initialized?this._editor.setContent(Z(s)?"":s):this.initialValue=null===s?void 0:s}registerOnChange(s){this.onChangeCallback=s}registerOnTouched(s){this.onTouchedCallback=s}setDisabledState(s){this._editor?this._editor.setMode(s?"readonly":"design"):s&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){var s;(0,e.NF)(this.platformId)&&(this.id=this.id||L("tiny-angular"),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(s=this.init)||void 0===s||!s.inline),this.createElement(),null!==S()?this.initialise():this._element&&this._element.ownerDocument&&z.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise.bind(this)))}ngOnDestroy(){null!==S()&&S().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,h(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const s=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:m(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:f=>{this._editor=f,f.on("init",y=>{this.initEditor(f)}),((n,c)=>{(n=>{const c=p(n.ignoreEvents,[]);return p(n.allowedEvents,M).filter(f=>M.includes(f)&&!c.includes(f))})(n).forEach(f=>{const y=n[f];c.on(f.substring(2),N=>n.ngZone.run(()=>y.emit({event:N,editor:c})))})})(this,f),this.init&&"function"==typeof this.init.setup&&this.init.setup(f)}});h(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{S().init(s)})}getScriptSrc(){return Z(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(s){s.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),s.on(this.modelEvents,()=>this.ngZone.run(()=>this.emitOnChange(s))),"string"==typeof this.initialValue&&this.ngZone.run(()=>{s.setContent(this.initialValue),s.getContent()!==this.initialValue&&this.emitOnChange(s),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(s)})}emitOnChange(s){this.onChangeCallback&&this.onChangeCallback(s.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.Lbi),t.Y36(J,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[t._Bn([i]),t.qOj],decls:1,vars:0,template:function(s,f){1&s&&t.YNc(0,C,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),n})(),r=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[e.ez,o.u5]}),n})()}}]);