"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[71],{45668:(ne,I,p)=>{p.d(I,{J:()=>w});var f=p(5e3),c=p(43147),x=p(42873);let w=(()=>{class C{constructor(v,O){this.baseApiService=v,this.redirectService=O}canActivate(v,O){return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginAnonymous(O.url),!1)}canActivateChild(v,O){return this.canActivate(v,O)}canLoad(v){const O=`/${v.path}`;return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginByReturnUrl(O),!1)}}return C.\u0275fac=function(v){return new(v||C)(f.LFG(c._),f.LFG(x.V))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},80071:(ne,I,p)=>{p.r(I),p.d(I,{TeacherGroupModule:()=>ut});var f=p(69808),c=p(93075),x=p(48966),w=p(74202),C=p(51908),S=p(66574),v=p(1737),O=p(63728),U=p(44841),oe=p(47470),ie=p(75658),re=p(14030),ae=p(8785),se=p(37389),le=p(45668),ce=p(36053),k=p(55330),de=p(41303),e=p(5e3),j=p(50690),P=p(58129),D=p(49692),pe=p(85736),M=p(1033);function ue(i,s){1&i&&(e.TgZ(0,"div",14)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij("",e.lcZ(3,1,"lang_required_enter_name_group"),"!"))}function ge(i,s){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",15)(2,"g",16)(3,"g",17),e._UZ(4,"circle",18),e.TgZ(5,"path",19),e._UZ(6,"animateTransform",20),e.qZA()()()()())}function he(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_buttom_save")))}function me(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_buttom_update")))}let _e=(()=>{class i extends k.Q{constructor(t,n,o,r,a){super(n),this.fb=t,this.commonService=n,this.teacherGroupService=o,this.dialogRef=r,this.data=a,this.form=new c.nJ({}),this.obj=a.obj}getErrorType(t,n){var o;return!(!this.form.controls[t]||!this.form.controls[t].errors||null===(o=this.form.controls[t].errors)||void 0===o||!o[n])}confirmAction(){var t;if(this.obj){let n=this.commonService.getFormObj(this.form);if(this.form.valid){this.initStatusObj();let o={id:null===(t=this.obj)||void 0===t?void 0:t.id,groupName:n.groupName};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateGroupWithTeamPost(o).subscribe(r=>{var a,l,d;1==r.success?(this.btnCloseDialog(null===(l=null===(a=r.data)||void 0===a?void 0:a.obj)||void 0===l?void 0:l.id),this.successStatusObj("lang_auto_sua_nhom_thanh_cong",!0)):(this.btnCloseDialog(void 0),this.errorStatusObj(null!==(d=r.message)&&void 0!==d?d:"",!0))}))}else this.stopStatusObj()}else{let n=this.commonService.getFormObj(this.form);this.form.valid?(this.initStatusObj(),this.subscriptions.add(this.teacherGroupService.apiTeacherGroupSaveGroupWithTeamPost({groupName:n.groupName}).subscribe(r=>{var a,l,d;1==r.success?(this.btnCloseDialog(null===(l=null===(a=r.data)||void 0===a?void 0:a.obj)||void 0===l?void 0:l.id),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):(this.btnCloseDialog(void 0),this.errorStatusObj(null!==(d=r.message)&&void 0!==d?d:"",!0))}))):this.stopStatusObj()}}btnCloseDialog(t){this.dialogRef.close(t)}ngOnInit(){this.form=this.fb.group({groupName:new c.p4("",[c.kI.required,de._.noWhiteSpace])}),this.obj&&this.form.controls.groupName.setValue(this.obj.name),super.ngOnInit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.QS),e.Y36(j.v),e.Y36(P.Kq),e.Y36(x.so,8),e.Y36(x.WI,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-group"]],features:[e.qOj],decls:25,vars:20,consts:[[1,"box"],[3,"formGroup","keydown.enter"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-3"],[1,"intro","mt-2"],["for","group-name",1,"form-label"],["type","text","id","group-name","id","full-name","formControlName","groupName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-1 font-medium",4,"ngIf"],[1,"p-3","text-right"],["type","button",1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","w-32","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"text-danger","text-xs","mt-1","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("keydown.enter",function(){return n.confirmAction()}),e.TgZ(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.ALo(6,"mytranslate"),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e._UZ(14,"input",8),e.ALo(15,"mytranslate"),e.qZA(),e.YNc(16,ue,4,3,"div",9),e.qZA()()(),e.TgZ(17,"div",10)(18,"button",11),e.NdJ("click",function(){return n.btnCloseDialog(void 0)}),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"button",12),e.NdJ("click",function(){return n.confirmAction()}),e.YNc(22,ge,7,0,"span",13),e.YNc(23,he,3,3,"span",13),e.YNc(24,me,3,3,"span",13),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.obj?e.lcZ(7,12,"lang_teacher_group_utilt_add_group_edit_group_teacher"):e.lcZ(6,10,"lang_teacher_group_utilt_add_group_add_group_teacher")," "),e.xp6(7),e.Oqu(e.lcZ(13,14,"lang_teacher_group_utilt_add_group_lable_group")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,16,"lang_teacher_group_utilt_add_group_lable_group")),e.xp6(2),e.Q6J("ngIf",n.form.controls.groupName.invalid&&n.form.controls.groupName.dirty),e.xp6(3),e.hij(" ",e.lcZ(20,18,"lang_buttom_cancel")," "),e.xp6(2),e.Q6J("disabled",n.statusObj.loading||n.form.invalid),e.xp6(1),e.Q6J("ngIf",n.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!n.obj),e.xp6(1),e.Q6J("ngIf",n.obj))},dependencies:[f.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,D.M,pe.O,M.bT],encapsulation:2}),i})();var be=p(41261);function fe(i,s){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher")," "),e.xp6(3),e.Oqu(null==t.data.teacherObj?null:t.data.teacherObj.fullName),e.xp6(1),e.hij(" ",e.lcZ(6,5,"lang_teacher_group_utilt_delete_dialog_out_group"),"? ")}}function xe(i,s){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.xp6(3),e.Oqu(null==t.data.groupObj?null:t.data.groupObj.name)}}function ve(i,s){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.xp6(3),e.Oqu(null==t.data.teacherObj?null:t.data.teacherObj.fullName)}}function Oe(i,s){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher_in_group")," "),e.xp6(3),e.Oqu(null==t.data.groupObj?null:t.data.groupObj.name)}}function Ce(i,s){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",14)(2,"g",15)(3,"g",16),e._UZ(4,"circle",17),e.TgZ(5,"path",18),e._UZ(6,"animateTransform",19),e.qZA()()()()())}let R=(()=>{class i extends k.Q{constructor(t,n,o,r){super(o),this.dialogRef=t,this.data=n,this.commonService=o,this.teacherGroupService=r}confirmDelete(){var t,n,o,r,a,l,d,u,g;switch(this.initStatusObj(),this.data.type){case"delete_member_in_group":let b={groupId:null===(t=this.data.groupObj)||void 0===t?void 0:t.id,teacherTeamId:null===(o=null===(n=this.data)||void 0===n?void 0:n.teacherObj)||void 0===o?void 0:o.id};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithGroupPost(b).subscribe(_=>{var h;1===_.success?(this.successStatusObj("lang_auto_xoa_giao_vien_khoi_nhom_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(null!==(h=_.message)&&void 0!==h?h:"",!0)}));break;case"delete_group":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteGroupWithTeamGet(null===(a=null===(r=this.data)||void 0===r?void 0:r.groupObj)||void 0===a?void 0:a.id).subscribe(_=>{var h;1===_.success?(this.successStatusObj("lang_auto_xoa_nhom_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(null!==(h=_.message)&&void 0!==h?h:"",!0)}));break;case"delete_teacher":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithTeamGet(null===(d=null===(l=this.data)||void 0===l?void 0:l.teacherObj)||void 0===d?void 0:d.id).subscribe(_=>{var h;1==_.success?(this.successStatusObj("lang_auto_xoa_giao_vien_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(null!==(h=_.message)&&void 0!==h?h:"",!0)}));break;case"delete_all_teachers_in_group":let m={groupId:null===(g=null===(u=this.data)||void 0===u?void 0:u.groupObj)||void 0===g?void 0:g.id,teamTeacherIds:this.data.teacherIds};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteMultipleTeacherWithGroupPost(m).subscribe(_=>{var h;1==_.success?(this.successStatusObj("lang_auto_xoa_giao_vien_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(null!==(h=_.message)&&void 0!==h?h:"",!0)}))}}btnCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.so,8),e.Y36(x.WI,8),e.Y36(j.v),e.Y36(P.Kq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete-teacher-dialog"]],features:[e.qOj],decls:22,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[4,"ngIf"],[1,"p-3","text-right"],[1,"btn","w-32","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-danger",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5)(6,"path",6)(7,"path",7)(8,"line",8)(9,"line",9),e.qZA(),e.YNc(10,fe,7,7,"span",10),e.YNc(11,xe,5,4,"span",10),e.YNc(12,ve,5,4,"span",10),e.YNc(13,Oe,5,4,"span",10),e.qZA()()(),e.kcU(),e.TgZ(14,"div",11)(15,"button",12),e.NdJ("click",function(){return n.btnCloseDialog()}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return n.confirmDelete()}),e.YNc(19,Ce,7,0,"span",10),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngIf","delete_member_in_group"==(null==n.data?null:n.data.type)),e.xp6(1),e.Q6J("ngIf","delete_group"==(null==n.data?null:n.data.type)),e.xp6(1),e.Q6J("ngIf","delete_teacher"==(null==n.data?null:n.data.type)),e.xp6(1),e.Q6J("ngIf","delete_all_teachers_in_group"==(null==n.data?null:n.data.type)),e.xp6(3),e.hij(" ",e.lcZ(17,8,"lang_cms_common_close_btn")," "),e.xp6(2),e.Q6J("disabled",n.statusObj.loading),e.xp6(1),e.Q6J("ngIf",n.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(21,10,"lang_cms_common_confirm_btn")," "))},dependencies:[f.O5,M.bT],encapsulation:2}),i})();var H=p(86317),Pe=p(92910),T=p(92181),N=p(2638),z=p(87238),W=p(91350),K=p(64123),Me=p(60167),we=p(20371);function Te(i,s){1&i&&e._UZ(0,"azt-loading-effect")}function ke(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60),e._UZ(2,"azt-create-avatar",61),e.TgZ(3,"button",62),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,a=o.index,l=e.oxw(2);return e.KtG(l.deleteTeacherInGroupDialog(r,a))}),e.O4$(),e.TgZ(4,"svg",63),e._UZ(5,"line",64)(6,"line",65),e.qZA()()(),e.kcU(),e.TgZ(7,"div",66),e._uU(8),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Q6J("nameCreateAvatar",t.fullName)("size",40),e.xp6(5),e.s9C("matTooltip",t.fullName),e.xp6(1),e.hij(" ",t.fullName," ")}}function je(i,s){if(1&i&&(e.TgZ(0,"div",42)(1,"h3",43),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"span",44),e._uU(5),e.qZA()(),e.TgZ(6,"div",45)(7,"div",46)(8,"button",47),e.O4$(),e.TgZ(9,"svg",48),e._UZ(10,"circle",49)(11,"circle",50)(12,"circle",51),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",52)(14,"div",53),e.YNc(15,ke,9,4,"div",54),e.TgZ(16,"a",55)(17,"div",56),e.O4$(),e.TgZ(18,"svg",57),e._UZ(19,"line",27)(20,"line",28),e.qZA()(),e.kcU(),e.TgZ(21,"div",58),e._uU(22),e.ALo(23,"mytranslate"),e.qZA()()()()),2&i){const t=e.oxw(),n=e.MAs(5),o=e.MAs(43);e.xp6(2),e.hij(" ",e.lcZ(3,6,"lang_teacher_group_group_member_in_group"),": "),e.xp6(3),e.hij(" ",null==t.groupObj?null:t.groupObj.name," "),e.xp6(3),e.Q6J("matMenuTriggerFor",n),e.xp6(7),e.Q6J("ngForOf",t.teacherObjsInGroup),e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(6),e.hij(" ",e.lcZ(23,8,"lang_teacher_group_group_add_member")," ")}}function ye(i,s){if(1&i&&e._UZ(0,"azt-create-avatar",76),2&i){const t=e.oxw().$implicit;e.MGl("matTooltip","id:",t.teacherId,""),e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function Ae(i,s){if(1&i&&e._UZ(0,"azt-create-avatar",61),2&i){const t=e.oxw().$implicit;e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function Ze(i,s){if(1&i&&(e.TgZ(0,"div",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("matTooltip",t.phone),e.xp6(1),e.hij(" ",t.phone," ")}}function Ge(i,s){if(1&i&&(e.TgZ(0,"div",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("matTooltip",t.email),e.xp6(1),e.hij(" ",t.email," ")}}function Ie(i,s){1&i&&e._UZ(0,"div",78)}function Se(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",68)(2,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.addMemberToGroup(r))}),e.YNc(3,ye,1,3,"azt-create-avatar",70),e.YNc(4,Ae,1,2,"azt-create-avatar",71),e.TgZ(5,"div",72)(6,"p",73),e._uU(7),e.qZA(),e.YNc(8,Ze,2,2,"div",74),e.YNc(9,Ge,2,2,"div",74),e.qZA()(),e.YNc(10,Ie,1,0,"div",75),e.qZA(),e.BQk()}if(2&i){const t=s.$implicit,n=e.oxw(2);let o,r;e.xp6(1),e.Akn(n.listMemberInGroupIds.hasOwnProperty(null!==(o=null==t?null:t.id)&&void 0!==o?o:0)?"opacity:0.5":""),e.Q6J("disabled",0==n.isLoadingMoreMembers),e.xp6(1),e.Akn(n.listMemberInGroupIds.hasOwnProperty(null!==(r=null==t?null:t.id)&&void 0!==r?r:0)?"cursor:default":""),e.xp6(1),e.Q6J("ngIf",null!=t.teacherId),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(3),e.hij(" ",t.fullName," "),e.xp6(1),e.Q6J("ngIf",t.phone),e.xp6(1),e.Q6J("ngIf",t.email),e.xp6(1),e.Q6J("ngIf",n.isLoadingMoreMembers==t.id)}}function Ue(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Se,11,11,"ng-container",67),e.ALo(2,"appFilter"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,null==t.teacherAndGroupObj?null:t.teacherAndGroupObj.teachers,t.searchMemberInGroupKey.value))}}function De(i,s){1&i&&(e.TgZ(0,"div",79)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_khong_tim_thay")," "))}function Ne(i,s){1&i&&(e.TgZ(0,"div",79)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_not_data")))}const ze=function(){return{suppressScrollX:!0}};let Je=(()=>{class i extends k.Q{constructor(t,n,o,r,a,l){super(t),this.commonService=t,this.fb=n,this.teacherGroupService=o,this.permissionTeamService=r,this.sortService=a,this.dialog=l,this.form=new c.nJ({}),this.searchMemberInGroupKey=new c.p4(""),this.listMemberInGroupIds={}}checkTeacherInGroup(){null!=this.teacherObjsInGroup&&null!=this.teacherAndGroupObj&&this.teacherObjsInGroup.map(n=>n.id).forEach(n=>this.listMemberInGroupIds[null!=n?n:0]=null!=n?n:0)}viewDeleteDialog(t){this.dialog.open(R,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:t}).afterClosed().subscribe(o=>{var r,a,l;if(o)switch(o.type){case"delete_member_in_group":t.index&&(null===(r=this.teacherObjsInGroup)||void 0===r||r.splice(t.index,1)),this.getGroupPermissionObjs(null===(a=this.groupObj)||void 0===a?void 0:a.id);break;case"delete_all_teachers_in_group":this.getGroupPermissionObjs(null===(l=this.groupObj)||void 0===l?void 0:l.id)}})}deleteTeacherInGroupDialog(t,n){this.viewDeleteDialog({teacherObj:t,groupObj:this.groupObj,index:n,type:"delete_member_in_group"})}deleteAllTeacherInGroupDialog(t){var n;let o=[];null===(n=this.teacherObjsInGroup)||void 0===n||n.forEach(r=>{this.commonService.filterArray(o,r.id)||r.id&&o.push(r.id)}),this.viewDeleteDialog({groupObj:t,teacherIds:o,type:"delete_all_teachers_in_group"})}getGroupPermissionObjs(t){t?(this.initStatusObj(),this.permissionTeamService.apiPermisionTeamGetAllPermisionWithGroupGet(t).subscribe(n=>{var o,r;1===n.success?(this.teacherObjsInGroup=this.sortService.sortFirstNameStudents(null!==(r=this.commonService.myClone(null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.teacherObjs))&&void 0!==r?r:[]),this.checkTeacherInGroup(),this.stopStatusObj()):this.errorStatusObj("lang_auto_tai_du_lieu_khong_thanh_cong",!0)})):this.stopStatusObj()}addMemberToGroup(t){var n;this.isLoadingMoreMembers=t.id;let o={groupId:null===(n=this.groupObj)||void 0===n?void 0:n.id,teacherTeamId:t.id};this.teacherGroupService.apiTeacherGroupAddTeacherWithGroupPost(o).subscribe(r=>{var a,l;1===r.success?(null===(a=this.teacherObjsInGroup)||void 0===a||a.push(t),this.checkTeacherInGroup(),this.showSuccessSnack("lang_auto_them_giao_vien_vao_nhom_thanh_cong"),this.isLoadingMoreMembers=!1,this.searchMemberInGroupKey.setValue("")):(this.showErrorSnack(null!==(l=r.message)&&void 0!==l?l:""),this.isLoadingMoreMembers=!1,this.searchMemberInGroupKey.setValue(""))})}addAllTeacherToGroup(){var t;let n=this.commonService.getFormObj(this.form),r=(n.listPhone?n.listPhone.toString():"").replace(/\n/g," ").split(" "),a=[];r.forEach(d=>{this.commonService.filterArray(a,d)||""!=d.trim()&&a.push(d.trim())});let l={groupId:null===(t=this.groupObj)||void 0===t?void 0:t.id,TeacherPhone:a};this.initStatusObj(),this.teacherGroupService.apiTeacherGroupAddTeachersWithGroupPost(l).subscribe(d=>{var u,g,b,m;if(1===d.success){let _=null!==(u=null==d?void 0:d.data)&&void 0!==u&&u.countSave?d.data.countSave:0,h=null!==(g=null==d?void 0:d.data)&&void 0!==g&&g.totalTeacher?d.data.totalTeacher:0,y=this.commonService.myTranslateInstant("lang_auto_them_thanh_cong"),A=this.commonService.myTranslateInstant("lang_auto_giao_vien_vao_nhom");_===h?this.showSuccessSnack("lang_auto_them_giao_vien_vao_nhom_thanh_cong"):this.commonService.snackSuccess(y+" "+_+"/"+h+" "+A+"!",""),this.getGroupPermissionObjs(null===(b=this.groupObj)||void 0===b?void 0:b.id)}else this.errorStatusObj(null!==(m=d.message)&&void 0!==m?m:"",!0)})}ngOnChanges(){this.checkTeacherInGroup()}ngOnInit(){this.form=this.fb.group({listPhone:[""]}),super.ngOnInit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.v),e.Y36(c.QS),e.Y36(P.Kq),e.Y36(P.$W),e.Y36(H.K),e.Y36(x.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-teacher-group-member-in-group-box"]],inputs:{groupObj:"groupObj",teacherAndGroupObj:"teacherAndGroupObj",teacherObjsInGroup:"teacherObjsInGroup"},features:[e.qOj,e.TTD],decls:59,vars:32,consts:[[1,"box","p-0","rounded-md","border","border-slate-200/60","dark:border-darkmode-400"],[4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuAccountIngroup","matMenu"],[1,"box","p-2"],["mat-menu-item","",1,"setting_options",2,"min-width","140px",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],["mat-menu-item","",1,"setting_options",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["menuAddMultiple","matMenu"],[1,"search-member","box","p-2",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify"],[1,"text-right"],[1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","margin-top","3px"],["addMemberMenu","matMenu"],[1,"search-member","box",3,"click"],[1,"azt-search","relative","w-full","mr-3","p-2"],["type","text",1,"form-control","py-2","px-4","border-transparent","bg-slate-100","pr-10","ng-untouched","ng-pristine","ng-valid",3,"placeholder","formControl"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search","data-lucide","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","mr-3","right-0"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[1,"dropdown-menu","show","relative",2,"height","220px","overflow","hidden"],[3,"config","scrollIndicators"],[1,"group-content"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["dataNull",""],[1,"flex","items-center","p-3","border-b","border-slate-200/60","dark:border-darkmode-400","text-slate-500","bg-slate-100","dark:bg-darkmode-300",2,"height","50px"],[1,"text-md","font-medium","mr-auto"],[2,"font-weight","bold"],[1,"flex"],[1,"dropdown"],["aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","text-slate-500",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],[1,"overflow-x-auto","scrollbar-hidden","p-3"],[1,"flex","mt-2"],["class","w-10 mr-4 cursor-pointer",4,"ngFor","ngForOf"],[1,"w-10","mr-4","cursor-pointer",3,"matMenuTriggerFor"],[1,"w-10","h-10","flex-none","image-fit","bg-slate-100","dark:bg-darkmode-300","flex","items-center","justify-center","rounded-full"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],[1,"text-xs","text-slate-500","truncate","text-center","mt-2"],[1,"w-10","mr-4","cursor-pointer"],[1,"w-10","h-10","flex-none","image-fit","rounded-full"],[3,"nameCreateAvatar","size"],[2,"position","absolute","top","-3px","right","-3px",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-xs","text-slate-500","truncate","text-center","mt-2",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"group-item",3,"disabled"],[1,"group-btn",3,"click"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"group-info",2,"width","100%"],[1,"group-name"],["class","w-full truncate text-xs text-slate-500 mt-0.5","style","padding-left: 15px",3,"matTooltip",4,"ngIf"],["class","spinner-border spinner-border-sm","style","color: silver","role","status",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size"],[1,"w-full","truncate","text-xs","text-slate-500","mt-0.5",2,"padding-left","15px",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","silver"],[2,"display","flex","justify-content","center","align-items","center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Te,1,0,"azt-loading-effect",1),e.YNc(2,je,24,10,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(4,"mat-menu",3,4)(6,"div",5)(7,"button",6),e.O4$(),e.TgZ(8,"svg",7),e._UZ(9,"path",8)(10,"circle",9)(11,"line",10)(12,"line",11),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(15,"button",12),e.NdJ("click",function(){return n.deleteAllTeacherInGroupDialog(n.groupObj)}),e.O4$(),e.TgZ(16,"svg",13),e._UZ(17,"polyline",14)(18,"path",15),e.qZA(),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()()(),e.kcU(),e.TgZ(21,"mat-menu",null,16)(23,"div",17),e.NdJ("click",function(r){return r.stopPropagation()}),e.TgZ(24,"div",18)(25,"p",19),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"form",20),e._UZ(29,"textarea",21),e.qZA()(),e.TgZ(30,"div",22)(31,"small",23),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()(),e.TgZ(34,"div",24)(35,"button",25),e.NdJ("click",function(){return n.addAllTeacherToGroup()}),e.O4$(),e.TgZ(36,"svg",26),e._UZ(37,"line",27)(38,"line",28),e.qZA(),e.kcU(),e.TgZ(39,"span",29),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()()()()(),e.TgZ(42,"mat-menu",null,30)(44,"div",31),e.NdJ("click",function(r){return r.stopPropagation()}),e.TgZ(45,"div",32),e._UZ(46,"input",33),e.ALo(47,"mytranslate"),e.O4$(),e.TgZ(48,"svg",34),e._UZ(49,"circle",35)(50,"line",36),e.qZA()(),e.kcU(),e.TgZ(51,"div",37)(52,"perfect-scrollbar",38)(53,"div",39),e.YNc(54,Ue,3,4,"div",1),e.YNc(55,De,4,3,"div",40),e.ALo(56,"appFilter"),e.YNc(57,Ne,4,3,"ng-template",null,41,e.W1O),e.qZA()()()()()),2&t){const o=e.MAs(3),r=e.MAs(22),a=e.MAs(58);e.xp6(1),e.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o),e.xp6(6),e.Q6J("matMenuTriggerFor",r),e.xp6(6),e.hij(" ",e.lcZ(14,16,"lang_teacher_group_group_more")," "),e.xp6(6),e.hij(" ",e.lcZ(20,18,"lang_buttom_delete_all")," "),e.xp6(7),e.hij(" ",e.lcZ(27,20,"lang_teacher_group_group_list_phone_teacher")," "),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(4),e.hij("* ",e.lcZ(33,22,"lang_teacher_group_group_note_enter_phone"),"."),e.xp6(8),e.Oqu(e.lcZ(41,24,"lang_buttom_add")),e.xp6(6),e.s9C("placeholder",e.lcZ(47,26,"lang_auto_tim_ten_hoac_sdt")),e.Q6J("formControl",n.searchMemberInGroupKey),e.xp6(6),e.Q6J("config",e.DdM(31,ze))("scrollIndicators",!0),e.xp6(2),e.Q6J("ngIf",null==n.teacherAndGroupObj?null:n.teacherAndGroupObj.teachers)("ngIfElse",a),e.xp6(1),e.Q6J("ngIf",0==e.xi3(56,28,null==n.teacherAndGroupObj?null:n.teacherAndGroupObj.teachers,n.searchMemberInGroupKey.value).length)}},dependencies:[f.sg,f.O5,T.VK,T.OP,T.p6,z.gM,c._Y,c.Fj,c.JJ,c.JL,c.oH,c.sg,c.u,U.Vv,W.Q,K.g,D.M,M.bT,M.gB],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px;color:#000}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),i})();function qe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"input",24),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.clickToPermissionCheckbox())}),e.qZA(),e.TgZ(2,"label",25),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}if(2&i){const t=s.$implicit,n=s.index,o=e.oxw().index;let r;e.Q6J("formGroup",t),e.xp6(1),e.Q6J("id","role_"+o+"_"+n),e.xp6(1),e.Q6J("for","role_"+o+"_"+n),e.xp6(1),e.hij(" ",e.lcZ(4,4,null==(r=t.get("permissionName"))?null:r.value)," ")}}function Le(i,s){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20)(2,"a",21),e._uU(3),e.qZA(),e.YNc(4,qe,5,6,"div",22),e.qZA()()),2&i){const t=s.$implicit,n=e.oxw(2);let o,r,a;e.Q6J("formGroup",t)("hidden",n.isShowClassroomObjsThatHavePermission.value&&!n.listClassroomIdsThatHavePermission.hasOwnProperty(t.get("classroomId").value)),e.xp6(2),e.s9C("matTooltip",null==(o=t.get("classroomName"))?null:o.value),e.xp6(1),e.hij(" ",null==(r=t.get("classroomName"))?null:r.value," "),e.xp6(1),e.Q6J("ngForOf",null==(a=t.get("permissionObjs"))?null:a.controls)}}function Qe(i,s){if(1&i&&(e.TgZ(0,"div",17),e.YNc(1,Le,5,5,"div",18),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngForOf",null==(n=t.form.get("classroomObjs"))?null:n.controls)}}function Fe(i,s){1&i&&(e.TgZ(0,"div",26)(1,"span",27),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_not_data")))}function Be(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",28),e._uU(2,"\xa0"),e.qZA())}let Ye=(()=>{class i extends k.Q{constructor(t,n,o){super(t),this.commonService=t,this.permissionTeamService=n,this.dialog=o,this.classroomObjs=[],this.isShowClassroomObjsThatHavePermission=new c.NI(!1),this.checkAllOrUnCheckAllFormControl=new c.NI(!1),this.form=new c.cw({classroomObjs:new c.Oe([])}),this.viewClassroomObjs=[],this.listClassroomIdsThatHavePermission={}}getClassroomIdsThatHavePermission(){let t={};this.viewClassroomObjs.forEach(n=>{var o,r;let a=null!==(o=null==n?void 0:n.id)&&void 0!==o?o:0;null!==(r=n.teamPermisions)&&void 0!==r&&r.length&&(t[a]=a)}),this.listClassroomIdsThatHavePermission=t}isCheckAllPermissions(){let t=!0;this.viewClassroomObjs.forEach(n=>{var o,r;(null===(o=n.teamPermisions)||void 0===o?void 0:o.length)!=(null===(r=this.teamPermissionObjs)||void 0===r?void 0:r.length)&&(t=!1)}),this.checkAllOrUnCheckAllFormControl.setValue(t)}checkAllPermissions(){this.viewClassroomObjs.forEach(t=>{t.teamPermisions=this.teamPermissionObjs}),this.isShowClassroomObjsThatHavePermission.setValue(!1),this.initFormData()}uncheckAllPermissions(){this.viewClassroomObjs.forEach(t=>{t.teamPermisions=[]}),this.isShowClassroomObjsThatHavePermission.setValue(!1),this.initFormData()}resetData(){this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),this.initFormData(),this.showSuccessSnack("lang_team_teacher_cancel_success")}clickToPermissionCheckbox(){this.convertFormDataToViewClassroomObjs(),this.getClassroomIdsThatHavePermission(),this.isCheckAllPermissions()}convertFormDataToViewClassroomObjs(){var t;let n=this.commonService.getFormObj(this.form),o={};for(let a=0;a<n.classroomObjs.length;a++){let l=n.classroomObjs[a],d=[];for(let u=0;u<l.permissionObjs.length;u++){let g=l.permissionObjs[u];if(g.permissionCheckbox){var r=null===(t=this.teamPermissionObjs)||void 0===t?void 0:t.find(b=>b.id==g.permissionId);r&&d.push(r)}}o[l.classroomId]=this.commonService.myClone(d)}this.viewClassroomObjs.forEach(a=>{a.teamPermisions=a.id&&o.hasOwnProperty(a.id)?o[a.id]:[]})}savePermissionObjs(){var t,n;this.initStatusObj(),this.convertFormDataToViewClassroomObjs();let o=[];if(this.viewClassroomObjs.forEach(r=>{var a,l=null===(a=r.teamPermisions)||void 0===a?void 0:a.map(d=>{var u;return null!==(u=d.id)&&void 0!==u?u:0});l&&l.length>0&&o.push({classId:r.id,permissionIds:l})}),this.groupObj){let r={groupId:null===(t=this.groupObj)||void 0===t?void 0:t.id,classWithPermissions:o};this.permissionTeamService.apiPermisionTeamUpdateGroupPermissionPost(r).subscribe(a=>{1===a.success?this.getDataAgain(l=>{l?this.errorStatusObj(l,!0):this.successStatusObj("lang_auto_cap_nhat_quyen_thanh_cong",!0)}):this.errorStatusObj("lang_auto_cap_nhat_quyen_khong_thanh_cong",!0)})}else{let r={teacherId:null===(n=this.teacherObj)||void 0===n?void 0:n.id,classWithPermissions:o};this.permissionTeamService.apiPermisionTeamUpdateTeacherPermissionPost(r).subscribe(a=>{1===a.success?this.getDataAgain(l=>{l?this.errorStatusObj(l,!0):this.successStatusObj("lang_auto_cap_nhat_quyen_thanh_cong",!0)}):this.errorStatusObj("lang_auto_cap_nhat_quyen_khong_thanh_cong",!0)})}}getDataAgain(t){var n;this.groupObj?(this.initStatusObj(),this.permissionTeamService.apiPermisionTeamGetAllPermisionWithGroupGet(this.groupObj.id).subscribe(o=>{var r,a;1===o.success?(this.classroomObjs=null!==(a=null===(r=o.data)||void 0===r?void 0:r.classroomObjs)&&void 0!==a?a:[],this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),t("")):t("lang_auto_tai_du_lieu_khong_thanh_cong")})):this.permissionTeamService.apiPermisionTeamGetAllPermisionWithMemberGet(null===(n=this.teacherObj)||void 0===n?void 0:n.id).subscribe(o=>{var r,a;1===o.success?(this.classroomObjs=null!==(a=null===(r=o.data)||void 0===r?void 0:r.objs)&&void 0!==a?a:[],this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),t("")):t("lang_auto_tai_du_lieu_khong_thanh_cong")})}initFormData(){var t,n;if(null!=this.teamPermissionObjs){let d=new c.Oe([]);for(var o=0;o<this.viewClassroomObjs.length;o++){let u=this.viewClassroomObjs[o];for(var r=new c.Oe([]),a=0;a<(null===(t=this.teamPermissionObjs)||void 0===t?void 0:t.length);a++){let g=this.teamPermissionObjs[a],b=null===(n=u.teamPermisions)||void 0===n?void 0:n.find(m=>m.id==g.id);r.push(new c.cw({permissionId:new c.NI(g.id),permissionName:new c.NI(g.key),permissionCheckbox:new c.NI(!!b)}))}var l=new c.cw({hidden:new c.NI(!1),classroomId:new c.NI(u.id),classroomName:new c.NI(u.name),permissionObjs:r});d.push(l)}this.form=new c.cw({classroomObjs:d})}}ngOnChanges(){this.viewClassroomObjs=this.commonService.myClone(this.classroomObjs),this.getClassroomIdsThatHavePermission(),this.isCheckAllPermissions(),this.initFormData()}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.v),e.Y36(P.$W),e.Y36(x.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-group-teacher-classroom-permission-box"]],inputs:{groupObj:"groupObj",teacherObj:"teacherObj",classroomObjs:"classroomObjs",teamPermissionObjs:"teamPermissionObjs"},features:[e.qOj,e.TTD],decls:31,vars:22,consts:[[1,"box","p-0","mt-5","rounded-md","border","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center","p-3","border-b","border-slate-200/60","dark:border-darkmode-400","text-slate-500","bg-slate-100","dark:bg-darkmode-300"],[1,"text-md","font-medium","mr-auto"],[1,"flex"],["id","checkbox_role_checkall_or_uncheckall","type","checkbox",1,"show-code","form-check-input",3,"formControl","change"],["for","checkbox_role_checkall_or_uncheckall",1,"form-check-label"],["id","checkbox_role_hiden","type","checkbox",1,"show-code","form-check-input",3,"formControl","change"],["for","checkbox_role_hiden",1,"form-check-label"],[1,"p-5","flex-1"],[3,"formGroup"],["formArrayName","classroomObjs"],["class","grid grid-cols-12 gap-3 sm:gap-6",4,"ngIf","ngIfElse"],["templateElse",""],[1,"mt-5","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-4 md:col-span-4 2xl:col-span-3 mt-3",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-4","md:col-span-4","2xl:col-span-3","mt-3",3,"formGroup","hidden"],[1,"file","box","bg-slate-100","dark:bg-darkmode-300","rounded-md","p-3"],[1,"block","font-medium","truncate",3,"matTooltip"],["class","mt-3","style","display: flex; align-items: flex-start",3,"formGroup",4,"ngFor","ngForOf"],[1,"mt-3",2,"display","flex","align-items","flex-start",3,"formGroup"],["formControlName","permissionCheckbox","type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","change"],[1,"form-check-label","ml-0",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",3)(6,"input",4),e.NdJ("change",function(){return n.checkAllOrUnCheckAllFormControl.value?n.checkAllPermissions():n.uncheckAllPermissions()}),e.qZA(),e._uU(7,"\xa0 "),e.TgZ(8,"label",5),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e._uU(11,"\xa0\xa0\xa0 "),e.TgZ(12,"input",6),e.NdJ("change",function(){return n.getClassroomIdsThatHavePermission()}),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"label",7),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()(),e.TgZ(17,"div",8)(18,"form",9)(19,"div",10),e.YNc(20,Qe,2,1,"div",11),e.YNc(21,Fe,4,3,"ng-template",null,12,e.W1O),e.qZA()()()(),e.TgZ(23,"div",13)(24,"button",14),e.NdJ("click",function(){return n.resetData()}),e._uU(25),e.ALo(26,"mytranslate"),e.qZA(),e.TgZ(27,"button",15),e.NdJ("click",function(){return n.savePermissionObjs()}),e.YNc(28,Be,3,0,"span",16),e._uU(29),e.ALo(30,"mytranslate"),e.qZA()()),2&t){const o=e.MAs(22);e.xp6(3),e.hij(" ",e.lcZ(4,12,"lang_teacher_group_group_decentralization_in_class")," "),e.xp6(3),e.Q6J("formControl",n.checkAllOrUnCheckAllFormControl),e.xp6(3),e.Oqu(e.lcZ(10,14,n.checkAllOrUnCheckAllFormControl.value?"lang_teacher_group_uncheck_all_permission":"lang_teacher_group_check_all_permission")),e.xp6(3),e.Q6J("formControl",n.isShowClassroomObjsThatHavePermission),e.xp6(3),e.Oqu(e.lcZ(16,16,"lang_teacher_group_group_vew_class_have_permission")),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("ngIf",n.classroomObjs.length>0)("ngIfElse",o),e.xp6(5),e.hij(" ",e.lcZ(26,18,"lang_buttom_cancel")," "),e.xp6(2),e.Q6J("disabled",n.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!0===n.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(30,20,"lang_buttom_save")," ")}},dependencies:[f.sg,f.O5,z.gM,c._Y,c.Wl,c.JJ,c.JL,c.oH,c.sg,c.u,c.CE,D.M,M.bT],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px;color:#000}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),i})();const $e=["perfectScroll"],Ee=["drawer"];function Re(i,s){1&i&&e._UZ(0,"azt-loading-effect")}const V=function(i){return{"class-active":i}};function He(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.clickGroup(r,!0))}),e.TgZ(1,"div",45),e.O4$(),e.TgZ(2,"svg",46),e._UZ(3,"path",8)(4,"circle",9)(5,"path",47)(6,"path",48),e.qZA()(),e.kcU(),e.TgZ(7,"div",49)(8,"div",50)(9,"div",51),e._uU(10),e.qZA()()(),e.TgZ(11,"div",52)(12,"button",53),e.NdJ("click",function(o){return o.stopPropagation()}),e.O4$(),e.TgZ(13,"svg",54),e._UZ(14,"circle",55)(15,"circle",56)(16,"circle",57),e.qZA()(),e.kcU(),e.TgZ(17,"mat-menu",null,58)(19,"div",5)(20,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.deleteGroupDialog(r))}),e.O4$(),e.TgZ(21,"svg",59),e._UZ(22,"polyline",60)(23,"path",61),e.qZA(),e.kcU(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()(),e.TgZ(27,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.editGroup(r))}),e.O4$(),e.TgZ(28,"svg",62),e._UZ(29,"path",63)(30,"path",64),e.qZA(),e.kcU(),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()()()()}if(2&i){const t=s.$implicit,n=e.MAs(18),o=e.oxw(3);e.Q6J("ngClass",e.VKq(10,V,t.id==o.idParam&&0==o.typeParam))("id","group_id_"+t.id),e.xp6(10),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("matMenuTriggerFor",n),e.xp6(13),e.Oqu(e.lcZ(26,6,"lang_buttom_delete")),e.xp6(7),e.Oqu(e.lcZ(33,8,"lang_buttom_edit"))}}function We(i,s){1&i&&(e.TgZ(0,"span",73),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",74),e._UZ(3,"polyline",75)(4,"path",76),e.qZA()()),2&i&&e.s9C("matTooltip",e.lcZ(1,1,"lang_auto_chua_dang_ky"))}function Ke(i,s){if(1&i&&(e.TgZ(0,"div",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.phone," ")}}function Ve(i,s){if(1&i&&(e.TgZ(0,"div",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Xe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",65),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.clickUser(r,!0))}),e.TgZ(1,"div",45),e._UZ(2,"azt-create-avatar",66),e.qZA(),e.TgZ(3,"div",67)(4,"div",68)(5,"span",69),e._uU(6),e.qZA(),e.YNc(7,We,5,3,"span",70),e.qZA(),e.YNc(8,Ke,2,1,"div",71),e.YNc(9,Ve,2,1,"div",71),e.qZA(),e.TgZ(10,"div",52)(11,"button",53),e.NdJ("click",function(o){return o.stopPropagation()}),e.O4$(),e.TgZ(12,"svg",54),e._UZ(13,"circle",55)(14,"circle",56)(15,"circle",57),e.qZA()(),e.kcU(),e.TgZ(16,"mat-menu",null,58)(18,"div",5)(19,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.editTeacher(r))}),e.O4$(),e.TgZ(20,"svg",62),e._UZ(21,"path",63)(22,"path",64),e.qZA(),e.kcU(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()(),e.TgZ(26,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.deleteTeacherDialog(r))}),e.TgZ(27,"span",72),e.O4$(),e.TgZ(28,"svg",59),e._UZ(29,"polyline",60)(30,"path",61),e.qZA(),e.kcU(),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()()()()()}if(2&i){const t=s.$implicit,n=e.MAs(17),o=e.oxw(3);e.Q6J("ngClass",e.VKq(17,V,t.id==o.idParam&&1==o.typeParam))("id","teacher_id_"+t.id),e.xp6(2),e.MGl("matTooltip","id: ",t.teacherId,""),e.Q6J("nameCreateAvatar",t.fullName)("size",35),e.xp6(3),e.s9C("matTooltip",t.fullName),e.xp6(1),e.Oqu(t.fullName),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(1),e.Q6J("ngIf",t.phone),e.xp6(1),e.Q6J("ngIf",t.email),e.xp6(2),e.Q6J("matMenuTriggerFor",n),e.xp6(13),e.Oqu(e.lcZ(25,13,"lang_buttom_edit")),e.xp6(8),e.Oqu(e.lcZ(33,15,"lang_buttom_delete"))}}function et(i,s){if(1&i&&(e.TgZ(0,"div",41),e.YNc(1,He,34,12,"div",42),e.ALo(2,"appFilter"),e.YNc(3,Xe,34,19,"div",43),e.ALo(4,"appFilter"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,null==t.teacherAndGroupObj?null:t.teacherAndGroupObj.groups,t.searchTeacherKey.value)),e.xp6(2),e.Q6J("ngForOf",e.xi3(4,5,null==t.teacherAndGroupObj?null:t.teacherAndGroupObj.teachers,t.searchTeacherKey.value))}}function tt(i,s){1&i&&(e.TgZ(0,"div",78)(1,"span",79),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_teacher_group_group_note_not_found_group_and_teacher")))}function nt(i,s){1&i&&(e.TgZ(0,"div",80),e._UZ(1,"azt-loading-effect"),e.qZA())}function ot(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openDrawer())}),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",82),e._UZ(3,"rect",83)(4,"path",84)(5,"path",85),e.qZA()()}2&i&&e.s9C("matTooltip",e.lcZ(1,1,"lang_auto_mo_menu"))}function it(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.closeDrawer())}),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",82),e._UZ(3,"rect",83)(4,"path",84)(5,"path",86),e.qZA()()}2&i&&e.s9C("matTooltip",e.lcZ(1,1,"lang_auto_dong_menu"))}function rt(i,s){if(1&i&&e._UZ(0,"app-teacher-group-member-in-group-box",87),2&i){const t=e.oxw(2);e.Q6J("groupObj",t.groupObj)("teacherAndGroupObj",t.teacherAndGroupObj)("teacherObjsInGroup",t.teacherObjsInGroup)}}const at=function(i,s){return{"w-85":i,"w-25":s}},st=function(){return{suppressScrollX:!0}},lt=function(i){return{"ml-5":i}};function ct(i,s){if(1&i&&(e.TgZ(0,"div",14)(1,"mat-drawer-container",15)(2,"mat-drawer",16,17)(4,"div",18)(5,"div",19)(6,"div",20),e._UZ(7,"input",21),e.ALo(8,"mytranslate"),e.O4$(),e.TgZ(9,"svg",22),e._UZ(10,"circle",23)(11,"line",24),e.qZA()(),e.kcU(),e.TgZ(12,"button",25,26),e.O4$(),e.TgZ(14,"svg",27),e._UZ(15,"line",12)(16,"line",13),e.qZA()()(),e.kcU(),e.TgZ(17,"div",28)(18,"perfect-scrollbar",29,30),e.YNc(20,et,5,8,"div",31),e.YNc(21,tt,4,3,"ng-template",null,32,e.W1O),e.qZA()()()(),e.TgZ(23,"mat-drawer-content")(24,"div",33),e.YNc(25,nt,2,0,"div",34),e.TgZ(26,"div",35),e.YNc(27,ot,6,3,"button",36),e.YNc(28,it,6,3,"button",36),e.qZA(),e.TgZ(29,"div",37),e.YNc(30,rt,1,3,"app-teacher-group-member-in-group-box",38),e._UZ(31,"app-group-teacher-classroom-permission-box",39),e.qZA()()()()(),e._UZ(32,"azt-scroll-to-top-bottom",40)),2&i){const t=e.MAs(22),n=e.oxw(),o=e.MAs(6);e.xp6(1),e.Q6J("hasBackdrop",n.hasBackdrop),e.xp6(1),e.s9C("opened",n.isOpenSideNav?"true":"false"),e.Q6J("ngClass",e.WLB(23,at,n.isMobile,!n.isMobile))("mode",n.mode),e.xp6(5),e.s9C("placeholder",e.lcZ(8,21,"lang_auto_tim_ten_hoac_sdt")),e.Q6J("formControl",n.searchTeacherKey),e.xp6(5),e.Q6J("matMenuTriggerFor",o),e.xp6(6),e.Q6J("config",e.DdM(26,st))("scrollIndicators",!0),e.xp6(2),e.Q6J("ngIf",(null==n.teacherAndGroupObj||null==n.teacherAndGroupObj.groups?null:n.teacherAndGroupObj.groups.length)||(null==n.teacherAndGroupObj||null==n.teacherAndGroupObj.teachers?null:n.teacherAndGroupObj.teachers.length))("ngIfElse",t),e.xp6(4),e.Q6J("ngClass",e.VKq(27,lt,!n.isMobile&&n.isOpenSideNav)),e.xp6(1),e.Q6J("ngIf",n.isLoadingData),e.xp6(2),e.Q6J("ngIf",!n.isOpenSideNav||n.isMobile),e.xp6(1),e.Q6J("ngIf",n.isOpenSideNav&&!n.isMobile),e.xp6(2),e.Q6J("ngIf",0==n.typeParam),e.xp6(1),e.Q6J("groupObj",n.groupObj)("teacherObj",n.teacherObj)("classroomObjs",n.classroomObjs)("teamPermissionObjs",n.teamPermissionObjs),e.xp6(1),e.Q6J("isScrollToTop",!0)}}let X=(()=>{class i extends k.Q{constructor(t,n,o,r,a,l,d){super(n),this.activeRoute=t,this.commonService=n,this.teacherGroupService=o,this.permissionTeamService=r,this.sortService=a,this.dialog=l,this.aztTeacherGroupService=d,this.isLoadingData=!1,this.typeParam=0,this.idParam=0,this.searchTeacherKey=new c.p4(""),this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.isMobile=this.commonService.isMobileOrTable(),this.willScrollToCurrentElement=!1,this.classroomObjs=[],this.aztTeacherGroupService.currentMessage.subscribe(()=>{this.getDataAgain(void 0)})}openDrawer(){var t;null===(t=this.drawer)||void 0===t||t.open(),this.isOpenSideNav=!0}closeDrawer(){var t;null===(t=this.drawer)||void 0===t||t.close(),this.isOpenSideNav=!1}toggleShowActions(){this.isShowActions=!this.isShowActions}addTeacher(){this.dataAddTeacherDialog={type:"add_teacher"},this.controlDialogAddTeacher()}editTeacher(t){this.dataAddTeacherDialog={teacherObj:t,type:"edit_teacher"},this.controlDialogAddTeacher()}editGroup(t){this.dataAddGroupDialog={groupObj:t,type:"edit_group"},this.controlDialogAddGroup()}addGroup(){this.dataAddGroupDialog={type:"add_group"},this.controlDialogAddGroup()}controlDialogAddGroup(){var t;this.dialog.open(_e,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{obj:null===(t=this.dataAddGroupDialog)||void 0===t?void 0:t.groupObj}}).afterClosed().subscribe(o=>{null!=o&&(this.initStatusObj(),this.getTeacherAndGroupObjs(r=>{var a,l;if(r)this.errorStatusObj(r,!0);else{this.stopStatusObj();var d=o?null===(l=null===(a=this.teacherAndGroupObj)||void 0===a?void 0:a.groups)||void 0===l?void 0:l.find(u=>u.id==o):void 0;d?this.clickGroup(d,!1):this.checkUseDefaultForRouter()}}))})}controlDialogAddTeacher(){var t;this.dialog.open(be.u,{width:"600px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{obj:null===(t=this.dataAddTeacherDialog)||void 0===t?void 0:t.teacherObj}}).afterClosed().subscribe(o=>{void 0!==o&&this.getDataAgain(o)})}clickGroup(t,n){this.isMobile&&this.closeDrawer(),this.groupObj=t,this.teacherObj=void 0,t.id==this.idParam?this.getDataWhenRouterChanged():this.commonService.myNavigation("/admin/teacher-group/0/"+t.id),this.willScrollToCurrentElement=!n}clickUser(t,n){this.isMobile&&this.closeDrawer(),this.groupObj=void 0,this.teacherObj=t,t.id==this.idParam?this.getDataWhenRouterChanged():this.commonService.myNavigation("/admin/teacher-group/1/"+t.id),this.willScrollToCurrentElement=!n}getGroupPermissionObjs(t){t?(this.isLoadingData=!0,this.permissionTeamService.apiPermisionTeamGetAllPermisionWithGroupGet(t).subscribe(n=>{var o,r,a,l;1===n.success?(this.teacherObjsInGroup=this.sortService.sortFirstNameStudents(null!==(r=this.commonService.myClone(null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.teacherObjs))&&void 0!==r?r:[]),this.classroomObjs=null!==(l=null===(a=n.data)||void 0===a?void 0:a.classroomObjs)&&void 0!==l?l:[],this.isLoadingData=!1):(this.showErrorSnack("lang_auto_tai_du_lieu_khong_thanh_cong"),this.isLoadingData=!1)})):this.isLoadingData=!1}getTeacherPermissionObjs(t){t?(this.isLoadingData=!0,this.permissionTeamService.apiPermisionTeamGetAllPermisionWithMemberGet(t).subscribe(n=>{var o,r;1===n.success?(this.classroomObjs=null!==(r=null===(o=n.data)||void 0===o?void 0:o.objs)&&void 0!==r?r:[],this.isLoadingData=!1):(this.showErrorSnack("lang_auto_tai_du_lieu_khong_thanh_cong"),this.isLoadingData=!1)})):this.isLoadingData=!1}scrollToCurrentElement(){var t,n,o,r,a,l,d,u;if(this.willScrollToCurrentElement){let g;this.willScrollToCurrentElement=!1,g=0==this.typeParam?null===(o=document.getElementById("group_id_"+(null!==(n=null===(t=this.groupObj)||void 0===t?void 0:t.id)&&void 0!==n?n:0)))||void 0===o?void 0:o.offsetTop:null===(l=document.getElementById("teacher_id_"+(null!==(a=null===(r=this.teacherObj)||void 0===r?void 0:r.id)&&void 0!==a?a:0)))||void 0===l?void 0:l.offsetTop,null!=g&&(null===(u=null===(d=this.perfectScroll)||void 0===d?void 0:d.directiveRef)||void 0===u||u.scrollToTop(g))}}viewDeleteDialog(t){this.dialog.open(R,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:t}).afterClosed().subscribe(o=>{var r,a,l,d,u,g;if(o)switch(o.type){case"delete_group":!(null===(r=this.teacherAndGroupObj)||void 0===r)&&r.groups&&(this.teacherAndGroupObj.groups=null===(l=null===(a=this.teacherAndGroupObj)||void 0===a?void 0:a.groups)||void 0===l?void 0:l.filter(b=>{var m;return b.id!=(null===(m=t.groupObj)||void 0===m?void 0:m.id)})),this.checkUseDefaultForRouter();break;case"delete_teacher":!(null===(d=this.teacherAndGroupObj)||void 0===d)&&d.teachers&&(this.teacherAndGroupObj.teachers=null===(g=null===(u=this.teacherAndGroupObj)||void 0===u?void 0:u.teachers)||void 0===g?void 0:g.filter(b=>{var m;return b.id!=(null===(m=t.teacherObj)||void 0===m?void 0:m.id)})),this.checkUseDefaultForRouter()}})}deleteTeacherDialog(t){this.viewDeleteDialog({teacherObj:t,index:0,type:"delete_teacher"})}deleteGroupDialog(t){this.viewDeleteDialog({groupObj:t,index:0,type:"delete_group"})}checkUseDefaultForRouter(){var t,n,o,r,a,l,d,u,g,b,m,_,h,y,A,J,q,L,Q,F,B,Y,$,E;if(0==this.typeParam){var ee=null===(n=null===(t=this.teacherAndGroupObj)||void 0===t?void 0:t.groups)||void 0===n?void 0:n.find(gt=>gt.id==this.idParam);if(ee)return void this.clickGroup(ee,!1);if(Z=(null!==(a=null===(r=null===(o=this.teacherAndGroupObj)||void 0===o?void 0:o.groups)||void 0===r?void 0:r.length)&&void 0!==a?a:0)>0?null===(d=null===(l=this.teacherAndGroupObj)||void 0===l?void 0:l.groups)||void 0===d?void 0:d[0]:void 0)return void this.clickGroup(Z,!1);if(G=(null!==(b=null===(g=null===(u=this.teacherAndGroupObj)||void 0===u?void 0:u.teachers)||void 0===g?void 0:g.length)&&void 0!==b?b:0)>0?null===(_=null===(m=this.teacherAndGroupObj)||void 0===m?void 0:m.teachers)||void 0===_?void 0:_[0]:void 0)return void this.clickUser(G,!1)}else{var G,Z,te=null===(y=null===(h=this.teacherAndGroupObj)||void 0===h?void 0:h.teachers)||void 0===y?void 0:y.find(ht=>ht.id==this.idParam);if(te)return void this.clickUser(te,!1);if(G=(null!==(q=null===(J=null===(A=this.teacherAndGroupObj)||void 0===A?void 0:A.teachers)||void 0===J?void 0:J.length)&&void 0!==q?q:0)>0?null===(Q=null===(L=this.teacherAndGroupObj)||void 0===L?void 0:L.teachers)||void 0===Q?void 0:Q[0]:void 0)return void this.clickUser(G,!1);if(Z=(null!==(Y=null===(B=null===(F=this.teacherAndGroupObj)||void 0===F?void 0:F.groups)||void 0===B?void 0:B.length)&&void 0!==Y?Y:0)>0?null===(E=null===($=this.teacherAndGroupObj)||void 0===$?void 0:$.groups)||void 0===E?void 0:E[0]:void 0)return void this.clickGroup(Z,!1)}}getDataWhenRouterChanged(){this.stopStatusObj(),0==this.typeParam?this.getGroupPermissionObjs(this.idParam):this.getTeacherPermissionObjs(this.idParam)}getDataAgain(t){this.initStatusObj(),this.getTeacherAndGroupObjs(n=>{var o,r;if(n)this.errorStatusObj(n,!0);else{this.stopStatusObj();var a=t?null===(r=null===(o=this.teacherAndGroupObj)||void 0===o?void 0:o.teachers)||void 0===r?void 0:r.find(l=>l.id==t):void 0;a?this.clickUser(a,!1):this.checkUseDefaultForRouter()}})}getPermissionObjs(t){this.permissionTeamService.apiPermisionTeamGetAllPermisionsGet(1).subscribe(o=>{var r;1===o.success?(this.teamPermissionObjs=null===(r=o.data)||void 0===r?void 0:r.objs,t("")):t("lang_auto_tai_du_lieu_khong_thanh_cong")})}getTeacherAndGroupObjs(t){this.teacherGroupService.apiTeacherGroupGetObjsGet().subscribe(n=>{var o,r;1===n.success?(this.teacherAndGroupObj=n.data,null!=(null===(o=this.teacherAndGroupObj)||void 0===o?void 0:o.teachers)&&(this.teacherAndGroupObj.teachers=this.sortService.sortFirstNameStudents(this.teacherAndGroupObj.teachers)),t("")):t(null!==(r=n.message)&&void 0!==r?r:"")})}getInitData(t){this.getPermissionObjs(n=>{n?t(n):this.getTeacherAndGroupObjs(o=>{o?t(o):(this.checkUseDefaultForRouter(),t(""))})})}listenRouterChange(){var t=!1;(0,ce.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.typeParam=Number(this.commonService.getMyParam(this.activeRoute,"type")),this.idParam=Number(this.commonService.getMyParam(this.activeRoute,"id")),t&&this.getDataWhenRouterChanged()}),this.initStatusObj(),this.getInitData(n=>{n?(this.errorStatusObj(n,!0),this.isLoadingData=!1):(this.stopStatusObj(),t=!0)})}ngAfterViewChecked(){this.scrollToCurrentElement()}ngOnInit(){this.listenRouterChange(),this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(w.gz),e.Y36(j.v),e.Y36(P.Kq),e.Y36(P.$W),e.Y36(H.K),e.Y36(x.uw),e.Y36(Pe.d))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-group-teacher"]],viewQuery:function(t,n){if(1&t&&(e.Gf($e,5),e.Gf(Ee,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.perfectScroll=o.first),e.iGM(o=e.CRH())&&(n.drawer=o.first)}},features:[e.qOj],decls:22,vars:12,consts:[[3,"headerBackTolink","headerTitle"],[4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuAddToList","matMenu"],[1,"box","p-2"],["mat-menu-item","",1,"setting_options",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"azt-result-list","mb-5"],[1,"azt-drawer-container","mt-5",2,"overflow","auto","height","auto",3,"hasBackdrop"],[1,"azt-draw-left-container",3,"ngClass","mode","opened"],["drawer",""],[1,"box"],[1,"flex","text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400","p-2"],[1,"azt-search","relative","w-full","mr-3"],["type","text",1,"form-control","py-2","px-4","border-transparent","bg-slate-100","pr-10",3,"placeholder","formControl"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search","data-lucide","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","mr-3","right-0"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[1,"btn","btn-sm","btn-secondary","px-2",3,"matMenuTriggerFor"],["menuAdd","matMenuTrigger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],[1,"pb-3",2,"height","85vh"],[3,"config","scrollIndicators"],["perfectScroll",""],["class","p-3",4,"ngIf","ngIfElse"],["blockElse",""],[1,"azt-drawer-content",3,"ngClass"],["class","azt-overlay-div","style","width: calc(100% - 1.25rem)",4,"ngIf"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"box","relative","p-3",2,"height","80%"],[3,"groupObj","teacherAndGroupObj","teacherObjsInGroup",4,"ngIf"],[3,"groupObj","teacherObj","classroomObjs","teamPermissionObjs"],[3,"isScrollToTop"],[1,"p-3"],["class","hover:bg-slate-100 cursor-pointer h-10 relative rounded flex items-center mb-4",3,"ngClass","id","click",4,"ngFor","ngForOf"],["class","hover:bg-slate-100 cursor-pointer rounded h-10 relative flex items-center mt-4",3,"ngClass","id","click",4,"ngFor","ngForOf"],[1,"hover:bg-slate-100","cursor-pointer","h-10","relative","rounded","flex","items-center","mb-4",3,"ngClass","id","click"],[1,"flex-none","image-fit","ml-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"rounded-full","w-8","h-8","text-primary"],["d","M22 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"ml-2","overflow-hidden"],[1,"flex","items-center"],[1,"font-medium"],[1,"dropdown","ml-auto",2,"height","20px"],["aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],["menu","matMenu"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],[1,"hover:bg-slate-100","cursor-pointer","rounded","h-10","relative","flex","items-center","mt-4",3,"ngClass","id","click"],[3,"matTooltip","nameCreateAvatar","size"],[1,"ml-2","overflow-hidden","pt-2",2,"width","100%"],[1,"flex","items-center","font-medium"],[1,"truncate",2,"max-width","90%",3,"matTooltip"],["class","text-pending mx-1",3,"matTooltip",4,"ngIf"],["class","w-full truncate text-xs text-slate-500 mt-0.5",4,"ngIf"],[1,"text-danger"],[1,"text-pending","mx-1",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","check-square","data-lucide","check-square",1,"lucide-check-square","w-4","h-4","mr-2"],["points","9 11 12 14 22 4"],["d","M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"],[1,"w-full","truncate","text-xs","text-slate-500","mt-0.5"],[1,"text-center","p-3"],[1,"note-text"],[1,"azt-overlay-div",2,"width","calc(100% - 1.25rem)"],[1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["d","m16 15-3-3 3-3"],[3,"groupObj","teacherAndGroupObj","teacherObjsInGroup"]],template:function(t,n){if(1&t&&(e.TgZ(0,"teacher-layout",0),e.ALo(1,"mytranslate"),e.YNc(2,Re,1,0,"azt-loading-effect",1),e.YNc(3,ct,33,29,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(5,"mat-menu",3,4)(7,"div",5)(8,"button",6),e.NdJ("click",function(){return n.addTeacher()}),e.O4$(),e.TgZ(9,"svg",7),e._UZ(10,"path",8)(11,"circle",9)(12,"line",10)(13,"line",11),e.qZA(),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(16,"button",6),e.NdJ("click",function(){return n.addGroup()}),e.O4$(),e.TgZ(17,"svg",7),e._UZ(18,"line",12)(19,"line",13),e.qZA(),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()),2&t){const o=e.MAs(4);e.Q6J("headerBackTolink","/admin/dashboard")("headerTitle",e.lcZ(1,6,"lang_teacher_group_group_header_title")),e.xp6(2),e.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o),e.xp6(12),e.hij(" ",e.lcZ(15,8,"lang_teacher_group_group_add_student")," "),e.xp6(6),e.hij(" ",e.lcZ(21,10,"lang_teacher_group_group_add_group_teacher")," ")}},dependencies:[f.mk,f.sg,f.O5,T.VK,T.OP,T.p6,N.jA,N.kh,N.LW,z.gM,c.Fj,c.JJ,c.oH,U.Vv,W.Q,K.g,Me.M,we._,Je,Ye,M.bT,M.gB],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px;color:#000}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),i})();const dt=[{path:"",component:X,canActivate:[le.J],children:[{path:"",component:X}]}];let pt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[w.Bz.forChild(dt),w.Bz,se.fQ]}),i})(),ut=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[w.Bz,f.ez,re.j,C.Z_,c.u5,c.UX,x.Is,ie.Z,v.xC,O.QG,pt,U.Xd,oe.W,ae.d,S.qyJ.pick(S.ciZ)]}),i})()}}]);